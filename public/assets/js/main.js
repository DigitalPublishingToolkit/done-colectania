/* interact.js v1.3.0 | https://raw.github.com/taye/interact.js/master/LICENSE */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.interact=t()}}(function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=n[s]={exports:{}};e[s][0].call(p.exports,function(t){var n=e[s][1][t];return i(n||t)},p,p.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";"undefined"==typeof window?e.exports=function(e){return t("./src/utils/window").init(e),t("./src/index")}:e.exports=t("./src/index")},{"./src/index":19,"./src/utils/window":51}],2:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r;r=e[n];var i=r;if(t.immediatePropagationStopped)break;i(t)}}var o=t("./utils/extend.js"),s=function(){function t(e){r(this,t),this.options=o({},e||{})}return t.prototype.fire=function(t){var e=void 0,n="on"+t.type,r=this.global;(e=this[t.type])&&i(t,e),this[n]&&this[n](t),!t.propagationStopped&&r&&(e=r[t.type])&&i(t,e)},t.prototype.on=function(t,e){this[t]?this[t].push(e):this[t]=[e]},t.prototype.off=function(t,e){var n=this[t],r=n?n.indexOf(e):-1;-1!==r&&n.splice(r,1),(n&&0===n.length||!e)&&(this[t]=void 0)},t}();e.exports=s},{"./utils/extend.js":40}],3:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=t("./utils/extend"),o=t("./utils/getOriginXY"),s=t("./defaultOptions"),a=t("./utils/Signals").new(),c=function(){function t(e,n,c,l,p,u){var d=arguments.length>6&&void 0!==arguments[6]&&arguments[6];r(this,t);var f=e.target,v=(f&&f.options||s).deltaSource,g=o(f,p,c),h="start"===l,m="end"===l,y=h?e.startCoords:e.curCoords,x=e.prevEvent;p=p||e.element;var b=i({},y.page),w=i({},y.client);b.x-=g.x,b.y-=g.y,w.x-=g.x,w.y-=g.y,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.button=n.button,this.buttons=n.buttons,this.target=p,this.currentTarget=p,this.relatedTarget=u||null,this.preEnd=d,this.type=c+(l||""),this.interaction=e,this.interactable=f,this.t0=h?e.downTimes[e.downTimes.length-1]:x.t0;var E={interaction:e,event:n,action:c,phase:l,element:p,related:u,page:b,client:w,coords:y,starting:h,ending:m,deltaSource:v,iEvent:this};a.fire("set-xy",E),m?(this.pageX=x.pageX,this.pageY=x.pageY,this.clientX=x.clientX,this.clientY=x.clientY):(this.pageX=b.x,this.pageY=b.y,this.clientX=w.x,this.clientY=w.y),this.x0=e.startCoords.page.x-g.x,this.y0=e.startCoords.page.y-g.y,this.clientX0=e.startCoords.client.x-g.x,this.clientY0=e.startCoords.client.y-g.y,a.fire("set-delta",E),this.timeStamp=y.timeStamp,this.dt=e.pointerDelta.timeStamp,this.duration=this.timeStamp-this.t0,this.speed=e.pointerDelta[v].speed,this.velocityX=e.pointerDelta[v].vx,this.velocityY=e.pointerDelta[v].vy,this.swipe=m||"inertiastart"===l?this.getSwipe():null,a.fire("new",E)}return t.prototype.getSwipe=function(){var t=this.interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;var e=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;e<0&&(e+=360);var n=112.5<=e&&e<247.5,r=202.5<=e&&e<337.5,i=!n&&(292.5<=e||e<67.5);return{up:r,down:!r&&22.5<=e&&e<157.5,left:n,right:i,angle:e,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}},t.prototype.preventDefault=function(){},t.prototype.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}();a.on("set-delta",function(t){var e=t.iEvent,n=t.interaction,r=t.starting,i=t.deltaSource,o=r?e:n.prevEvent;"client"===i?(e.dx=e.clientX-o.clientX,e.dy=e.clientY-o.clientY):(e.dx=e.pageX-o.pageX,e.dy=e.pageY-o.pageY)}),c.signals=a,e.exports=c},{"./defaultOptions":18,"./utils/Signals":34,"./utils/extend":40,"./utils/getOriginXY":41}],4:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=t("./utils/is"),o=t("./utils/events"),s=t("./utils/extend"),a=t("./actions/base"),c=t("./scope"),l=t("./Eventable"),p=t("./defaultOptions"),u=t("./utils/Signals").new(),d=t("./utils/domUtils"),f=d.getElementRect,v=d.nodeContains,g=d.trySelector,h=d.matchesSelector,m=t("./utils/window"),y=m.getWindow,x=t("./utils/arr"),b=x.contains,w=t("./utils/browser"),E=w.wheelEvent;c.interactables=[];var T=function(){function t(e,n){r(this,t),n=n||{},this.target=e,this.events=new l,this._context=n.context||c.document,this._win=y(g(e)?this._context:e),this._doc=this._win.document,u.fire("new",{target:e,options:n,interactable:this,win:this._win}),c.addDocument(this._doc,this._win),c.interactables.push(this),this.set(n)}return t.prototype.setOnEvents=function(t,e){var n="on"+t;return i.function(e.onstart)&&(this.events[n+"start"]=e.onstart),i.function(e.onmove)&&(this.events[n+"move"]=e.onmove),i.function(e.onend)&&(this.events[n+"end"]=e.onend),i.function(e.oninertiastart)&&(this.events[n+"inertiastart"]=e.oninertiastart),this},t.prototype.setPerAction=function(t,e){for(var n in e)n in p[t]&&(i.object(e[n])?(this.options[t][n]=s(this.options[t][n]||{},e[n]),i.object(p.perAction[n])&&"enabled"in p.perAction[n]&&(this.options[t][n].enabled=!1!==e[n].enabled)):i.bool(e[n])&&i.object(p.perAction[n])?this.options[t][n].enabled=e[n]:void 0!==e[n]&&(this.options[t][n]=e[n]))},t.prototype.getRect=function(t){return t=t||this.target,i.string(this.target)&&!i.element(t)&&(t=this._context.querySelector(this.target)),f(t)},t.prototype.rectChecker=function(t){return i.function(t)?(this.getRect=t,this):null===t?(delete this.options.getRect,this):this.getRect},t.prototype._backCompatOption=function(t,e){if(g(e)||i.object(e)){this.options[t]=e;for(var n=0;n<a.names.length;n++){var r;r=a.names[n];var o=r;this.options[o][t]=e}return this}return this.options[t]},t.prototype.origin=function(t){return this._backCompatOption("origin",t)},t.prototype.deltaSource=function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource},t.prototype.context=function(){return this._context},t.prototype.inContext=function(t){return this._context===t.ownerDocument||v(this._context,t)},t.prototype.fire=function(t){return this.events.fire(t),this},t.prototype._onOffMultiple=function(t,e,n,r){if(i.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),i.array(e)){for(var o=0;o<e.length;o++){var s;s=e[o];var a=s;this[t](a,n,r)}return!0}if(i.object(e)){for(var c in e)this[t](c,e[c],n);return!0}},t.prototype.on=function(e,n,r){return this._onOffMultiple("on",e,n,r)?this:("wheel"===e&&(e=E),b(t.eventTypes,e)?this.events.on(e,n):i.string(this.target)?o.addDelegate(this.target,this._context,e,n,r):o.add(this.target,e,n,r),this)},t.prototype.off=function(e,n,r){return this._onOffMultiple("off",e,n,r)?this:("wheel"===e&&(e=E),b(t.eventTypes,e)?this.events.off(e,n):i.string(this.target)?o.removeDelegate(this.target,this._context,e,n,r):o.remove(this.target,e,n,r),this)},t.prototype.set=function(e){i.object(e)||(e={}),this.options=s({},p.base);var n=s({},p.perAction);for(var r in a.methodDict){var o=a.methodDict[r];this.options[r]=s({},p[r]),this.setPerAction(r,n),this[o](e[r])}for(var c=0;c<t.settingsMethods.length;c++){var l;l=t.settingsMethods[c];var d=l;this.options[d]=p.base[d],d in e&&this[d](e[d])}return u.fire("set",{options:e,interactable:this}),this},t.prototype.unset=function(){if(o.remove(this.target,"all"),i.string(this.target))for(var t in o.delegatedEvents){var e=o.delegatedEvents[t];e.selectors[0]===this.target&&e.contexts[0]===this._context&&(e.selectors.splice(0,1),e.contexts.splice(0,1),e.listeners.splice(0,1),e.selectors.length||(e[t]=null)),o.remove(this._context,t,o.delegateListener),o.remove(this._context,t,o.delegateUseCapture,!0)}else o.remove(this,"all");u.fire("unset",{interactable:this}),c.interactables.splice(c.interactables.indexOf(this),1);for(var n=0;n<(c.interactions||[]).length;n++){var r;r=(c.interactions||[])[n];var s=r;s.target===this&&s.interacting()&&s.stop()}return c.interact},t}();c.interactables.indexOfElement=function(t,e){e=e||c.document;for(var n=0;n<this.length;n++){var r=this[n];if(r.target===t&&r._context===e)return n}return-1},c.interactables.get=function(t,e,n){var r=this[this.indexOfElement(t,e&&e.context)];return r&&(i.string(t)||n||r.inContext(t))?r:null},c.interactables.forEachMatch=function(t,e){for(var n=0;n<this.length;n++){var r;r=this[n];var o=r,s=void 0;if((i.string(o.target)?i.element(t)&&h(t,o.target):t===o.target)&&o.inContext(t)&&(s=e(o)),void 0!==s)return s}},T.eventTypes=c.eventTypes=[],T.signals=u,T.settingsMethods=["deltaSource","origin","preventDefault","rectChecker"],e.exports=T},{"./Eventable":2,"./actions/base":6,"./defaultOptions":18,"./scope":33,"./utils/Signals":34,"./utils/arr":35,"./utils/browser":36,"./utils/domUtils":38,"./utils/events":39,"./utils/extend":40,"./utils/is":45,"./utils/window":51}],5:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return function(e){var n=c.getPointerType(e),r=c.getEventTargets(e),i=r[0],o=r[1],s=[];if(p.supportsTouch&&/touch/.test(e.type)){h=(new Date).getTime();for(var l=0;l<e.changedTouches.length;l++){var u;u=e.changedTouches[l];var f=u,v=f,g=d.search(v,e.type,i);s.push([v,g||new m({pointerType:n})])}}else{var y=!1;if(!p.supportsPointerEvent&&/mouse/.test(e.type)){for(var x=0;x<a.interactions.length&&!y;x++)y="mouse"!==a.interactions[x].pointerType&&a.interactions[x].pointerIsDown;y=y||(new Date).getTime()-h<500||0===e.timeStamp}if(!y){var b=d.search(e,e.type,i);b||(b=new m({pointerType:n})),s.push([e,b])}}for(var w=0;w<s.length;w++){var E=s[w],T=E[0],S=E[1];S._updateEventTargets(i,o),S[t](T,e,i,o)}}}function o(t){for(var e=0;e<a.interactions.length;e++){var n;n=a.interactions[e];var r=n;r.end(t),f.fire("endall",{event:t,interaction:r})}}function s(t,e){var n=t.doc,r=0===e.indexOf("add")?l.add:l.remove;for(var i in a.delegatedEvents)r(n,i,l.delegateListener),r(n,i,l.delegateUseCapture,!0);for(var o in b)r(n,o,b[o])}var a=t("./scope"),c=t("./utils"),l=t("./utils/events"),p=t("./utils/browser"),u=t("./utils/domObjects"),d=t("./utils/interactionFinder"),f=t("./utils/Signals").new(),v={},g=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer"],h=0;a.interactions=[];for(var m=function(){function t(e){var n=e.pointerType;r(this,t),this.target=null,this.element=null,this.prepared={name:null,axis:null,edges:null},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this.pointerType=n,f.fire("new",this),a.interactions.push(this)}return t.prototype.pointerDown=function(t,e,n){var r=this.updatePointer(t,e,!0);f.fire("down",{pointer:t,event:e,eventTarget:n,pointerIndex:r,interaction:this})},t.prototype.start=function(t,e,n){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===t.name?2:1)||(-1===a.interactions.indexOf(this)&&a.interactions.push(this),c.copyAction(this.prepared,t),this.target=e,this.element=n,f.fire("action-start",{interaction:this,event:this.downEvent}))},t.prototype.pointerMove=function(e,n,r){this.simulation||(this.updatePointer(e),c.setCoords(this.curCoords,this.pointers));var i=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,o=void 0,s=void 0;this.pointerIsDown&&!this.pointerWasMoved&&(o=this.curCoords.client.x-this.startCoords.client.x,s=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=c.hypot(o,s)>t.pointerMoveTolerance);var a={pointer:e,pointerIndex:this.getPointerIndex(e),event:n,eventTarget:r,dx:o,dy:s,duplicate:i,interaction:this,interactingBeforeMove:this.interacting()};i||c.setCoordDeltas(this.pointerDelta,this.prevCoords,this.curCoords),f.fire("move",a),i||(this.interacting()&&this.doMove(a),this.pointerWasMoved&&c.copyCoords(this.prevCoords,this.curCoords))},t.prototype.doMove=function(t){t=c.extend({pointer:this.pointers[0],event:this.prevEvent,eventTarget:this._eventTarget,interaction:this},t||{}),f.fire("before-action-move",t),this._dontFireMove||f.fire("action-move",t),this._dontFireMove=!1},t.prototype.pointerUp=function(t,e,n,r){var i=this.getPointerIndex(t);f.fire(/cancel$/i.test(e.type)?"cancel":"up",{pointer:t,pointerIndex:i,event:e,eventTarget:n,curEventTarget:r,interaction:this}),this.simulation||this.end(e),this.pointerIsDown=!1,this.removePointer(t,e)},t.prototype.end=function(t){t=t||this.prevEvent,this.interacting()&&f.fire("action-end",{event:t,interaction:this}),this.stop()},t.prototype.currentAction=function(){return this._interacting?this.prepared.name:null},t.prototype.interacting=function(){return this._interacting},t.prototype.stop=function(){f.fire("stop",{interaction:this}),this._interacting&&(f.fire("stop-active",{interaction:this}),f.fire("stop-"+this.prepared.name,{interaction:this})),this.target=this.element=null,this._interacting=!1,this.prepared.name=this.prevEvent=null},t.prototype.getPointerIndex=function(t){return"mouse"===this.pointerType||"pen"===this.pointerType?0:this.pointerIds.indexOf(c.getPointerId(t))},t.prototype.updatePointer=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e&&/(down|start)$/i.test(e.type),r=c.getPointerId(t),i=this.getPointerIndex(t);return-1===i&&(i=this.pointerIds.length,this.pointerIds[i]=r),n&&f.fire("update-pointer-down",{pointer:t,event:e,down:n,pointerId:r,pointerIndex:i,interaction:this}),this.pointers[i]=t,i},t.prototype.removePointer=function(t,e){var n=this.getPointerIndex(t);-1!==n&&(f.fire("remove-pointer",{pointer:t,event:e,pointerIndex:n,interaction:this}),this.pointers.splice(n,1),this.pointerIds.splice(n,1),this.downTargets.splice(n,1),this.downTimes.splice(n,1))},t.prototype._updateEventTargets=function(t,e){this._eventTarget=t,this._curEventTarget=e},t}(),y=0;y<g.length;y++){var x=g[y];v[x]=i(x)}var b={},w=p.pEventTypes;u.PointerEvent?(b[w.down]=v.pointerDown,b[w.move]=v.pointerMove,b[w.up]=v.pointerUp,b[w.cancel]=v.pointerUp):(b.mousedown=v.pointerDown,b.mousemove=v.pointerMove,b.mouseup=v.pointerUp,b.touchstart=v.pointerDown,b.touchmove=v.pointerMove,b.touchend=v.pointerUp,b.touchcancel=v.pointerUp),b.blur=o,f.on("update-pointer-down",function(t){var e=t.interaction,n=t.pointer,r=t.pointerId,i=t.pointerIndex,o=t.event,s=t.eventTarget,a=t.down;e.pointerIds[i]=r,e.pointers[i]=n,a&&(e.pointerIsDown=!0),e.interacting()||(c.setCoords(e.startCoords,e.pointers),c.copyCoords(e.curCoords,e.startCoords),c.copyCoords(e.prevCoords,e.startCoords),e.downEvent=o,e.downTimes[i]=e.curCoords.timeStamp,e.downTargets[i]=s||o&&c.getEventTargets(o)[0],e.pointerWasMoved=!1,c.pointerExtend(e.downPointer,n))}),a.signals.on("add-document",s),a.signals.on("remove-document",s),m.pointerMoveTolerance=1,m.doOnInteractions=i,m.endAll=o,m.signals=f,m.docEvents=b,a.endAllInteractions=o,e.exports=m},{"./scope":33,"./utils":43,"./utils/Signals":34,"./utils/browser":36,"./utils/domObjects":37,"./utils/events":39,"./utils/interactionFinder":44}],6:[function(t,e,n){"use strict";function r(t,e,n,r){var i=t.prepared.name,s=new o(t,e,i,n,t.element,null,r);t.target.fire(s),t.prevEvent=s}var i=t("../Interaction"),o=t("../InteractEvent"),s={firePrepared:r,names:[],methodDict:{}};i.signals.on("action-start",function(t){var e=t.interaction,n=t.event;e._interacting=!0,r(e,n,"start")}),i.signals.on("action-move",function(t){var e=t.interaction;if(r(e,t.event,"move",t.preEnd),!e.interacting())return!1}),i.signals.on("action-end",function(t){r(t.interaction,t.event,"end")}),e.exports=s},{"../InteractEvent":3,"../Interaction":5}],7:[function(t,e,n){"use strict";var r=t("./base"),i=t("../utils"),o=t("../InteractEvent"),s=t("../Interactable"),a=t("../Interaction"),c=t("../defaultOptions"),l={defaults:{enabled:!1,mouseButtons:null,origin:null,snap:null,restrict:null,inertia:null,autoScroll:null,startAxis:"xy",lockAxis:"xy"},checker:function(t,e,n){var r=n.options.drag;return r.enabled?{name:"drag",axis:"start"===r.lockAxis?r.startAxis:r.lockAxis}:null},getCursor:function(){return"move"}};a.signals.on("before-action-move",function(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.prepared.axis;"x"===n?(e.curCoords.page.y=e.startCoords.page.y,e.curCoords.client.y=e.startCoords.client.y,e.pointerDelta.page.speed=Math.abs(e.pointerDelta.page.vx),e.pointerDelta.client.speed=Math.abs(e.pointerDelta.client.vx),e.pointerDelta.client.vy=0,e.pointerDelta.page.vy=0):"y"===n&&(e.curCoords.page.x=e.startCoords.page.x,e.curCoords.client.x=e.startCoords.client.x,e.pointerDelta.page.speed=Math.abs(e.pointerDelta.page.vy),e.pointerDelta.client.speed=Math.abs(e.pointerDelta.client.vy),e.pointerDelta.client.vx=0,e.pointerDelta.page.vx=0)}}),o.signals.on("new",function(t){var e=t.iEvent,n=t.interaction;if("dragmove"===e.type){var r=n.prepared.axis;"x"===r?(e.pageY=n.startCoords.page.y,e.clientY=n.startCoords.client.y,e.dy=0):"y"===r&&(e.pageX=n.startCoords.page.x,e.clientX=n.startCoords.client.x,e.dx=0)}}),s.prototype.draggable=function(t){return i.is.object(t)?(this.options.drag.enabled=!1!==t.enabled,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):i.is.bool(t)?(this.options.drag.enabled=t,t||(this.ondragstart=this.ondragstart=this.ondragend=null),this):this.options.drag},r.drag=l,r.names.push("drag"),i.merge(s.eventTypes,["dragstart","dragmove","draginertiastart","draginertiaresume","dragend"]),r.methodDict.drag="draggable",c.drag=l.defaults,e.exports=l},{"../InteractEvent":3,"../Interactable":4,"../Interaction":5,"../defaultOptions":18,"../utils":43,"./base":6}],8:[function(t,e,n){"use strict";function r(t,e){var n=[],r=[];e=e||t.element;for(var i=0;i<u.interactables.length;i++){var o;o=u.interactables[i];var s=o;if(s.options.drop.enabled){var a=s.options.drop.accept;if(!(p.is.element(a)&&a!==e||p.is.string(a)&&!p.matchesSelector(e,a)))for(var c=p.is.string(s.target)?s._context.querySelectorAll(s.target):[s.target],l=0;l<c.length;l++){var d;d=c[l];var f=d;f!==e&&(n.push(s),r.push(f))}}}return{elements:r,dropzones:n}}function i(t,e){for(var n=void 0,r=0;r<t.activeDrops.dropzones.length;r++){var i=t.activeDrops.dropzones[r],o=t.activeDrops.elements[r];o!==n&&(e.target=o,i.fire(e)),n=o}}function o(t,e){var n=r(t,e,!0);t.activeDrops.dropzones=n.dropzones,t.activeDrops.elements=n.elements,t.activeDrops.rects=[];for(var i=0;i<t.activeDrops.dropzones.length;i++)t.activeDrops.rects[i]=t.activeDrops.dropzones[i].getRect(t.activeDrops.elements[i])}function s(t,e,n){var r=t.interaction,i=[];y&&o(r,n);for(var s=0;s<r.activeDrops.dropzones.length;s++){var a=r.activeDrops.dropzones[s],c=r.activeDrops.elements[s],l=r.activeDrops.rects[s];i.push(a.dropCheck(t,e,r.target,n,c,l)?c:null)}var u=p.indexOfDeepestElement(i);return{dropzone:r.activeDrops.dropzones[u]||null,element:r.activeDrops.elements[u]||null}}function a(t,e,n){var r={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null},i={dragEvent:n,interaction:t,target:t.dropElement,dropzone:t.dropTarget,relatedTarget:n.target,draggable:n.interactable,timeStamp:n.timeStamp};return t.dropElement!==t.prevDropElement&&(t.prevDropTarget&&(r.leave=p.extend({type:"dragleave"},i),n.dragLeave=r.leave.target=t.prevDropElement,n.prevDropzone=r.leave.dropzone=t.prevDropTarget),t.dropTarget&&(r.enter={dragEvent:n,interaction:t,target:t.dropElement,dropzone:t.dropTarget,relatedTarget:n.target,draggable:n.interactable,timeStamp:n.timeStamp,type:"dragenter"},n.dragEnter=t.dropElement,n.dropzone=t.dropTarget)),"dragend"===n.type&&t.dropTarget&&(r.drop=p.extend({type:"drop"},i),n.dropzone=t.dropTarget,n.relatedTarget=t.dropElement),"dragstart"===n.type&&(r.activate=p.extend({type:"dropactivate"},i),r.activate.target=null,r.activate.dropzone=null),"dragend"===n.type&&(r.deactivate=p.extend({type:"dropdeactivate"},i),r.deactivate.target=null,r.deactivate.dropzone=null),"dragmove"===n.type&&t.dropTarget&&(r.move=p.extend({dragmove:n,type:"dropmove"},i),n.dropzone=t.dropTarget),r}function c(t,e){e.leave&&t.prevDropTarget.fire(e.leave),e.move&&t.dropTarget.fire(e.move),e.enter&&t.dropTarget.fire(e.enter),e.drop&&t.dropTarget.fire(e.drop),e.deactivate&&i(t,e.deactivate),t.prevDropTarget=t.dropTarget,t.prevDropElement=t.dropElement}var l=t("./base"),p=t("../utils"),u=t("../scope"),d=t("../interact"),f=t("../InteractEvent"),v=t("../Interactable"),g=t("../Interaction"),h=t("../defaultOptions"),m={defaults:{enabled:!1,accept:null,overlap:"pointer"}},y=!1;g.signals.on("action-start",function(t){var e=t.interaction,n=t.event;if("drag"===e.prepared.name){e.activeDrops.dropzones=[],e.activeDrops.elements=[],e.activeDrops.rects=[],e.dropEvents=null,e.dynamicDrop||o(e,e.element);var r=e.prevEvent,s=a(e,n,r);s.activate&&i(e,s.activate)}}),f.signals.on("new",function(t){var e=t.interaction,n=t.iEvent,r=t.event;if("dragmove"===n.type||"dragend"===n.type){var i=e.element,o=n,c=s(o,r,i);e.dropTarget=c.dropzone,e.dropElement=c.element,e.dropEvents=a(e,r,o)}}),g.signals.on("action-move",function(t){var e=t.interaction;"drag"===e.prepared.name&&c(e,e.dropEvents)}),g.signals.on("action-end",function(t){var e=t.interaction;"drag"===e.prepared.name&&c(e,e.dropEvents)}),g.signals.on("stop-drag",function(t){var e=t.interaction;e.activeDrops.dropzones=e.activeDrops.elements=e.activeDrops.rects=e.dropEvents=null}),v.prototype.dropzone=function(t){return p.is.object(t)?(this.options.drop.enabled=!1!==t.enabled,p.is.function(t.ondrop)&&(this.events.ondrop=t.ondrop),p.is.function(t.ondropactivate)&&(this.events.ondropactivate=t.ondropactivate),p.is.function(t.ondropdeactivate)&&(this.events.ondropdeactivate=t.ondropdeactivate),p.is.function(t.ondragenter)&&(this.events.ondragenter=t.ondragenter),p.is.function(t.ondragleave)&&(this.events.ondragleave=t.ondragleave),p.is.function(t.ondropmove)&&(this.events.ondropmove=t.ondropmove),/^(pointer|center)$/.test(t.overlap)?this.options.drop.overlap=t.overlap:p.is.number(t.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(this.options.drop.accept=t.accept),"checker"in t&&(this.options.drop.checker=t.checker),this):p.is.bool(t)?(this.options.drop.enabled=t,t||(this.ondragenter=this.ondragleave=this.ondrop=this.ondropactivate=this.ondropdeactivate=null),this):this.options.drop},v.prototype.dropCheck=function(t,e,n,r,i,o){var s=!1;if(!(o=o||this.getRect(i)))return!!this.options.drop.checker&&this.options.drop.checker(t,e,s,this,i,n,r);var a=this.options.drop.overlap;if("pointer"===a){var c=p.getOriginXY(n,r,"drag"),l=p.getPageXY(t);l.x+=c.x,l.y+=c.y;var u=l.x>o.left&&l.x<o.right,d=l.y>o.top&&l.y<o.bottom;s=u&&d}var f=n.getRect(r);if(f&&"center"===a){var v=f.left+f.width/2,g=f.top+f.height/2;s=v>=o.left&&v<=o.right&&g>=o.top&&g<=o.bottom}if(f&&p.is.number(a)){s=Math.max(0,Math.min(o.right,f.right)-Math.max(o.left,f.left))*Math.max(0,Math.min(o.bottom,f.bottom)-Math.max(o.top,f.top))/(f.width*f.height)>=a}return this.options.drop.checker&&(s=this.options.drop.checker(t,e,s,this,i,n,r)),s},v.signals.on("unset",function(t){t.interactable.dropzone(!1)}),v.settingsMethods.push("dropChecker"),g.signals.on("new",function(t){t.dropTarget=null,t.dropElement=null,t.prevDropTarget=null,t.prevDropElement=null,t.dropEvents=null,t.activeDrops={dropzones:[],elements:[],rects:[]}}),g.signals.on("stop",function(t){var e=t.interaction;e.dropTarget=e.dropElement=e.prevDropTarget=e.prevDropElement=null}),d.dynamicDrop=function(t){return p.is.bool(t)?(y=t,d):y},p.merge(v.eventTypes,["dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop"]),l.methodDict.drop="dropzone",h.drop=m.defaults,e.exports=m},{"../InteractEvent":3,"../Interactable":4,"../Interaction":5,"../defaultOptions":18,"../interact":21,"../scope":33,"../utils":43,"./base":6}],9:[function(t,e,n){"use strict";var r=t("./base"),i=t("../utils"),o=t("../InteractEvent"),s=t("../Interactable"),a=t("../Interaction"),c=t("../defaultOptions"),l={defaults:{enabled:!1,origin:null,restrict:null},checker:function(t,e,n,r,i){return i.pointerIds.length>=2?{name:"gesture"}:null},getCursor:function(){return""}};o.signals.on("new",function(t){var e=t.iEvent,n=t.interaction;"gesturestart"===e.type&&(e.ds=0,n.gesture.startDistance=n.gesture.prevDistance=e.distance,n.gesture.startAngle=n.gesture.prevAngle=e.angle,n.gesture.scale=1)}),o.signals.on("new",function(t){var e=t.iEvent,n=t.interaction;"gesturemove"===e.type&&(e.ds=e.scale-n.gesture.scale,n.target.fire(e),n.gesture.prevAngle=e.angle,n.gesture.prevDistance=e.distance,e.scale===1/0||null===e.scale||void 0===e.scale||isNaN(e.scale)||(n.gesture.scale=e.scale))}),s.prototype.gesturable=function(t){return i.is.object(t)?(this.options.gesture.enabled=!1!==t.enabled,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):i.is.bool(t)?(this.options.gesture.enabled=t,t||(this.ongesturestart=this.ongesturestart=this.ongestureend=null),this):this.options.gesture},o.signals.on("set-delta",function(t){var e=t.interaction,n=t.iEvent,r=t.action,s=t.event,a=t.starting,c=t.ending,l=t.deltaSource;if("gesture"===r){var p=e.pointers;n.touches=[p[0],p[1]],a?(n.distance=i.touchDistance(p,l),n.box=i.touchBBox(p),n.scale=1,n.ds=0,n.angle=i.touchAngle(p,void 0,l),n.da=0):c||s instanceof o?(n.distance=e.prevEvent.distance,n.box=e.prevEvent.box,n.scale=e.prevEvent.scale,n.ds=n.scale-1,n.angle=e.prevEvent.angle,n.da=n.angle-e.gesture.startAngle):(n.distance=i.touchDistance(p,l),n.box=i.touchBBox(p),n.scale=n.distance/e.gesture.startDistance,n.angle=i.touchAngle(p,e.gesture.prevAngle,l),n.ds=n.scale-e.gesture.prevScale,n.da=n.angle-e.gesture.prevAngle)}}),a.signals.on("new",function(t){t.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0}}),r.gesture=l,r.names.push("gesture"),i.merge(s.eventTypes,["gesturestart","gesturemove","gestureend"]),r.methodDict.gesture="gesturable",c.gesture=l.defaults,e.exports=l},{"../InteractEvent":3,"../Interactable":4,"../Interaction":5,"../defaultOptions":18,"../utils":43,"./base":6}],10:[function(t,e,n){"use strict";function r(t,e,n,r,i,s,a){if(!e)return!1;if(!0===e){var c=o.is.number(s.width)?s.width:s.right-s.left,l=o.is.number(s.height)?s.height:s.bottom-s.top;if(c<0&&("left"===t?t="right":"right"===t&&(t="left")),l<0&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t)return n.x<(c>=0?s.left:s.right)+a;if("top"===t)return n.y<(l>=0?s.top:s.bottom)+a;if("right"===t)return n.x>(c>=0?s.right:s.left)-a;if("bottom"===t)return n.y>(l>=0?s.bottom:s.top)-a}return!!o.is.element(r)&&(o.is.element(e)?e===r:o.matchesUpTo(r,e,i))}var i=t("./base"),o=t("../utils"),s=t("../utils/browser"),a=t("../InteractEvent"),c=t("../Interactable"),l=t("../Interaction"),p=t("../defaultOptions"),u=s.supportsTouch||s.supportsPointerEvent?20:10,d={defaults:{enabled:!1,mouseButtons:null,origin:null,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},checker:function(t,e,n,i,s,a){if(!a)return null;var c=o.extend({},s.curCoords.page),l=n.options;if(l.resize.enabled){var p=l.resize,d={left:!1,right:!1,top:!1,bottom:!1};if(o.is.object(p.edges)){for(var f in d)d[f]=r(f,p.edges[f],c,s._eventTarget,i,a,p.margin||u);if(d.left=d.left&&!d.right,d.top=d.top&&!d.bottom,d.left||d.right||d.top||d.bottom)return{name:"resize",edges:d}}else{var v="y"!==l.resize.axis&&c.x>a.right-u,g="x"!==l.resize.axis&&c.y>a.bottom-u;if(v||g)return{name:"resize",axes:(v?"x":"")+(g?"y":"")}}}return null},cursors:s.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"},getCursor:function(t){if(t.axis)return d.cursors[t.name+t.axis];if(t.edges){for(var e="",n=["top","bottom","left","right"],r=0;r<4;r++)t.edges[n[r]]&&(e+=n[r]);return d.cursors[e]}}};a.signals.on("new",function(t){var e=t.iEvent,n=t.interaction;if("resizestart"===e.type&&n.prepared.edges){var r=n.target.getRect(n.element),i=n.target.options.resize;if(i.square||i.preserveAspectRatio){var s=o.extend({},n.prepared.edges);s.top=s.top||s.left&&!s.bottom,s.left=s.left||s.top&&!s.right,s.bottom=s.bottom||s.right&&!s.top,s.right=s.right||s.bottom&&!s.left,n.prepared._linkedEdges=s}else n.prepared._linkedEdges=null;i.preserveAspectRatio&&(n.resizeStartAspectRatio=r.width/r.height),n.resizeRects={start:r,current:o.extend({},r),inverted:o.extend({},r),previous:o.extend({},r),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},e.rect=n.resizeRects.inverted,e.deltaRect=n.resizeRects.delta}}),a.signals.on("new",function(t){var e=t.iEvent,n=t.phase,r=t.interaction;if("move"===n&&r.prepared.edges){var i=r.target.options.resize,s=i.invert,a="reposition"===s||"negate"===s,c=r.prepared.edges,l=r.resizeRects.start,p=r.resizeRects.current,u=r.resizeRects.inverted,d=r.resizeRects.delta,f=o.extend(r.resizeRects.previous,u),v=c,g=e.dx,h=e.dy;if(i.preserveAspectRatio||i.square){var m=i.preserveAspectRatio?r.resizeStartAspectRatio:1;c=r.prepared._linkedEdges,v.left&&v.bottom||v.right&&v.top?h=-g/m:v.left||v.right?h=g/m:(v.top||v.bottom)&&(g=h*m)}if(c.top&&(p.top+=h),c.bottom&&(p.bottom+=h),c.left&&(p.left+=g),c.right&&(p.right+=g),a){if(o.extend(u,p),"reposition"===s){var y=void 0;u.top>u.bottom&&(y=u.top,u.top=u.bottom,u.bottom=y),u.left>u.right&&(y=u.left,u.left=u.right,u.right=y)}}else u.top=Math.min(p.top,l.bottom),u.bottom=Math.max(p.bottom,l.top),u.left=Math.min(p.left,l.right),u.right=Math.max(p.right,l.left);u.width=u.right-u.left,u.height=u.bottom-u.top;for(var x in u)d[x]=u[x]-f[x];e.edges=r.prepared.edges,e.rect=u,e.deltaRect=d}}),c.prototype.resizable=function(t){return o.is.object(t)?(this.options.resize.enabled=!1!==t.enabled,this.setPerAction("resize",t),this.setOnEvents("resize",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.resize.axis=t.axis:null===t.axis&&(this.options.resize.axis=p.resize.axis),o.is.bool(t.preserveAspectRatio)?this.options.resize.preserveAspectRatio=t.preserveAspectRatio:o.is.bool(t.square)&&(this.options.resize.square=t.square),this):o.is.bool(t)?(this.options.resize.enabled=t,t||(this.onresizestart=this.onresizestart=this.onresizeend=null),this):this.options.resize},l.signals.on("new",function(t){t.resizeAxes="xy"}),a.signals.on("set-delta",function(t){var e=t.interaction,n=t.iEvent;"resize"===t.action&&e.resizeAxes&&(e.target.options.resize.square?("y"===e.resizeAxes?n.dx=n.dy:n.dy=n.dx,n.axes="xy"):(n.axes=e.resizeAxes,"x"===e.resizeAxes?n.dy=0:"y"===e.resizeAxes&&(n.dx=0)))}),i.resize=d,i.names.push("resize"),
o.merge(c.eventTypes,["resizestart","resizemove","resizeinertiastart","resizeinertiaresume","resizeend"]),i.methodDict.resize="resizable",p.resize=d.defaults,e.exports=d},{"../InteractEvent":3,"../Interactable":4,"../Interaction":5,"../defaultOptions":18,"../utils":43,"../utils/browser":36,"./base":6}],11:[function(t,e,n){"use strict";var r=t("./utils/raf"),i=t("./utils/window").getWindow,o=t("./utils/is"),s=t("./utils/domUtils"),a=t("./Interaction"),c=t("./defaultOptions"),l={defaults:{enabled:!1,container:null,margin:60,speed:300},interaction:null,i:null,x:0,y:0,isScrolling:!1,prevTime:0,start:function(t){l.isScrolling=!0,r.cancel(l.i),l.interaction=t,l.prevTime=(new Date).getTime(),l.i=r.request(l.scroll)},stop:function(){l.isScrolling=!1,r.cancel(l.i)},scroll:function(){var t=l.interaction.target.options[l.interaction.prepared.name].autoScroll,e=t.container||i(l.interaction.element),n=(new Date).getTime(),s=(n-l.prevTime)/1e3,a=t.speed*s;a>=1&&(o.window(e)?e.scrollBy(l.x*a,l.y*a):e&&(e.scrollLeft+=l.x*a,e.scrollTop+=l.y*a),l.prevTime=n),l.isScrolling&&(r.cancel(l.i),l.i=r.request(l.scroll))},check:function(t,e){var n=t.options;return n[e].autoScroll&&n[e].autoScroll.enabled},onInteractionMove:function(t){var e=t.interaction,n=t.pointer;if(e.interacting()&&l.check(e.target,e.prepared.name)){if(e.simulation)return void(l.x=l.y=0);var r=void 0,a=void 0,c=void 0,p=void 0,u=e.target.options[e.prepared.name].autoScroll,d=u.container||i(e.element);if(o.window(d))p=n.clientX<l.margin,r=n.clientY<l.margin,a=n.clientX>d.innerWidth-l.margin,c=n.clientY>d.innerHeight-l.margin;else{var f=s.getElementClientRect(d);p=n.clientX<f.left+l.margin,r=n.clientY<f.top+l.margin,a=n.clientX>f.right-l.margin,c=n.clientY>f.bottom-l.margin}l.x=a?1:p?-1:0,l.y=c?1:r?-1:0,l.isScrolling||(l.margin=u.margin,l.speed=u.speed,l.start(e))}}};a.signals.on("stop-active",function(){l.stop()}),a.signals.on("action-move",l.onInteractionMove),c.perAction.autoScroll=l.defaults,e.exports=l},{"./Interaction":5,"./defaultOptions":18,"./utils/domUtils":38,"./utils/is":45,"./utils/raf":49,"./utils/window":51}],12:[function(t,e,n){"use strict";var r=t("../Interactable"),i=t("../actions/base"),o=t("../utils/is"),s=t("../utils/domUtils"),a=t("../utils"),c=a.warnOnce;r.prototype.getAction=function(t,e,n,r){var i=this.defaultActionChecker(t,e,n,r);return this.options.actionChecker?this.options.actionChecker(t,e,i,this,r,n):i},r.prototype.ignoreFrom=c(function(t){return this._backCompatOption("ignoreFrom",t)},"Interactable.ignoreForm() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),r.prototype.allowFrom=c(function(t){return this._backCompatOption("allowFrom",t)},"Interactable.allowForm() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),r.prototype.testIgnore=function(t,e,n){return!(!t||!o.element(n))&&(o.string(t)?s.matchesUpTo(n,t,e):!!o.element(t)&&s.nodeContains(t,n))},r.prototype.testAllow=function(t,e,n){return!t||!!o.element(n)&&(o.string(t)?s.matchesUpTo(n,t,e):!!o.element(t)&&s.nodeContains(t,n))},r.prototype.testIgnoreAllow=function(t,e,n){return!this.testIgnore(t.ignoreFrom,e,n)&&this.testAllow(t.allowFrom,e,n)},r.prototype.actionChecker=function(t){return o.function(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker},r.prototype.styleCursor=function(t){return o.bool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor},r.prototype.defaultActionChecker=function(t,e,n,r){for(var o=this.getRect(r),s=e.buttons||{0:1,1:4,3:8,4:16}[e.button],a=null,c=0;c<i.names.length;c++){var l;l=i.names[c];var p=l;if((!n.pointerIsDown||!/mouse|pointer/.test(n.pointerType)||0!=(s&this.options[p].mouseButtons))&&(a=i[p].checker(t,e,this,r,n,o)))return a}}},{"../Interactable":4,"../actions/base":6,"../utils":43,"../utils/domUtils":38,"../utils/is":45}],13:[function(t,e,n){"use strict";function r(t,e,n,r){return v.is.object(t)&&e.testIgnoreAllow(e.options[t.name],n,r)&&e.options[t.name].enabled&&a(e,n,t)?t:null}function i(t,e,n,i,o,s){for(var a=0,c=i.length;a<c;a++){var l=i[a],p=o[a],u=r(l.getAction(e,n,t,p),l,p,s);if(u)return{action:u,target:l,element:p}}return{}}function o(t,e,n,r){function o(t){s.push(t),a.push(c)}for(var s=[],a=[],c=r;v.is.element(c);){s=[],a=[],f.interactables.forEachMatch(c,o);var l=i(t,e,n,s,a,r);if(l.action&&!l.target.options[l.action.name].manualStart)return l;c=v.parentNode(c)}return{}}function s(t,e){var n=e.action,r=e.target,i=e.element;if(n=n||{},t.target&&t.target.options.styleCursor&&(t.target._doc.documentElement.style.cursor=""),t.target=r,t.element=i,v.copyAction(t.prepared,n),r&&r.options.styleCursor){var o=n?u[n.name].getCursor(n):"";t.target._doc.documentElement.style.cursor=o}g.fire("prepared",{interaction:t})}function a(t,e,n){var r=t.options,i=r[n.name].max,o=r[n.name].maxPerElement,s=0,a=0,c=0;if(i&&o&&h.maxInteractions){for(var l=0;l<f.interactions.length;l++){var p;p=f.interactions[l];var u=p,d=u.prepared.name;if(u.interacting()){if(++s>=h.maxInteractions)return!1;if(u.target===t){if((a+=d===n.name|0)>=i)return!1;if(u.element===e&&(c++,d!==n.name||c>=o))return!1}}}return h.maxInteractions>0}}var c=t("../interact"),l=t("../Interactable"),p=t("../Interaction"),u=t("../actions/base"),d=t("../defaultOptions"),f=t("../scope"),v=t("../utils"),g=t("../utils/Signals").new();t("./InteractableMethods");var h={signals:g,withinInteractionLimit:a,maxInteractions:1/0,defaults:{perAction:{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}},setActionDefaults:function(t){v.extend(t.defaults,h.defaults.perAction)},validateAction:r};p.signals.on("down",function(t){var e=t.interaction,n=t.pointer,r=t.event,i=t.eventTarget;if(!e.interacting()){s(e,o(e,n,r,i))}}),p.signals.on("move",function(t){var e=t.interaction,n=t.pointer,r=t.event,i=t.eventTarget;if("mouse"===e.pointerType&&!e.pointerIsDown&&!e.interacting()){s(e,o(e,n,r,i))}}),p.signals.on("move",function(t){var e=t.interaction,n=t.event;if(e.pointerIsDown&&!e.interacting()&&e.pointerWasMoved&&e.prepared.name){g.fire("before-start",t);var r=e.target;e.prepared.name&&r&&(r.options[e.prepared.name].manualStart||!a(r,e.element,e.prepared)?e.stop(n):e.start(e.prepared,r,e.element))}}),p.signals.on("stop",function(t){var e=t.interaction,n=e.target;n&&n.options.styleCursor&&(n._doc.documentElement.style.cursor="")}),c.maxInteractions=function(t){return v.is.number(t)?(h.maxInteractions=t,c):h.maxInteractions},l.settingsMethods.push("styleCursor"),l.settingsMethods.push("actionChecker"),l.settingsMethods.push("ignoreFrom"),l.settingsMethods.push("allowFrom"),d.base.actionChecker=null,d.base.styleCursor=!0,v.extend(d.perAction,h.defaults.perAction),e.exports=h},{"../Interactable":4,"../Interaction":5,"../actions/base":6,"../defaultOptions":18,"../interact":21,"../scope":33,"../utils":43,"../utils/Signals":34,"./InteractableMethods":12}],14:[function(t,e,n){"use strict";function r(t,e){if(!e)return!1;var n=e.options.drag.startAxis;return"xy"===t||"xy"===n||n===t}var i=t("./base"),o=t("../scope"),s=t("../utils/is"),a=t("../utils/domUtils"),c=a.parentNode;i.setActionDefaults(t("../actions/drag")),i.signals.on("before-start",function(t){var e=t.interaction,n=t.eventTarget,a=t.dx,l=t.dy;if("drag"===e.prepared.name){var p=Math.abs(a),u=Math.abs(l),d=e.target.options.drag,f=d.startAxis,v=p>u?"x":p<u?"y":"xy";if(e.prepared.axis="start"===d.lockAxis?v[0]:d.lockAxis,"xy"!==v&&"xy"!==f&&f!==v){e.prepared.name=null;for(var g=n,h=function(t){if(t!==e.target){var o=e.target.options.drag;if(!o.manualStart&&t.testIgnoreAllow(o,g,n)){var s=t.getAction(e.downPointer,e.downEvent,e,g);if(s&&"drag"===s.name&&r(v,t)&&i.validateAction(s,t,g,n))return t}}};s.element(g);){var m=o.interactables.forEachMatch(g,h);if(m){e.prepared.name="drag",e.target=m,e.element=g;break}g=c(g)}}}})},{"../actions/drag":7,"../scope":33,"../utils/domUtils":38,"../utils/is":45,"./base":13}],15:[function(t,e,n){"use strict";t("./base").setActionDefaults(t("../actions/gesture"))},{"../actions/gesture":9,"./base":13}],16:[function(t,e,n){"use strict";function r(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.target.options;return n[e].hold||n[e].delay}var i=t("./base"),o=t("../Interaction");i.defaults.perAction.hold=0,i.defaults.perAction.delay=0,o.signals.on("new",function(t){t.autoStartHoldTimer=null}),i.signals.on("prepared",function(t){var e=t.interaction,n=r(e);n>0&&(e.autoStartHoldTimer=setTimeout(function(){e.start(e.prepared,e.target,e.element)},n))}),o.signals.on("move",function(t){var e=t.interaction,n=t.duplicate;e.pointerWasMoved&&!n&&clearTimeout(e.autoStartHoldTimer)}),i.signals.on("before-start",function(t){var e=t.interaction;r(e)>0&&(e.prepared.name=null)}),e.exports={getHoldDuration:r}},{"../Interaction":5,"./base":13}],17:[function(t,e,n){"use strict";t("./base").setActionDefaults(t("../actions/resize"))},{"../actions/resize":10,"./base":13}],18:[function(t,e,n){"use strict";e.exports={base:{accept:null,preventDefault:"auto",deltaSource:"page"},perAction:{origin:{x:0,y:0},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}}}},{}],19:[function(t,e,n){"use strict";t("./inertia"),t("./modifiers/snap"),t("./modifiers/restrict"),t("./pointerEvents/base"),t("./pointerEvents/holdRepeat"),t("./pointerEvents/interactableTargets"),t("./autoStart/hold"),t("./actions/gesture"),t("./actions/resize"),t("./actions/drag"),t("./actions/drop"),t("./modifiers/snapSize"),t("./modifiers/restrictEdges"),t("./modifiers/restrictSize"),t("./autoStart/gesture"),t("./autoStart/resize"),t("./autoStart/drag"),t("./interactablePreventDefault.js"),t("./autoScroll"),e.exports=t("./interact")},{"./actions/drag":7,"./actions/drop":8,"./actions/gesture":9,"./actions/resize":10,"./autoScroll":11,"./autoStart/drag":14,"./autoStart/gesture":15,"./autoStart/hold":16,"./autoStart/resize":17,"./inertia":20,"./interact":21,"./interactablePreventDefault.js":22,"./modifiers/restrict":24,"./modifiers/restrictEdges":25,"./modifiers/restrictSize":26,"./modifiers/snap":27,"./modifiers/snapSize":28,"./pointerEvents/base":30,"./pointerEvents/holdRepeat":31,"./pointerEvents/interactableTargets":32}],20:[function(t,e,n){"use strict";function r(t,e){var n=t.target.options[t.prepared.name].inertia,r=n.resistance,i=-Math.log(n.endSpeed/e.v0)/r;e.x0=t.prevEvent.pageX,e.y0=t.prevEvent.pageY,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-i)/r,e.modifiedYe=e.ye=(e.vy0-i)/r,e.te=i,e.lambda_v0=r/e.v0,e.one_ve_v0=1-n.endSpeed/e.v0}function i(){s(this),p.setCoordDeltas(this.pointerDelta,this.prevCoords,this.curCoords);var t=this.inertiaStatus,e=this.target.options[this.prepared.name].inertia,n=e.resistance,r=(new Date).getTime()/1e3-t.t0;if(r<t.te){var i=1-(Math.exp(-n*r)-t.lambda_v0)/t.one_ve_v0;if(t.modifiedXe===t.xe&&t.modifiedYe===t.ye)t.sx=t.xe*i,t.sy=t.ye*i;else{var o=p.getQuadraticCurvePoint(0,0,t.xe,t.ye,t.modifiedXe,t.modifiedYe,i);t.sx=o.x,t.sy=o.y}this.doMove(),t.i=u.request(this.boundInertiaFrame)}else t.sx=t.modifiedXe,t.sy=t.modifiedYe,this.doMove(),this.end(t.startEvent),t.active=!1,this.simulation=null;p.copyCoords(this.prevCoords,this.curCoords)}function o(){s(this);var t=this.inertiaStatus,e=(new Date).getTime()-t.t0,n=this.target.options[this.prepared.name].inertia.smoothEndDuration;e<n?(t.sx=p.easeOutQuad(e,0,t.xe,n),t.sy=p.easeOutQuad(e,0,t.ye,n),this.pointerMove(t.startEvent,t.startEvent),t.i=u.request(this.boundSmoothEndFrame)):(t.sx=t.xe,t.sy=t.ye,this.pointerMove(t.startEvent,t.startEvent),this.end(t.startEvent),t.smoothEnd=t.active=!1,this.simulation=null)}function s(t){var e=t.inertiaStatus;if(e.active){var n=e.upCoords.page,r=e.upCoords.client;p.setCoords(t.curCoords,[{pageX:n.x+e.sx,pageY:n.y+e.sy,clientX:r.x+e.sx,clientY:r.y+e.sy}])}}var a=t("./InteractEvent"),c=t("./Interaction"),l=t("./modifiers/base"),p=t("./utils"),u=t("./utils/raf");c.signals.on("new",function(t){t.inertiaStatus={active:!1,smoothEnd:!1,allowResume:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,lambda_v0:0,one_ve_v0:0,i:null},t.boundInertiaFrame=function(){return i.apply(t)},t.boundSmoothEndFrame=function(){return o.apply(t)}}),c.signals.on("down",function(t){var e=t.interaction,n=t.event,r=t.pointer,i=t.eventTarget,o=e.inertiaStatus;if(o.active)for(var s=i;p.is.element(s);){if(s===e.element){u.cancel(o.i),o.active=!1,e.simulation=null,e.updatePointer(r),p.setCoords(e.curCoords,e.pointers);var d={interaction:e};c.signals.fire("before-action-move",d),c.signals.fire("action-resume",d);var f=new a(e,n,e.prepared.name,"inertiaresume",e.element);e.target.fire(f),e.prevEvent=f,l.resetStatuses(e.modifierStatuses),p.copyCoords(e.prevCoords,e.curCoords);break}s=p.parentNode(s)}}),c.signals.on("up",function(t){var e=t.interaction,n=t.event,i=e.inertiaStatus;if(e.interacting()&&!i.active){var o=e.target,s=o&&o.options,c=s&&e.prepared.name&&s[e.prepared.name].inertia,d=(new Date).getTime(),f={},v=p.extend({},e.curCoords.page),g=e.pointerDelta.client.speed,h=!1,m=void 0,y=c&&c.enabled&&"gesture"!==e.prepared.name&&n!==i.startEvent,x=y&&d-e.curCoords.timeStamp<50&&g>c.minSpeed&&g>c.endSpeed,b={interaction:e,pageCoords:v,statuses:f,preEnd:!0,requireEndOnly:!0};y&&!x&&(l.resetStatuses(f),m=l.setAll(b),m.shouldMove&&m.locked&&(h=!0)),(x||h)&&(p.copyCoords(i.upCoords,e.curCoords),e.pointers[0]=i.startEvent=new a(e,n,e.prepared.name,"inertiastart",e.element),i.t0=d,i.active=!0,i.allowResume=c.allowResume,e.simulation=i,o.fire(i.startEvent),x?(i.vx0=e.pointerDelta.client.vx,i.vy0=e.pointerDelta.client.vy,i.v0=g,r(e,i),p.extend(v,e.curCoords.page),v.x+=i.xe,v.y+=i.ye,l.resetStatuses(f),m=l.setAll(b),i.modifiedXe+=m.dx,i.modifiedYe+=m.dy,i.i=u.request(e.boundInertiaFrame)):(i.smoothEnd=!0,i.xe=m.dx,i.ye=m.dy,i.sx=i.sy=0,i.i=u.request(e.boundSmoothEndFrame)))}}),c.signals.on("stop-active",function(t){var e=t.interaction,n=e.inertiaStatus;n.active&&(u.cancel(n.i),n.active=!1,e.simulation=null)})},{"./InteractEvent":3,"./Interaction":5,"./modifiers/base":23,"./utils":43,"./utils/raf":49}],21:[function(t,e,n){"use strict";function r(t,e){var n=a.interactables.get(t,e);return n||(n=new c(t,e),n.events.global=p),n}var i=t("./utils/browser"),o=t("./utils/events"),s=t("./utils"),a=t("./scope"),c=t("./Interactable"),l=t("./Interaction"),p={};r.isSet=function(t,e){return-1!==a.interactables.indexOfElement(t,e&&e.context)},r.on=function(t,e,n){if(s.is.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),s.is.array(t)){for(var i=0;i<t.length;i++){var l;l=t[i];var u=l;r.on(u,e,n)}return r}if(s.is.object(t)){for(var d in t)r.on(d,t[d],e);return r}return s.contains(c.eventTypes,t)?p[t]?p[t].push(e):p[t]=[e]:o.add(a.document,t,e,{options:n}),r},r.off=function(t,e,n){if(s.is.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),s.is.array(t)){for(var i=0;i<t.length;i++){var l;l=t[i];var u=l;r.off(u,e,n)}return r}if(s.is.object(t)){for(var d in t)r.off(d,t[d],e);return r}if(s.contains(c.eventTypes,t)){var f=void 0;t in p&&-1!==(f=p[t].indexOf(e))&&p[t].splice(f,1)}else o.remove(a.document,t,e,n);return r},r.debug=function(){return a},r.getPointerAverage=s.pointerAverage,r.getTouchBBox=s.touchBBox,r.getTouchDistance=s.touchDistance,r.getTouchAngle=s.touchAngle,r.getElementRect=s.getElementRect,r.getElementClientRect=s.getElementClientRect,r.matchesSelector=s.matchesSelector,r.closest=s.closest,r.supportsTouch=function(){return i.supportsTouch},r.supportsPointerEvent=function(){return i.supportsPointerEvent},r.stop=function(t){for(var e=a.interactions.length-1;e>=0;e--)a.interactions[e].stop(t);return r},r.pointerMoveTolerance=function(t){return s.is.number(t)?(l.pointerMoveTolerance=t,r):l.pointerMoveTolerance},r.addDocument=a.addDocument,r.removeDocument=a.removeDocument,a.interact=r,e.exports=r},{"./Interactable":4,"./Interaction":5,"./scope":33,"./utils":43,"./utils/browser":36,"./utils/events":39}],22:[function(t,e,n){"use strict";function r(t){var e=t.interaction,n=t.event;e.target&&e.target.checkAndPreventDefault(n)}var i=t("./Interactable"),o=t("./Interaction"),s=t("./scope"),a=t("./utils/is"),c=t("./utils/events"),l=t("./utils/domUtils"),p=l.nodeContains,u=l.matchesSelector;i.prototype.preventDefault=function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):a.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault},i.prototype.checkAndPreventDefault=function(t){var e=this.options.preventDefault;if("never"!==e)return"always"===e?void t.preventDefault():void(c.supportsOptions&&/^touch(start|move)$/.test(t.type)||/^(mouse|pointer|touch)*(down|start)/i.test(t.type)||a.element(t.target)&&u(t.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||t.preventDefault())};for(var d=["down","move","up","cancel"],f=0;f<d.length;f++){var v=d[f];o.signals.on(v,r)}o.docEvents.dragstart=function(t){for(var e=0;e<s.interactions.length;e++){var n;n=s.interactions[e];var r=n;if(r.element&&(r.element===t.target||p(r.element,t.target)))return void r.target.checkAndPreventDefault(t)}}},{"./Interactable":4,"./Interaction":5,"./scope":33,"./utils/domUtils":38,"./utils/events":39,"./utils/is":45}],23:[function(t,e,n){"use strict";function r(t,e,n){return t&&t.enabled&&(e||!t.endOnly)&&(!n||t.endOnly)}var i=t("../InteractEvent"),o=t("../Interaction"),s=t("../utils/extend"),a={names:[],setOffsets:function(t){var e=t.interaction,n=t.pageCoords,r=e.target,i=e.element,o=e.startOffset,s=r.getRect(i);s?(o.left=n.x-s.left,o.top=n.y-s.top,o.right=s.right-n.x,o.bottom=s.bottom-n.y,"width"in s||(s.width=s.right-s.left),"height"in s||(s.height=s.bottom-s.top)):o.left=o.top=o.right=o.bottom=0,t.rect=s,t.interactable=r,t.element=i;for(var c=0;c<a.names.length;c++){var l;l=a.names[c];var p=l;t.options=r.options[e.prepared.name][p],t.options&&(e.modifierOffsets[p]=a[p].setOffset(t))}},setAll:function(t){var e=t.interaction,n=t.statuses,i=t.preEnd,o=t.requireEndOnly,c={dx:0,dy:0,changed:!1,locked:!1,shouldMove:!0};t.modifiedCoords=s({},t.pageCoords);for(var l=0;l<a.names.length;l++){var p;p=a.names[l];var u=p,d=a[u],f=e.target.options[e.prepared.name][u];r(f,i,o)&&(t.status=t.status=n[u],t.options=f,t.offset=t.interaction.modifierOffsets[u],d.set(t),t.status.locked&&(t.modifiedCoords.x+=t.status.dx,t.modifiedCoords.y+=t.status.dy,c.dx+=t.status.dx,c.dy+=t.status.dy,c.locked=!0))}return c.shouldMove=!t.status||!c.locked||t.status.changed,c},resetStatuses:function(t){for(var e=0;e<a.names.length;e++){var n;n=a.names[e];var r=n,i=t[r]||{};i.dx=i.dy=0,i.modifiedX=i.modifiedY=NaN,i.locked=!1,i.changed=!0,t[r]=i}return t},start:function(t,e){var n=t.interaction,r={interaction:n,pageCoords:("action-resume"===e?n.curCoords:n.startCoords).page,startOffset:n.startOffset,statuses:n.modifierStatuses,preEnd:!1,requireEndOnly:!1};a.setOffsets(r),a.resetStatuses(r.statuses),r.pageCoords=s({},n.startCoords.page),n.modifierResult=a.setAll(r)},beforeMove:function(t){var e=t.interaction,n=t.preEnd,r=t.interactingBeforeMove,i=a.setAll({interaction:e,preEnd:n,pageCoords:e.curCoords.page,statuses:e.modifierStatuses,requireEndOnly:!1});!i.shouldMove&&r&&(e._dontFireMove=!0),e.modifierResult=i},end:function(t){for(var e=t.interaction,n=t.event,i=0;i<a.names.length;i++){var o;o=a.names[i];var s=o;if(r(e.target.options[e.prepared.name][s],!0,!0)){e.doMove({event:n,preEnd:!0});break}}},setXY:function(t){for(var e=t.iEvent,n=t.interaction,r=s({},t),i=0;i<a.names.length;i++){var o=a.names[i];if(r.options=n.target.options[n.prepared.name][o],r.options){var c=a[o];r.status=n.modifierStatuses[o],e[o]=c.modifyCoords(r)}}}};o.signals.on("new",function(t){t.startOffset={left:0,right:0,top:0,bottom:0},t.modifierOffsets={},t.modifierStatuses=a.resetStatuses({}),t.modifierResult=null}),o.signals.on("action-start",a.start),o.signals.on("action-resume",a.start),o.signals.on("before-action-move",a.beforeMove),o.signals.on("action-end",a.end),i.signals.on("set-xy",a.setXY),e.exports=a},{"../InteractEvent":3,"../Interaction":5,"../utils/extend":40}],24:[function(t,e,n){"use strict";function r(t,e,n){return o.is.function(t)?o.resolveRectLike(t,e.target,e.element,[n.x,n.y,e]):o.resolveRectLike(t,e.target,e.element)}var i=t("./base"),o=t("../utils"),s=t("../defaultOptions"),a={defaults:{enabled:!1,endOnly:!1,restriction:null,elementRect:null},setOffset:function(t){var e=t.rect,n=t.startOffset,r=t.options,i=r&&r.elementRect,o={};return e&&i?(o.left=n.left-e.width*i.left,o.top=n.top-e.height*i.top,o.right=n.right-e.width*(1-i.right),o.bottom=n.bottom-e.height*(1-i.bottom)):o.left=o.top=o.right=o.bottom=0,o},set:function(t){var e=t.modifiedCoords,n=t.interaction,i=t.status,s=t.options;if(!s)return i;var a=i.useStatusXY?{x:i.x,y:i.y}:o.extend({},e),c=r(s.restriction,n,a);if(!c)return i;i.dx=0,i.dy=0,i.locked=!1;var l=c,p=a.x,u=a.y,d=n.modifierOffsets.restrict;"x"in c&&"y"in c?(p=Math.max(Math.min(l.x+l.width-d.right,a.x),l.x+d.left),u=Math.max(Math.min(l.y+l.height-d.bottom,a.y),l.y+d.top)):(p=Math.max(Math.min(l.right-d.right,a.x),l.left+d.left),u=Math.max(Math.min(l.bottom-d.bottom,a.y),l.top+d.top)),i.dx=p-a.x,i.dy=u-a.y,i.changed=i.modifiedX!==p||i.modifiedY!==u,i.locked=!(!i.dx&&!i.dy),i.modifiedX=p,i.modifiedY=u},modifyCoords:function(t){var e=t.page,n=t.client,r=t.status,i=t.phase,o=t.options,s=o&&o.elementRect;if(o&&o.enabled&&("start"!==i||!s||!r.locked)&&r.locked)return e.x+=r.dx,e.y+=r.dy,n.x+=r.dx,n.y+=r.dy,{dx:r.dx,dy:r.dy}},getRestrictionRect:r};i.restrict=a,i.names.push("restrict"),s.perAction.restrict=a.defaults,e.exports=a},{"../defaultOptions":18,"../utils":43,"./base":23}],25:[function(t,e,n){"use strict";var r=t("./base"),i=t("../utils"),o=t("../utils/rect"),s=t("../defaultOptions"),a=t("../actions/resize"),c=t("./restrict"),l=c.getRestrictionRect,p={top:1/0,left:1/0,bottom:-1/0,right:-1/0},u={top:-1/0,left:-1/0,bottom:1/0,right:1/0},d={defaults:{enabled:!1,endOnly:!1,min:null,max:null,offset:null},setOffset:function(t){var e=t.interaction,n=t.startOffset,r=t.options;if(!r)return i.extend({},n);var o=l(r.offset,e,e.startCoords.page);return o?{top:n.top+o.y,left:n.left+o.x,bottom:n.bottom+o.y,right:n.right+o.x}:n},set:function(t){var e=t.modifiedCoords,n=t.interaction,r=t.status,s=t.offset,a=t.options,c=n.prepared.linkedEdges||n.prepared.edges;if(n.interacting()&&c){var d=r.useStatusXY?{x:r.x,y:r.y}:i.extend({},e),f=o.xywhToTlbr(l(a.inner,n,d))||p,v=o.xywhToTlbr(l(a.outer,n,d))||u,g=d.x,h=d.y;r.dx=0,r.dy=0,r.locked=!1,c.top?h=Math.min(Math.max(v.top+s.top,d.y),f.top+s.top):c.bottom&&(h=Math.max(Math.min(v.bottom-s.bottom,d.y),f.bottom-s.bottom)),c.left?g=Math.min(Math.max(v.left+s.left,d.x),f.left+s.left):c.right&&(g=Math.max(Math.min(v.right-s.right,d.x),f.right-s.right)),r.dx=g-d.x,r.dy=h-d.y,r.changed=r.modifiedX!==g||r.modifiedY!==h,r.locked=!(!r.dx&&!r.dy),r.modifiedX=g,r.modifiedY=h}},modifyCoords:function(t){var e=t.page,n=t.client,r=t.status,i=t.phase,o=t.options;if(o&&o.enabled&&("start"!==i||!r.locked)&&r.locked)return e.x+=r.dx,e.y+=r.dy,n.x+=r.dx,n.y+=r.dy,{dx:r.dx,dy:r.dy}},noInner:p,noOuter:u,getRestrictionRect:l};r.restrictEdges=d,r.names.push("restrictEdges"),s.perAction.restrictEdges=d.defaults,a.defaults.restrictEdges=d.defaults,e.exports=d},{"../actions/resize":10,"../defaultOptions":18,"../utils":43,"../utils/rect":50,"./base":23,"./restrict":24}],26:[function(t,e,n){"use strict";var r=t("./base"),i=t("./restrictEdges"),o=t("../utils"),s=t("../utils/rect"),a=t("../defaultOptions"),c=t("../actions/resize"),l={width:-1/0,height:-1/0},p={width:1/0,height:1/0},u={defaults:{enabled:!1,endOnly:!1,min:null,max:null},setOffset:function(t){return t.interaction.startOffset},set:function(t){var e=t.interaction,n=t.options,r=e.prepared.linkedEdges||e.prepared.edges;if(e.interacting()&&r){var a=s.xywhToTlbr(e.resizeRects.inverted),c=s.tlbrToXywh(i.getRestrictionRect(n.min,e))||l,u=s.tlbrToXywh(i.getRestrictionRect(n.max,e))||p;t.options={enabled:n.enabled,endOnly:n.endOnly,inner:o.extend({},i.noInner),outer:o.extend({},i.noOuter)},r.top?(t.options.inner.top=a.bottom-c.height,t.options.outer.top=a.bottom-u.height):r.bottom&&(t.options.inner.bottom=a.top+c.height,t.options.outer.bottom=a.top+u.height),r.left?(t.options.inner.left=a.right-c.width,t.options.outer.left=a.right-u.width):r.right&&(t.options.inner.right=a.left+c.width,t.options.outer.right=a.left+u.width),i.set(t)}},modifyCoords:i.modifyCoords};r.restrictSize=u,r.names.push("restrictSize"),a.perAction.restrictSize=u.defaults,c.defaults.restrictSize=u.defaults,e.exports=u},{"../actions/resize":10,"../defaultOptions":18,"../utils":43,"../utils/rect":50,"./base":23,"./restrictEdges":25}],27:[function(t,e,n){"use strict";var r=t("./base"),i=t("../interact"),o=t("../utils"),s=t("../defaultOptions"),a={defaults:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},setOffset:function(t){var e=t.interaction,n=t.interactable,r=t.element,i=t.rect,s=t.startOffset,a=t.options,c=[],l=o.rectToXY(o.resolveRectLike(a.origin)),p=l||o.getOriginXY(n,r,e.prepared.name);a=a||n.options[e.prepared.name].snap||{};var u=void 0;if("startCoords"===a.offset)u={x:e.startCoords.page.x-p.x,y:e.startCoords.page.y-p.y};else{var d=o.resolveRectLike(a.offset,n,r,[e]);u=o.rectToXY(d)||{x:0,y:0}}if(i&&a.relativePoints&&a.relativePoints.length)for(var f=0;f<a.relativePoints.length;f++){var v;v=a.relativePoints[f];var g=v,h=g.x,m=g.y;c.push({x:s.left-i.width*h+u.x,y:s.top-i.height*m+u.y})}else c.push(u);return c},set:function(t){var e=t.interaction,n=t.modifiedCoords,r=t.status,i=t.options,s=t.offset,a=[],c=void 0,l=void 0,p=void 0;if(r.useStatusXY)l={x:r.x,y:r.y};else{var u=o.getOriginXY(e.target,e.element,e.prepared.name);l=o.extend({},n),l.x-=u.x,l.y-=u.y}r.realX=l.x,r.realY=l.y;for(var d=i.targets?i.targets.length:0,f=0;f<s.length;f++){var v;v=s[f];for(var g=v,h=g.x,m=g.y,y=l.x-h,x=l.y-m,b=0;b<i.targets.length;b++){var w;w=i.targets[b];var E=w;c=o.is.function(E)?E(y,x,e):E,c&&a.push({x:o.is.number(c.x)?c.x+h:y,y:o.is.number(c.y)?c.y+m:x,range:o.is.number(c.range)?c.range:i.range})}}var T={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(p=0,d=a.length;p<d;p++){c=a[p];var S=c.range,C=c.x-l.x,D=c.y-l.y,I=o.hypot(C,D),O=I<=S;S===1/0&&T.inRange&&T.range!==1/0&&(O=!1),T.target&&!(O?T.inRange&&S!==1/0?I/S<T.distance/T.range:S===1/0&&T.range!==1/0||I<T.distance:!T.inRange&&I<T.distance)||(T.target=c,T.distance=I,T.range=S,T.inRange=O,T.dx=C,T.dy=D,r.range=S)}var M=void 0;T.target?(M=r.modifiedX!==T.target.x||r.modifiedY!==T.target.y,r.modifiedX=T.target.x,r.modifiedY=T.target.y):(M=!0,r.modifiedX=NaN,r.modifiedY=NaN),r.dx=T.dx,r.dy=T.dy,r.changed=M||T.inRange&&!r.locked,r.locked=T.inRange},modifyCoords:function(t){var e=t.page,n=t.client,r=t.status,i=t.phase,o=t.options,s=o&&o.relativePoints;if(o&&o.enabled&&("start"!==i||!s||!s.length))return r.locked&&(e.x+=r.dx,e.y+=r.dy,n.x+=r.dx,n.y+=r.dy),{range:r.range,locked:r.locked,x:r.modifiedX,y:r.modifiedY,realX:r.realX,realY:r.realY,dx:r.dx,dy:r.dy}}};i.createSnapGrid=function(t){return function(e,n){var r=t.limits||{left:-1/0,right:1/0,top:-1/0,bottom:1/0},i=0,s=0;o.is.object(t.offset)&&(i=t.offset.x,s=t.offset.y);var a=Math.round((e-i)/t.x),c=Math.round((n-s)/t.y);return{x:Math.max(r.left,Math.min(r.right,a*t.x+i)),y:Math.max(r.top,Math.min(r.bottom,c*t.y+s)),range:t.range}}},r.snap=a,r.names.push("snap"),s.perAction.snap=a.defaults,e.exports=a},{"../defaultOptions":18,"../interact":21,"../utils":43,"./base":23}],28:[function(t,e,n){"use strict";var r=t("./base"),i=t("./snap"),o=t("../defaultOptions"),s=t("../actions/resize"),a=t("../utils/"),c={defaults:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null},setOffset:function(t){var e=t.interaction,n=t.options,r=e.prepared.edges;if(r){t.options={relativePoints:[{x:r.left?0:1,y:r.top?0:1}],origin:{x:0,y:0},offset:"self",range:n.range};var o=i.setOffset(t);return t.options=n,o}},set:function(t){var e=t.interaction,n=t.options,r=t.offset,o=t.modifiedCoords,s=a.extend({},o),c=s.x-r[0].x,l=s.y-r[0].y;t.options=a.extend({},n),t.options.targets=[];for(var p=0;p<n.targets.length;p++){var u;u=n.targets[p];var d=u,f=void 0;f=a.is.function(d)?d(c,l,e):d,f&&("width"in f&&"height"in f&&(f.x=f.width,f.y=f.height),t.options.targets.push(f))}i.set(t)},modifyCoords:function(t){var e=t.options;t.options=a.extend({},e),t.options.enabled=e.enabled,t.options.relativePoints=[null],i.modifyCoords(t)}};r.snapSize=c,r.names.push("snapSize"),o.perAction.snapSize=c.defaults,s.defaults.snapSize=c.defaults,e.exports=c},{"../actions/resize":10,"../defaultOptions":18,"../utils/":43,"./base":23,"./snap":27}],29:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=t("../utils/pointerUtils");e.exports=function(){function t(e,n,o,s,a){if(r(this,t),i.pointerExtend(this,o),o!==n&&i.pointerExtend(this,n),this.interaction=a,this.timeStamp=(new Date).getTime(),this.originalEvent=o,this.type=e,this.pointerId=i.getPointerId(n),this.pointerType=i.getPointerType(n),this.target=s,this.currentTarget=null,"tap"===e){var c=a.getPointerIndex(n);this.dt=this.timeStamp-a.downTimes[c];var l=this.timeStamp-a.tapTime;this.double=!!(a.prevTap&&"doubletap"!==a.prevTap.type&&a.prevTap.target===this.target&&l<500)}else"doubletap"===e&&(this.dt=n.timeStamp-a.tapTime)}return t.prototype.subtractOrigin=function(t){var e=t.x,n=t.y;return this.pageX-=e,this.pageY-=n,this.clientX-=e,this.clientY-=n,this},t.prototype.addOrigin=function(t){var e=t.x,n=t.y;return this.pageX+=e,this.pageY+=n,this.clientX+=e,this.clientY+=n,this},t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t}()},{"../utils/pointerUtils":48}],30:[function(t,e,n){"use strict";function r(t){for(var e=t.interaction,n=t.pointer,s=t.event,c=t.eventTarget,p=t.type,u=void 0===p?t.pointerEvent.type:p,d=t.targets,f=void 0===d?i(t):d,v=t.pointerEvent,g=void 0===v?new o(u,n,s,c,e):v,h={interaction:e,pointer:n,event:s,eventTarget:c,targets:f,type:u,pointerEvent:g},m=0;m<f.length;m++){var y=f[m];for(var x in y.props||{})g[x]=y.props[x];var b=a.getOriginXY(y.eventable,y.element);if(g.subtractOrigin(b),g.eventable=y.eventable,g.currentTarget=y.element,y.eventable.fire(g),g.addOrigin(b),g.immediatePropagationStopped||g.propagationStopped&&m+1<f.length&&f[m+1].element!==g.currentTarget)break}if(l.fire("fired",h),"tap"===u){var w=g.double?r({interaction:e,pointer:n,event:s,eventTarget:c,type:"doubletap"}):g;e.prevTap=w,e.tapTime=w.timeStamp}return g}function i(t){var e=t.interaction,n=t.pointer,r=t.event,i=t.eventTarget,o=t.type,s=e.getPointerIndex(n);if("tap"===o&&(e.pointerWasMoved||!e.downTargets[s]||e.downTargets[s]!==i))return[];for(var c=a.getPath(i),p={interaction:e,pointer:n,event:r,eventTarget:i,type:o,path:c,targets:[],element:null},u=0;u<c.length;u++){var d;d=c[u];var f=d;p.element=f,l.fire("collect-targets",p)}return"hold"===o&&(p.targets=p.targets.filter(function(t){return t.eventable.options.holdDuration===e.holdTimers[s].duration})),p.targets}var o=t("./PointerEvent"),s=t("../Interaction"),a=t("../utils"),c=t("../defaultOptions"),l=t("../utils/Signals").new(),p=["down","up","cancel"],u=["down","up","cancel"],d={PointerEvent:o,fire:r,collectEventTargets:i,signals:l,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:["down","move","up","cancel","tap","doubletap","hold"]};s.signals.on("update-pointer-down",function(t){var e=t.interaction,n=t.pointerIndex;e.holdTimers[n]={duration:1/0,timeout:null}}),s.signals.on("remove-pointer",function(t){var e=t.interaction,n=t.pointerIndex;e.holdTimers.splice(n,1)}),s.signals.on("move",function(t){
var e=t.interaction,n=t.pointer,i=t.event,o=t.eventTarget,s=t.duplicateMove,a=e.getPointerIndex(n);s||e.pointerIsDown&&!e.pointerWasMoved||(e.pointerIsDown&&clearTimeout(e.holdTimers[a].timeout),r({interaction:e,pointer:n,event:i,eventTarget:o,type:"move"}))}),s.signals.on("down",function(t){for(var e=t.interaction,n=t.pointer,i=t.event,o=t.eventTarget,s=t.pointerIndex,c=e.holdTimers[s],p=a.getPath(o),u={interaction:e,pointer:n,event:i,eventTarget:o,type:"hold",targets:[],path:p,element:null},d=0;d<p.length;d++){var f;f=p[d];var v=f;u.element=v,l.fire("collect-targets",u)}if(u.targets.length){for(var g=1/0,h=0;h<u.targets.length;h++){var m;m=u.targets[h];var y=m,x=y.eventable.options.holdDuration;x<g&&(g=x)}c.duration=g,c.timeout=setTimeout(function(){r({interaction:e,eventTarget:o,pointer:n,event:i,type:"hold"})},g)}}),s.signals.on("up",function(t){var e=t.interaction,n=t.pointer,i=t.event,o=t.eventTarget;e.pointerWasMoved||r({interaction:e,eventTarget:o,pointer:n,event:i,type:"tap"})});for(var f=["up","cancel"],v=0;v<f.length;v++){var g=f[v];s.signals.on(g,function(t){var e=t.interaction,n=t.pointerIndex;e.holdTimers[n]&&clearTimeout(e.holdTimers[n].timeout)})}for(var h=0;h<p.length;h++)s.signals.on(p[h],function(t){return function(e){var n=e.interaction,i=e.pointer,o=e.event;r({interaction:n,eventTarget:e.eventTarget,pointer:i,event:o,type:t})}}(u[h]));s.signals.on("new",function(t){t.prevTap=null,t.tapTime=0,t.holdTimers=[]}),c.pointerEvents=d.defaults,e.exports=d},{"../Interaction":5,"../defaultOptions":18,"../utils":43,"../utils/Signals":34,"./PointerEvent":29}],31:[function(t,e,n){"use strict";function r(t){var e=t.pointerEvent;"hold"===e.type&&(e.count=(e.count||0)+1)}function i(t){var e=t.interaction,n=t.pointerEvent,r=t.eventTarget,i=t.targets;if("hold"===n.type&&i.length){var o=i[0].eventable.options.holdRepeatInterval;o<=0||(e.holdIntervalHandle=setTimeout(function(){s.fire({interaction:e,eventTarget:r,type:"hold",pointer:n,event:n})},o))}}function o(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}var s=t("./base"),a=t("../Interaction");s.signals.on("new",r),s.signals.on("fired",i);for(var c=["move","up","cancel","endall"],l=0;l<c.length;l++){var p=c[l];a.signals.on(p,o)}s.defaults.holdRepeatInterval=0,s.types.push("holdrepeat"),e.exports={onNew:r,onFired:i,endHoldRepeat:o}},{"../Interaction":5,"./base":30}],32:[function(t,e,n){"use strict";var r=t("./base"),i=t("../Interactable"),o=t("../utils/is"),s=t("../scope"),a=t("../utils/extend"),c=t("../utils/arr"),l=c.merge;r.signals.on("collect-targets",function(t){var e=t.targets,n=t.element,r=t.type,i=t.eventTarget;s.interactables.forEachMatch(n,function(t){var s=t.events,a=s.options;s[r]&&o.element(n)&&t.testIgnoreAllow(a,n,i)&&e.push({element:n,eventable:s,props:{interactable:t}})})}),i.signals.on("new",function(t){var e=t.interactable;e.events.getRect=function(t){return e.getRect(t)}}),i.signals.on("set",function(t){var e=t.interactable,n=t.options;a(e.events.options,r.defaults),a(e.events.options,n)}),l(i.eventTypes,r.types),i.prototype.pointerEvents=function(t){return a(this.events.options,t),this};var p=i.prototype._backCompatOption;i.prototype._backCompatOption=function(t,e){var n=p.call(this,t,e);return n===this&&(this.events.options[t]=e),n},i.settingsMethods.push("pointerEvents")},{"../Interactable":4,"../scope":33,"../utils/arr":35,"../utils/extend":40,"../utils/is":45,"./base":30}],33:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./utils/events"),o=t("./utils/Signals").new(),s=t("./utils/window"),a=s.getWindow,c={signals:o,events:i,utils:r,document:t("./utils/domObjects").document,documents:[],addDocument:function(t,e){if(r.contains(c.documents,t))return!1;e=e||a(t),c.documents.push(t),i.documents.push(t),t!==c.document&&i.add(e,"unload",c.onWindowUnload),o.fire("add-document",{doc:t,win:e})},removeDocument:function(t,e){var n=c.documents.indexOf(t);e=e||a(t),i.remove(e,"unload",c.onWindowUnload),c.documents.splice(n,1),i.documents.splice(n,1),o.fire("remove-document",{win:e,doc:t})},onWindowUnload:function(){c.removeDocument(this.document,this)}};e.exports=c},{"./utils":43,"./utils/Signals":34,"./utils/domObjects":37,"./utils/events":39,"./utils/window":51}],34:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(){r(this,t),this.listeners={}}return t.prototype.on=function(t,e){if(!this.listeners[t])return void(this.listeners[t]=[e]);this.listeners[t].push(e)},t.prototype.off=function(t,e){if(this.listeners[t]){var n=this.listeners[t].indexOf(e);-1!==n&&this.listeners[t].splice(n,1)}},t.prototype.fire=function(t,e){var n=this.listeners[t];if(n)for(var r=0;r<n.length;r++){var i;i=n[r];var o=i;if(!1===o(e,t))return}},t}();i.new=function(){return new i},e.exports=i},{}],35:[function(t,e,n){"use strict";function r(t,e){return-1!==t.indexOf(e)}function i(t,e){for(var n=0;n<e.length;n++){var r;r=e[n];var i=r;t.push(i)}return t}e.exports={contains:r,merge:i}},{}],36:[function(t,e,n){"use strict";var r=t("./window"),i=r.window,o=t("./is"),s=t("./domObjects"),a=s.Element,c=i.navigator,l={supportsTouch:!!("ontouchstart"in i||o.function(i.DocumentTouch)&&s.document instanceof i.DocumentTouch),supportsPointerEvent:!!s.PointerEvent,isIOS7:/iP(hone|od|ad)/.test(c.platform)&&/OS 7[^\d]/.test(c.appVersion),isIe9:/MSIE 9/.test(c.userAgent),prefixedMatchesSelector:"matches"in a.prototype?"matches":"webkitMatchesSelector"in a.prototype?"webkitMatchesSelector":"mozMatchesSelector"in a.prototype?"mozMatchesSelector":"oMatchesSelector"in a.prototype?"oMatchesSelector":"msMatchesSelector",pEventTypes:s.PointerEvent?s.PointerEvent===i.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,wheelEvent:"onmousewheel"in s.document?"mousewheel":"wheel"};l.isOperaMobile="Opera"===c.appName&&l.supportsTouch&&c.userAgent.match("Presto"),e.exports=l},{"./domObjects":37,"./is":45,"./window":51}],37:[function(t,e,n){"use strict";function r(){}var i={},o=t("./window").window;i.document=o.document,i.DocumentFragment=o.DocumentFragment||r,i.SVGElement=o.SVGElement||r,i.SVGSVGElement=o.SVGSVGElement||r,i.SVGElementInstance=o.SVGElementInstance||r,i.Element=o.Element||r,i.HTMLElement=o.HTMLElement||i.Element,i.Event=o.Event,i.Touch=o.Touch||r,i.PointerEvent=o.PointerEvent||o.MSPointerEvent,e.exports=i},{"./window":51}],38:[function(t,e,n){"use strict";var r=t("./window"),i=t("./browser"),o=t("./is"),s=t("./domObjects"),a={nodeContains:function(t,e){for(;e;){if(e===t)return!0;e=e.parentNode}return!1},closest:function(t,e){for(;o.element(t);){if(a.matchesSelector(t,e))return t;t=a.parentNode(t)}return null},parentNode:function(t){var e=t.parentNode;if(o.docFrag(e)){for(;(e=e.host)&&o.docFrag(e););return e}return e},matchesSelector:function(t,e){return r.window!==r.realWindow&&(e=e.replace(/\/deep\//g," ")),t[i.prefixedMatchesSelector](e)},indexOfDeepestElement:function(t){var e=[],n=[],r=void 0,i=t[0],o=i?0:-1,a=void 0,c=void 0,l=void 0,p=void 0;for(l=1;l<t.length;l++)if((r=t[l])&&r!==i)if(i){if(r.parentNode!==r.ownerDocument)if(i.parentNode!==r.ownerDocument){if(!e.length)for(a=i;a.parentNode&&a.parentNode!==a.ownerDocument;)e.unshift(a),a=a.parentNode;if(i instanceof s.HTMLElement&&r instanceof s.SVGElement&&!(r instanceof s.SVGSVGElement)){if(r===i.parentNode)continue;a=r.ownerSVGElement}else a=r;for(n=[];a.parentNode!==a.ownerDocument;)n.unshift(a),a=a.parentNode;for(p=0;n[p]&&n[p]===e[p];)p++;var u=[n[p-1],n[p],e[p]];for(c=u[0].lastChild;c;){if(c===u[1]){i=r,o=l,e=[];break}if(c===u[2])break;c=c.previousSibling}}else i=r,o=l}else i=r,o=l;return o},matchesUpTo:function(t,e,n){for(;o.element(t);){if(a.matchesSelector(t,e))return!0;if((t=a.parentNode(t))===n)return a.matchesSelector(t,e)}return!1},getActualElement:function(t){return t instanceof s.SVGElementInstance?t.correspondingUseElement:t},getScrollXY:function(t){return t=t||r.window,{x:t.scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}},getElementClientRect:function(t){var e=t instanceof s.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}},getElementRect:function(t){var e=a.getElementClientRect(t);if(!i.isIOS7&&e){var n=a.getScrollXY(r.getWindow(t));e.left+=n.x,e.right+=n.x,e.top+=n.y,e.bottom+=n.y}return e},getPath:function(t){for(var e=[];t;)e.push(t),t=a.parentNode(t);return e},trySelector:function(t){return!!o.string(t)&&(s.document.querySelector(t),!0)}};e.exports=a},{"./browser":36,"./domObjects":37,"./is":45,"./window":51}],39:[function(t,e,n){"use strict";function r(t,e,n,r){var i=p(r),o=x.indexOf(t),s=b[o];s||(s={events:{},typeCount:0},o=x.push(t)-1,b.push(s)),s.events[e]||(s.events[e]=[],s.typeCount++),y(s.events[e],n)||(t.addEventListener(e,n,T?i:!!i.capture),s.events[e].push(n))}function i(t,e,n,r){var o=p(r),s=x.indexOf(t),a=b[s];if(a&&a.events)if("all"!==e){if(a.events[e]){var c=a.events[e].length;if("all"===n){for(var l=0;l<c;l++)i(t,e,a.events[e][l],o);return}for(var u=0;u<c;u++)if(a.events[e][u]===n){t.removeEventListener("on"+e,n,T?o:!!o.capture),a.events[e].splice(u,1);break}a.events[e]&&0===a.events[e].length&&(a.events[e]=null,a.typeCount--)}a.typeCount||(b.splice(s,1),x.splice(s,1))}else for(e in a.events)a.events.hasOwnProperty(e)&&i(t,e,"all")}function o(t,e,n,i,o){var s=p(o);if(!w[n]){w[n]={selectors:[],contexts:[],listeners:[]};for(var l=0;l<E.length;l++){var u=E[l];r(u,n,a),r(u,n,c,!0)}}var d=w[n],f=void 0;for(f=d.selectors.length-1;f>=0&&(d.selectors[f]!==t||d.contexts[f]!==e);f--);-1===f&&(f=d.selectors.length,d.selectors.push(t),d.contexts.push(e),d.listeners.push([])),d.listeners[f].push([i,!!s.capture,s.passive])}function s(t,e,n,r,o){var s=p(o),l=w[n],u=!1,d=void 0;if(l)for(d=l.selectors.length-1;d>=0;d--)if(l.selectors[d]===t&&l.contexts[d]===e){for(var f=l.listeners[d],v=f.length-1;v>=0;v--){var g=f[v],h=g[0],m=g[1],y=g[2];if(h===r&&m===!!s.capture&&y===s.passive){f.splice(v,1),f.length||(l.selectors.splice(d,1),l.contexts.splice(d,1),l.listeners.splice(d,1),i(e,n,a),i(e,n,c,!0),l.selectors.length||(w[n]=null)),u=!0;break}}if(u)break}}function a(t,e){var n=p(e),r={},i=w[t.type],o=f.getEventTargets(t),s=o[0],a=s;for(v(r,t),r.originalEvent=t,r.preventDefault=l;u.element(a);){for(var c=0;c<i.selectors.length;c++){var g=i.selectors[c],h=i.contexts[c];if(d.matchesSelector(a,g)&&d.nodeContains(h,s)&&d.nodeContains(h,a)){var m=i.listeners[c];r.currentTarget=a;for(var y=0;y<m.length;y++){var x=m[y],b=x[0],E=x[1],T=x[2];E===!!n.capture&&T===n.passive&&b(r)}}}a=d.parentNode(a)}}function c(t){return a.call(this,t,!0)}function l(){this.originalEvent.preventDefault()}function p(t){return u.object(t)?t:{capture:t}}var u=t("./is"),d=t("./domUtils"),f=t("./pointerUtils"),v=t("./pointerExtend"),g=t("./window"),h=g.window,m=t("./arr"),y=m.contains,x=[],b=[],w={},E=[],T=function(){var t=!1;return h.document.createElement("div").addEventListener("test",null,{get capture(){t=!0}}),t}();e.exports={add:r,remove:i,addDelegate:o,removeDelegate:s,delegateListener:a,delegateUseCapture:c,delegatedEvents:w,documents:E,supportsOptions:T,_elements:x,_targets:b}},{"./arr":35,"./domUtils":38,"./is":45,"./pointerExtend":47,"./pointerUtils":48,"./window":51}],40:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n in e)t[n]=e[n];return t}},{}],41:[function(t,e,n){"use strict";var r=t("./rect"),i=r.resolveRectLike,o=r.rectToXY;e.exports=function(t,e,n){var r=t.options[n],s=r&&r.origin,a=s||t.options.origin,c=i(a,t,e,[t&&e]);return o(c)||{x:0,y:0}}},{"./rect":50}],42:[function(t,e,n){"use strict";e.exports=function(t,e){return Math.sqrt(t*t+e*e)}},{}],43:[function(t,e,n){"use strict";var r=t("./extend"),i=t("./window"),o={warnOnce:function(t,e){var n=!1;return function(){return n||(i.window.console.warn(e),n=!0),t.apply(this,arguments)}},_getQBezierValue:function(t,e,n,r){var i=1-t;return i*i*e+2*i*t*n+t*t*r},getQuadraticCurvePoint:function(t,e,n,r,i,s,a){return{x:o._getQBezierValue(a,t,n,i),y:o._getQBezierValue(a,e,r,s)}},easeOutQuad:function(t,e,n,r){return t/=r,-n*t*(t-2)+e},copyAction:function(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t},is:t("./is"),extend:r,hypot:t("./hypot"),getOriginXY:t("./getOriginXY")};r(o,t("./arr")),r(o,t("./domUtils")),r(o,t("./pointerUtils")),r(o,t("./rect")),e.exports=o},{"./arr":35,"./domUtils":38,"./extend":40,"./getOriginXY":41,"./hypot":42,"./is":45,"./pointerUtils":48,"./rect":50,"./window":51}],44:[function(t,e,n){"use strict";var r=t("../scope"),i=t("./index"),o={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t,e,n){for(var r=i.getPointerType(t),s=i.getPointerId(t),a={pointer:t,pointerId:s,pointerType:r,eventType:e,eventTarget:n},c=0;c<o.methodOrder.length;c++){var l;l=o.methodOrder[c];var p=l,u=o[p](a);if(u)return u}},simulationResume:function(t){var e=t.pointerType,n=t.eventType,o=t.eventTarget;if(!/down|start/i.test(n))return null;for(var s=0;s<r.interactions.length;s++){var a;a=r.interactions[s];var c=a,l=o;if(c.simulation&&c.simulation.allowResume&&c.pointerType===e)for(;l;){if(l===c.element)return c;l=i.parentNode(l)}}return null},mouseOrPen:function(t){var e=t.pointerId,n=t.pointerType,o=t.eventType;if("mouse"!==n&&"pen"!==n)return null;for(var s=void 0,a=0;a<r.interactions.length;a++){var c;c=r.interactions[a];var l=c;if(l.pointerType===n){if(l.simulation&&!i.contains(l.pointerIds,e))continue;if(l.interacting())return l;s||(s=l)}}if(s)return s;for(var p=0;p<r.interactions.length;p++){var u;u=r.interactions[p];var d=u;if(!(d.pointerType!==n||/down/i.test(o)&&d.simulation))return d}return null},hasPointer:function(t){for(var e=t.pointerId,n=0;n<r.interactions.length;n++){var o;o=r.interactions[n];var s=o;if(i.contains(s.pointerIds,e))return s}},idle:function(t){for(var e=t.pointerType,n=0;n<r.interactions.length;n++){var i;i=r.interactions[n];var o=i;if(1===o.pointerIds.length){var s=o.target;if(s&&!s.options.gesture.enabled)continue}else if(o.pointerIds.length>=2)continue;if(!o.interacting()&&e===o.pointerType)return o}return null}};e.exports=o},{"../scope":33,"./index":43}],45:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("./window"),o=t("./isWindow"),s={array:function(){},window:function(t){return t===i.window||o(t)},docFrag:function(t){return s.object(t)&&11===t.nodeType},object:function(t){return!!t&&"object"===(void 0===t?"undefined":r(t))},function:function(t){return"function"==typeof t},number:function(t){return"number"==typeof t},bool:function(t){return"boolean"==typeof t},string:function(t){return"string"==typeof t},element:function(t){if(!t||"object"!==(void 0===t?"undefined":r(t)))return!1;var e=i.getWindow(t)||i.window;return/object|function/.test(r(e.Element))?t instanceof e.Element:1===t.nodeType&&"string"==typeof t.nodeName}};s.array=function(t){return s.object(t)&&void 0!==t.length&&s.function(t.splice)},e.exports=s},{"./isWindow":46,"./window":51}],46:[function(t,e,n){"use strict";e.exports=function(t){return!(!t||!t.Window)&&t instanceof t.Window}},{}],47:[function(t,e,n){"use strict";function r(t,n){for(var r in n){var i=e.exports.prefixedPropREs,o=!1;for(var s in i)if(0===r.indexOf(s)&&i[s].test(r)){o=!0;break}o||"function"==typeof n[r]||(t[r]=n[r])}return t}r.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/},e.exports=r},{}],48:[function(t,e,n){"use strict";var r=t("./hypot"),i=t("./browser"),o=t("./domObjects"),s=t("./domUtils"),a=t("./domObjects"),c=t("./is"),l=t("./pointerExtend"),p={copyCoords:function(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp},setCoordDeltas:function(t,e,n){t.page.x=n.page.x-e.page.x,t.page.y=n.page.y-e.page.y,t.client.x=n.client.x-e.client.x,t.client.y=n.client.y-e.client.y,t.timeStamp=n.timeStamp-e.timeStamp;var i=Math.max(t.timeStamp/1e3,.001);t.page.speed=r(t.page.x,t.page.y)/i,t.page.vx=t.page.x/i,t.page.vy=t.page.y/i,t.client.speed=r(t.client.x,t.page.y)/i,t.client.vx=t.client.x/i,t.client.vy=t.client.y/i},isNativePointer:function(t){return t instanceof o.Event||t instanceof o.Touch},getXY:function(t,e,n){return n=n||{},t=t||"page",n.x=e[t+"X"],n.y=e[t+"Y"],n},getPageXY:function(t,e){return e=e||{},i.isOperaMobile&&p.isNativePointer(t)?(p.getXY("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):p.getXY("page",t,e),e},getClientXY:function(t,e){return e=e||{},i.isOperaMobile&&p.isNativePointer(t)?p.getXY("screen",t,e):p.getXY("client",t,e),e},getPointerId:function(t){return c.number(t.pointerId)?t.pointerId:t.identifier},setCoords:function(t,e,n){var r=e.length>1?p.pointerAverage(e):e[0],i={};p.getPageXY(r,i),t.page.x=i.x,t.page.y=i.y,p.getClientXY(r,i),t.client.x=i.x,t.client.y=i.y,t.timeStamp=c.number(n)?n:(new Date).getTime()},pointerExtend:l,getTouchPair:function(t){var e=[];return c.array(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e},pointerAverage:function(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++){var r;r=t[n];var i=r;for(var o in e)e[o]+=i[o]}for(var s in e)e[s]/=t.length;return e},touchBBox:function(t){if(t.length||t.touches&&t.touches.length>1){var e=p.getTouchPair(t),n=Math.min(e[0].pageX,e[1].pageX),r=Math.min(e[0].pageY,e[1].pageY);return{x:n,y:r,left:n,top:r,width:Math.max(e[0].pageX,e[1].pageX)-n,height:Math.max(e[0].pageY,e[1].pageY)-r}}},touchDistance:function(t,e){var n=e+"X",i=e+"Y",o=p.getTouchPair(t),s=o[0][n]-o[1][n],a=o[0][i]-o[1][i];return r(s,a)},touchAngle:function(t,e,n){var r=n+"X",i=n+"Y",o=p.getTouchPair(t),s=o[1][r]-o[0][r],a=o[1][i]-o[0][i];return 180*Math.atan2(a,s)/Math.PI},getPointerType:function(t){return c.string(t.pointerType)?t.pointerType:c.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type)||t instanceof a.Touch?"touch":"mouse"},getEventTargets:function(t){var e=c.function(t.composedPath)?t.composedPath():t.path;return[s.getActualElement(e?e[0]:t.target),s.getActualElement(t.currentTarget)]}};e.exports=p},{"./browser":36,"./domObjects":37,"./domUtils":38,"./hypot":42,"./is":45,"./pointerExtend":47}],49:[function(t,e,n){"use strict";for(var r=t("./window"),i=r.window,o=["ms","moz","webkit","o"],s=0,a=void 0,c=void 0,l=0;l<o.length&&!i.requestAnimationFrame;l++)a=i[o[l]+"RequestAnimationFrame"],c=i[o[l]+"CancelAnimationFrame"]||i[o[l]+"CancelRequestAnimationFrame"];a||(a=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-s)),r=setTimeout(function(){t(e+n)},n);return s=e+n,r}),c||(c=function(t){clearTimeout(t)}),e.exports={request:a,cancel:c}},{"./window":51}],50:[function(t,e,n){"use strict";var r=t("./extend"),i=t("./is"),o=t("./domUtils"),s=o.closest,a=o.parentNode,c=o.getElementRect,l={getStringOptionResult:function(t,e,n){return i.string(t)?t="parent"===t?a(n):"self"===t?e.getRect(n):s(n,t):null},resolveRectLike:function(t,e,n,r){return t=l.getStringOptionResult(t,e,n)||t,i.function(t)&&(t=t.apply(null,r)),i.element(t)&&(t=c(t)),t},rectToXY:function(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}},xywhToTlbr:function(t){return!t||"left"in t&&"top"in t||(t=r({},t),t.left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t},tlbrToXywh:function(t){return!t||"x"in t&&"y"in t||(t=r({},t),t.x=t.left||0,t.top=t.top||0,t.width=t.width||t.right-t.x,t.height=t.height||t.bottom-t.y),t}};e.exports=l},{"./domUtils":38,"./extend":40,"./is":45}],51:[function(t,e,n){"use strict";function r(t){i.realWindow=t;var e=t.document.createTextNode("");e.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(e)===e&&(t=t.wrap(t)),i.window=t}var i=e.exports,o=t("./isWindow");"undefined"==typeof window?(i.window=void 0,i.realWindow=void 0):r(window),i.getWindow=function(t){if(o(t))return t;var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i.window},i.init=r},{"./isWindow":46}]},{},[1])(1)});

//# sourceMappingURL=interact.min.js.map

// --- global variables

var pages = $('.page');
var criticPopup = $('#critic');

// --- M-V-C

var model = {
	// all our states
	timeLeft: 5000,
	expired: false,
	images: []
};

function controller(model, page, input) {

	// expired?
	if (model.timeLeft > 0) {
		showTime(model);
	}
	else {
		model.expired = true;
		showExpired(model);
		noDrag();
	}
  
	if (input && input.includes("data:image") && model.expired == false) {
		
		// update the model
		model.images.push(input);
		// drop file
		dropFile(page, input);
		// add bonus time
		addtime(10000);
		// critic speak
		critic();

	} else if (input && !input.includes("data:image")) {
		
		notAnImage();
	
	} else if (input && model.expired == true) {
		
		LateDropFile();
	
	}
}


// --- CONTROLLER

var x = setInterval(function() {
	model.timeLeft = model.timeLeft - 10;
	controller(model);
}, 10);

function addtime(bonusTime) {
	model.timeLeft = model.timeLeft + bonusTime;
}

// dropFile

pages.on("dragover", function(e) {
	e.preventDefault();
  $(this).addClass('dragover');
});
pages.on("dragleave", function(e) {
	e.preventDefault();
  $(this).removeClass('dragover');
});
pages.on("drop", function(e) {
  $(this).removeClass('dragover');
  e.preventDefault();
  console.log(e);
  var file = e.originalEvent.dataTransfer.files[0], 
      reader = new FileReader();
   var pageId = $(this).attr('id');
  reader.onload = function (event) {
    console.log(event.target);
    controller(model, pageId, event.target.result);
  };
  console.log(file);
  reader.readAsDataURL(file);

	return false;
});

// remove picture
// add del option
$(document).on('click', '.close', function () {
	var pageId = $(this).closest('.page').attr('id');
	console.log(pageId);
	controller(model, pageId, event.target.result);
});

// --- VIEW

function showTime(model) {
	seconds = model.timeLeft / 1000;
	document.getElementById("counter").innerHTML = seconds.toFixed(2) + " seconds left!";
}

function showExpired() {
	document.getElementById("counter").innerHTML = "expired!";
	$('body').addClass('expired');
	setTimeout(function(){ 
		window.print(); 
	}, 1000);
	clearInterval(x);
}

function notAnImage() {
	alert('The file you dropped is not an image!');
}

function dropFile(pageId, src) {
	var pageElement = $("<div>", {"class": "page-element draggable"});
	var pageElementContent = $("<img>", {"src": src});
	var pageElementClose = $("<span>", {"class": "close"}).text('x');
	pageElement.append(pageElementContent, pageElementClose);
	$('#' + pageId).append(pageElement);
}

function LateDropFile(src) {
	alert('too late bro');
}

function noDrag() {
	var elems = document.querySelectorAll(".draggable");
  	[].forEach.call(elems, function(el) {
    	el.classList.remove("draggable");
  });
}

function critic() {
	criticPopup.innerHTML = 'Make this image bigger pls!';
}

interact('.draggable')
	.draggable({
		onmove: window.dragMoveListener,
		restrict: {
			restriction: 'parent',
			elementRect: {
				top: 0,
				left: 0,
				bottom: 1,
				right: 1
			}
		},
	})
	.resizable({
		// resize from all edges and corners
		edges: {
			left: true,
			right: true,
			bottom: true,
			top: true
		},

		// keep the edges inside the parent
		restrictEdges: {
			outer: 'parent',
			endOnly: true,
		},

		inertia: true,
	})
	.on('resizemove', function(event) {
		var target = event.target,
			x = (parseFloat(target.getAttribute('data-x')) || 0),
			y = (parseFloat(target.getAttribute('data-y')) || 0);

		// update the element's style
		target.style.width = event.rect.width + 'px';
		target.style.height = event.rect.height + 'px';

		// translate when resizing from top or left edges
		x += event.deltaRect.left;
		y += event.deltaRect.top;

		target.style.webkitTransform = target.style.transform =
			'translate(' + x + 'px,' + y + 'px)';

		target.setAttribute('data-x', x);
		target.setAttribute('data-y', y);
	});

function dragMoveListener(event) {
	var target = event.target,
		// keep the dragged position in the data-x/data-y attributes
		x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx,
		y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;

	// translate the element
	target.style.webkitTransform =
		target.style.transform =
		'translate(' + x + 'px, ' + y + 'px)';

	// update the posiion attributes
	target.setAttribute('data-x', x);
	target.setAttribute('data-y', y);
}

// this is used later in the resizing and gesture demos
window.dragMoveListener = dragMoveListener;


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImludGVyYWN0Lm1pbi5qcyIsIm1haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogaW50ZXJhY3QuanMgdjEuMy4wIHwgaHR0cHM6Ly9yYXcuZ2l0aHViLmNvbS90YXllL2ludGVyYWN0LmpzL21hc3Rlci9MSUNFTlNFICovXG4hZnVuY3Rpb24odCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9dCgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSx0KTtlbHNle3ZhciBlO2U9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLGUuaW50ZXJhY3Q9dCgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gdChlLG4scil7ZnVuY3Rpb24gaShzLGEpe2lmKCFuW3NdKXtpZighZVtzXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYSYmYylyZXR1cm4gYyhzLCEwKTtpZihvKXJldHVybiBvKHMsITApO3ZhciBsPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrcytcIidcIik7dGhyb3cgbC5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGx9dmFyIHA9bltzXT17ZXhwb3J0czp7fX07ZVtzXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbih0KXt2YXIgbj1lW3NdWzFdW3RdO3JldHVybiBpKG58fHQpfSxwLHAuZXhwb3J0cyx0LGUsbixyKX1yZXR1cm4gbltzXS5leHBvcnRzfWZvcih2YXIgbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPHIubGVuZ3RoO3MrKylpKHJbc10pO3JldHVybiBpfSh7MTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO1widW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB0KFwiLi9zcmMvdXRpbHMvd2luZG93XCIpLmluaXQoZSksdChcIi4vc3JjL2luZGV4XCIpfTplLmV4cG9ydHM9dChcIi4vc3JjL2luZGV4XCIpfSx7XCIuL3NyYy9pbmRleFwiOjE5LFwiLi9zcmMvdXRpbHMvd2luZG93XCI6NTF9XSwyOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcjtyPWVbbl07dmFyIGk9cjtpZih0LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZClicmVhaztpKHQpfX12YXIgbz10KFwiLi91dGlscy9leHRlbmQuanNcIikscz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7cih0aGlzLHQpLHRoaXMub3B0aW9ucz1vKHt9LGV8fHt9KX1yZXR1cm4gdC5wcm90b3R5cGUuZmlyZT1mdW5jdGlvbih0KXt2YXIgZT12b2lkIDAsbj1cIm9uXCIrdC50eXBlLHI9dGhpcy5nbG9iYWw7KGU9dGhpc1t0LnR5cGVdKSYmaSh0LGUpLHRoaXNbbl0mJnRoaXNbbl0odCksIXQucHJvcGFnYXRpb25TdG9wcGVkJiZyJiYoZT1yW3QudHlwZV0pJiZpKHQsZSl9LHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSl7dGhpc1t0XT90aGlzW3RdLnB1c2goZSk6dGhpc1t0XT1bZV19LHQucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXNbdF0scj1uP24uaW5kZXhPZihlKTotMTstMSE9PXImJm4uc3BsaWNlKHIsMSksKG4mJjA9PT1uLmxlbmd0aHx8IWUpJiYodGhpc1t0XT12b2lkIDApfSx0fSgpO2UuZXhwb3J0cz1zfSx7XCIuL3V0aWxzL2V4dGVuZC5qc1wiOjQwfV0sMzpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXZhciBpPXQoXCIuL3V0aWxzL2V4dGVuZFwiKSxvPXQoXCIuL3V0aWxzL2dldE9yaWdpblhZXCIpLHM9dChcIi4vZGVmYXVsdE9wdGlvbnNcIiksYT10KFwiLi91dGlscy9TaWduYWxzXCIpLm5ldygpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbixjLGwscCx1KXt2YXIgZD1hcmd1bWVudHMubGVuZ3RoPjYmJnZvaWQgMCE9PWFyZ3VtZW50c1s2XSYmYXJndW1lbnRzWzZdO3IodGhpcyx0KTt2YXIgZj1lLnRhcmdldCx2PShmJiZmLm9wdGlvbnN8fHMpLmRlbHRhU291cmNlLGc9byhmLHAsYyksaD1cInN0YXJ0XCI9PT1sLG09XCJlbmRcIj09PWwseT1oP2Uuc3RhcnRDb29yZHM6ZS5jdXJDb29yZHMseD1lLnByZXZFdmVudDtwPXB8fGUuZWxlbWVudDt2YXIgYj1pKHt9LHkucGFnZSksdz1pKHt9LHkuY2xpZW50KTtiLngtPWcueCxiLnktPWcueSx3LngtPWcueCx3LnktPWcueSx0aGlzLmN0cmxLZXk9bi5jdHJsS2V5LHRoaXMuYWx0S2V5PW4uYWx0S2V5LHRoaXMuc2hpZnRLZXk9bi5zaGlmdEtleSx0aGlzLm1ldGFLZXk9bi5tZXRhS2V5LHRoaXMuYnV0dG9uPW4uYnV0dG9uLHRoaXMuYnV0dG9ucz1uLmJ1dHRvbnMsdGhpcy50YXJnZXQ9cCx0aGlzLmN1cnJlbnRUYXJnZXQ9cCx0aGlzLnJlbGF0ZWRUYXJnZXQ9dXx8bnVsbCx0aGlzLnByZUVuZD1kLHRoaXMudHlwZT1jKyhsfHxcIlwiKSx0aGlzLmludGVyYWN0aW9uPWUsdGhpcy5pbnRlcmFjdGFibGU9Zix0aGlzLnQwPWg/ZS5kb3duVGltZXNbZS5kb3duVGltZXMubGVuZ3RoLTFdOngudDA7dmFyIEU9e2ludGVyYWN0aW9uOmUsZXZlbnQ6bixhY3Rpb246YyxwaGFzZTpsLGVsZW1lbnQ6cCxyZWxhdGVkOnUscGFnZTpiLGNsaWVudDp3LGNvb3Jkczp5LHN0YXJ0aW5nOmgsZW5kaW5nOm0sZGVsdGFTb3VyY2U6dixpRXZlbnQ6dGhpc307YS5maXJlKFwic2V0LXh5XCIsRSksbT8odGhpcy5wYWdlWD14LnBhZ2VYLHRoaXMucGFnZVk9eC5wYWdlWSx0aGlzLmNsaWVudFg9eC5jbGllbnRYLHRoaXMuY2xpZW50WT14LmNsaWVudFkpOih0aGlzLnBhZ2VYPWIueCx0aGlzLnBhZ2VZPWIueSx0aGlzLmNsaWVudFg9dy54LHRoaXMuY2xpZW50WT13LnkpLHRoaXMueDA9ZS5zdGFydENvb3Jkcy5wYWdlLngtZy54LHRoaXMueTA9ZS5zdGFydENvb3Jkcy5wYWdlLnktZy55LHRoaXMuY2xpZW50WDA9ZS5zdGFydENvb3Jkcy5jbGllbnQueC1nLngsdGhpcy5jbGllbnRZMD1lLnN0YXJ0Q29vcmRzLmNsaWVudC55LWcueSxhLmZpcmUoXCJzZXQtZGVsdGFcIixFKSx0aGlzLnRpbWVTdGFtcD15LnRpbWVTdGFtcCx0aGlzLmR0PWUucG9pbnRlckRlbHRhLnRpbWVTdGFtcCx0aGlzLmR1cmF0aW9uPXRoaXMudGltZVN0YW1wLXRoaXMudDAsdGhpcy5zcGVlZD1lLnBvaW50ZXJEZWx0YVt2XS5zcGVlZCx0aGlzLnZlbG9jaXR5WD1lLnBvaW50ZXJEZWx0YVt2XS52eCx0aGlzLnZlbG9jaXR5WT1lLnBvaW50ZXJEZWx0YVt2XS52eSx0aGlzLnN3aXBlPW18fFwiaW5lcnRpYXN0YXJ0XCI9PT1sP3RoaXMuZ2V0U3dpcGUoKTpudWxsLGEuZmlyZShcIm5ld1wiLEUpfXJldHVybiB0LnByb3RvdHlwZS5nZXRTd2lwZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaW50ZXJhY3Rpb247aWYodC5wcmV2RXZlbnQuc3BlZWQ8NjAwfHx0aGlzLnRpbWVTdGFtcC10LnByZXZFdmVudC50aW1lU3RhbXA+MTUwKXJldHVybiBudWxsO3ZhciBlPTE4MCpNYXRoLmF0YW4yKHQucHJldkV2ZW50LnZlbG9jaXR5WSx0LnByZXZFdmVudC52ZWxvY2l0eVgpL01hdGguUEk7ZTwwJiYoZSs9MzYwKTt2YXIgbj0xMTIuNTw9ZSYmZTwyNDcuNSxyPTIwMi41PD1lJiZlPDMzNy41LGk9IW4mJigyOTIuNTw9ZXx8ZTw2Ny41KTtyZXR1cm57dXA6cixkb3duOiFyJiYyMi41PD1lJiZlPDE1Ny41LGxlZnQ6bixyaWdodDppLGFuZ2xlOmUsc3BlZWQ6dC5wcmV2RXZlbnQuc3BlZWQsdmVsb2NpdHk6e3g6dC5wcmV2RXZlbnQudmVsb2NpdHlYLHk6dC5wcmV2RXZlbnQudmVsb2NpdHlZfX19LHQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXt0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD10aGlzLnByb3BhZ2F0aW9uU3RvcHBlZD0hMH0sdC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LHR9KCk7YS5vbihcInNldC1kZWx0YVwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuaUV2ZW50LG49dC5pbnRlcmFjdGlvbixyPXQuc3RhcnRpbmcsaT10LmRlbHRhU291cmNlLG89cj9lOm4ucHJldkV2ZW50O1wiY2xpZW50XCI9PT1pPyhlLmR4PWUuY2xpZW50WC1vLmNsaWVudFgsZS5keT1lLmNsaWVudFktby5jbGllbnRZKTooZS5keD1lLnBhZ2VYLW8ucGFnZVgsZS5keT1lLnBhZ2VZLW8ucGFnZVkpfSksYy5zaWduYWxzPWEsZS5leHBvcnRzPWN9LHtcIi4vZGVmYXVsdE9wdGlvbnNcIjoxOCxcIi4vdXRpbHMvU2lnbmFsc1wiOjM0LFwiLi91dGlscy9leHRlbmRcIjo0MCxcIi4vdXRpbHMvZ2V0T3JpZ2luWFlcIjo0MX1dLDQ6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX12YXIgaT10KFwiLi91dGlscy9pc1wiKSxvPXQoXCIuL3V0aWxzL2V2ZW50c1wiKSxzPXQoXCIuL3V0aWxzL2V4dGVuZFwiKSxhPXQoXCIuL2FjdGlvbnMvYmFzZVwiKSxjPXQoXCIuL3Njb3BlXCIpLGw9dChcIi4vRXZlbnRhYmxlXCIpLHA9dChcIi4vZGVmYXVsdE9wdGlvbnNcIiksdT10KFwiLi91dGlscy9TaWduYWxzXCIpLm5ldygpLGQ9dChcIi4vdXRpbHMvZG9tVXRpbHNcIiksZj1kLmdldEVsZW1lbnRSZWN0LHY9ZC5ub2RlQ29udGFpbnMsZz1kLnRyeVNlbGVjdG9yLGg9ZC5tYXRjaGVzU2VsZWN0b3IsbT10KFwiLi91dGlscy93aW5kb3dcIikseT1tLmdldFdpbmRvdyx4PXQoXCIuL3V0aWxzL2FyclwiKSxiPXguY29udGFpbnMsdz10KFwiLi91dGlscy9icm93c2VyXCIpLEU9dy53aGVlbEV2ZW50O2MuaW50ZXJhY3RhYmxlcz1bXTt2YXIgVD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXtyKHRoaXMsdCksbj1ufHx7fSx0aGlzLnRhcmdldD1lLHRoaXMuZXZlbnRzPW5ldyBsLHRoaXMuX2NvbnRleHQ9bi5jb250ZXh0fHxjLmRvY3VtZW50LHRoaXMuX3dpbj15KGcoZSk/dGhpcy5fY29udGV4dDplKSx0aGlzLl9kb2M9dGhpcy5fd2luLmRvY3VtZW50LHUuZmlyZShcIm5ld1wiLHt0YXJnZXQ6ZSxvcHRpb25zOm4saW50ZXJhY3RhYmxlOnRoaXMsd2luOnRoaXMuX3dpbn0pLGMuYWRkRG9jdW1lbnQodGhpcy5fZG9jLHRoaXMuX3dpbiksYy5pbnRlcmFjdGFibGVzLnB1c2godGhpcyksdGhpcy5zZXQobil9cmV0dXJuIHQucHJvdG90eXBlLnNldE9uRXZlbnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49XCJvblwiK3Q7cmV0dXJuIGkuZnVuY3Rpb24oZS5vbnN0YXJ0KSYmKHRoaXMuZXZlbnRzW24rXCJzdGFydFwiXT1lLm9uc3RhcnQpLGkuZnVuY3Rpb24oZS5vbm1vdmUpJiYodGhpcy5ldmVudHNbbitcIm1vdmVcIl09ZS5vbm1vdmUpLGkuZnVuY3Rpb24oZS5vbmVuZCkmJih0aGlzLmV2ZW50c1tuK1wiZW5kXCJdPWUub25lbmQpLGkuZnVuY3Rpb24oZS5vbmluZXJ0aWFzdGFydCkmJih0aGlzLmV2ZW50c1tuK1wiaW5lcnRpYXN0YXJ0XCJdPWUub25pbmVydGlhc3RhcnQpLHRoaXN9LHQucHJvdG90eXBlLnNldFBlckFjdGlvbj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKW4gaW4gcFt0XSYmKGkub2JqZWN0KGVbbl0pPyh0aGlzLm9wdGlvbnNbdF1bbl09cyh0aGlzLm9wdGlvbnNbdF1bbl18fHt9LGVbbl0pLGkub2JqZWN0KHAucGVyQWN0aW9uW25dKSYmXCJlbmFibGVkXCJpbiBwLnBlckFjdGlvbltuXSYmKHRoaXMub3B0aW9uc1t0XVtuXS5lbmFibGVkPSExIT09ZVtuXS5lbmFibGVkKSk6aS5ib29sKGVbbl0pJiZpLm9iamVjdChwLnBlckFjdGlvbltuXSk/dGhpcy5vcHRpb25zW3RdW25dLmVuYWJsZWQ9ZVtuXTp2b2lkIDAhPT1lW25dJiYodGhpcy5vcHRpb25zW3RdW25dPWVbbl0pKX0sdC5wcm90b3R5cGUuZ2V0UmVjdD1mdW5jdGlvbih0KXtyZXR1cm4gdD10fHx0aGlzLnRhcmdldCxpLnN0cmluZyh0aGlzLnRhcmdldCkmJiFpLmVsZW1lbnQodCkmJih0PXRoaXMuX2NvbnRleHQucXVlcnlTZWxlY3Rvcih0aGlzLnRhcmdldCkpLGYodCl9LHQucHJvdG90eXBlLnJlY3RDaGVja2VyPWZ1bmN0aW9uKHQpe3JldHVybiBpLmZ1bmN0aW9uKHQpPyh0aGlzLmdldFJlY3Q9dCx0aGlzKTpudWxsPT09dD8oZGVsZXRlIHRoaXMub3B0aW9ucy5nZXRSZWN0LHRoaXMpOnRoaXMuZ2V0UmVjdH0sdC5wcm90b3R5cGUuX2JhY2tDb21wYXRPcHRpb249ZnVuY3Rpb24odCxlKXtpZihnKGUpfHxpLm9iamVjdChlKSl7dGhpcy5vcHRpb25zW3RdPWU7Zm9yKHZhciBuPTA7bjxhLm5hbWVzLmxlbmd0aDtuKyspe3ZhciByO3I9YS5uYW1lc1tuXTt2YXIgbz1yO3RoaXMub3B0aW9uc1tvXVt0XT1lfXJldHVybiB0aGlzfXJldHVybiB0aGlzLm9wdGlvbnNbdF19LHQucHJvdG90eXBlLm9yaWdpbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYmFja0NvbXBhdE9wdGlvbihcIm9yaWdpblwiLHQpfSx0LnByb3RvdHlwZS5kZWx0YVNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm5cInBhZ2VcIj09PXR8fFwiY2xpZW50XCI9PT10Pyh0aGlzLm9wdGlvbnMuZGVsdGFTb3VyY2U9dCx0aGlzKTp0aGlzLm9wdGlvbnMuZGVsdGFTb3VyY2V9LHQucHJvdG90eXBlLmNvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGV4dH0sdC5wcm90b3R5cGUuaW5Db250ZXh0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jb250ZXh0PT09dC5vd25lckRvY3VtZW50fHx2KHRoaXMuX2NvbnRleHQsdCl9LHQucHJvdG90eXBlLmZpcmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZXZlbnRzLmZpcmUodCksdGhpc30sdC5wcm90b3R5cGUuX29uT2ZmTXVsdGlwbGU9ZnVuY3Rpb24odCxlLG4scil7aWYoaS5zdHJpbmcoZSkmJi0xIT09ZS5zZWFyY2goXCIgXCIpJiYoZT1lLnRyaW0oKS5zcGxpdCgvICsvKSksaS5hcnJheShlKSl7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBzO3M9ZVtvXTt2YXIgYT1zO3RoaXNbdF0oYSxuLHIpfXJldHVybiEwfWlmKGkub2JqZWN0KGUpKXtmb3IodmFyIGMgaW4gZSl0aGlzW3RdKGMsZVtjXSxuKTtyZXR1cm4hMH19LHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5fb25PZmZNdWx0aXBsZShcIm9uXCIsZSxuLHIpP3RoaXM6KFwid2hlZWxcIj09PWUmJihlPUUpLGIodC5ldmVudFR5cGVzLGUpP3RoaXMuZXZlbnRzLm9uKGUsbik6aS5zdHJpbmcodGhpcy50YXJnZXQpP28uYWRkRGVsZWdhdGUodGhpcy50YXJnZXQsdGhpcy5fY29udGV4dCxlLG4scik6by5hZGQodGhpcy50YXJnZXQsZSxuLHIpLHRoaXMpfSx0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB0aGlzLl9vbk9mZk11bHRpcGxlKFwib2ZmXCIsZSxuLHIpP3RoaXM6KFwid2hlZWxcIj09PWUmJihlPUUpLGIodC5ldmVudFR5cGVzLGUpP3RoaXMuZXZlbnRzLm9mZihlLG4pOmkuc3RyaW5nKHRoaXMudGFyZ2V0KT9vLnJlbW92ZURlbGVnYXRlKHRoaXMudGFyZ2V0LHRoaXMuX2NvbnRleHQsZSxuLHIpOm8ucmVtb3ZlKHRoaXMudGFyZ2V0LGUsbixyKSx0aGlzKX0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUpe2kub2JqZWN0KGUpfHwoZT17fSksdGhpcy5vcHRpb25zPXMoe30scC5iYXNlKTt2YXIgbj1zKHt9LHAucGVyQWN0aW9uKTtmb3IodmFyIHIgaW4gYS5tZXRob2REaWN0KXt2YXIgbz1hLm1ldGhvZERpY3Rbcl07dGhpcy5vcHRpb25zW3JdPXMoe30scFtyXSksdGhpcy5zZXRQZXJBY3Rpb24ocixuKSx0aGlzW29dKGVbcl0pfWZvcih2YXIgYz0wO2M8dC5zZXR0aW5nc01ldGhvZHMubGVuZ3RoO2MrKyl7dmFyIGw7bD10LnNldHRpbmdzTWV0aG9kc1tjXTt2YXIgZD1sO3RoaXMub3B0aW9uc1tkXT1wLmJhc2VbZF0sZCBpbiBlJiZ0aGlzW2RdKGVbZF0pfXJldHVybiB1LmZpcmUoXCJzZXRcIix7b3B0aW9uczplLGludGVyYWN0YWJsZTp0aGlzfSksdGhpc30sdC5wcm90b3R5cGUudW5zZXQ9ZnVuY3Rpb24oKXtpZihvLnJlbW92ZSh0aGlzLnRhcmdldCxcImFsbFwiKSxpLnN0cmluZyh0aGlzLnRhcmdldCkpZm9yKHZhciB0IGluIG8uZGVsZWdhdGVkRXZlbnRzKXt2YXIgZT1vLmRlbGVnYXRlZEV2ZW50c1t0XTtlLnNlbGVjdG9yc1swXT09PXRoaXMudGFyZ2V0JiZlLmNvbnRleHRzWzBdPT09dGhpcy5fY29udGV4dCYmKGUuc2VsZWN0b3JzLnNwbGljZSgwLDEpLGUuY29udGV4dHMuc3BsaWNlKDAsMSksZS5saXN0ZW5lcnMuc3BsaWNlKDAsMSksZS5zZWxlY3RvcnMubGVuZ3RofHwoZVt0XT1udWxsKSksby5yZW1vdmUodGhpcy5fY29udGV4dCx0LG8uZGVsZWdhdGVMaXN0ZW5lciksby5yZW1vdmUodGhpcy5fY29udGV4dCx0LG8uZGVsZWdhdGVVc2VDYXB0dXJlLCEwKX1lbHNlIG8ucmVtb3ZlKHRoaXMsXCJhbGxcIik7dS5maXJlKFwidW5zZXRcIix7aW50ZXJhY3RhYmxlOnRoaXN9KSxjLmludGVyYWN0YWJsZXMuc3BsaWNlKGMuaW50ZXJhY3RhYmxlcy5pbmRleE9mKHRoaXMpLDEpO2Zvcih2YXIgbj0wO248KGMuaW50ZXJhY3Rpb25zfHxbXSkubGVuZ3RoO24rKyl7dmFyIHI7cj0oYy5pbnRlcmFjdGlvbnN8fFtdKVtuXTt2YXIgcz1yO3MudGFyZ2V0PT09dGhpcyYmcy5pbnRlcmFjdGluZygpJiZzLnN0b3AoKX1yZXR1cm4gYy5pbnRlcmFjdH0sdH0oKTtjLmludGVyYWN0YWJsZXMuaW5kZXhPZkVsZW1lbnQ9ZnVuY3Rpb24odCxlKXtlPWV8fGMuZG9jdW1lbnQ7Zm9yKHZhciBuPTA7bjx0aGlzLmxlbmd0aDtuKyspe3ZhciByPXRoaXNbbl07aWYoci50YXJnZXQ9PT10JiZyLl9jb250ZXh0PT09ZSlyZXR1cm4gbn1yZXR1cm4tMX0sYy5pbnRlcmFjdGFibGVzLmdldD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpc1t0aGlzLmluZGV4T2ZFbGVtZW50KHQsZSYmZS5jb250ZXh0KV07cmV0dXJuIHImJihpLnN0cmluZyh0KXx8bnx8ci5pbkNvbnRleHQodCkpP3I6bnVsbH0sYy5pbnRlcmFjdGFibGVzLmZvckVhY2hNYXRjaD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dGhpcy5sZW5ndGg7bisrKXt2YXIgcjtyPXRoaXNbbl07dmFyIG89cixzPXZvaWQgMDtpZigoaS5zdHJpbmcoby50YXJnZXQpP2kuZWxlbWVudCh0KSYmaCh0LG8udGFyZ2V0KTp0PT09by50YXJnZXQpJiZvLmluQ29udGV4dCh0KSYmKHM9ZShvKSksdm9pZCAwIT09cylyZXR1cm4gc319LFQuZXZlbnRUeXBlcz1jLmV2ZW50VHlwZXM9W10sVC5zaWduYWxzPXUsVC5zZXR0aW5nc01ldGhvZHM9W1wiZGVsdGFTb3VyY2VcIixcIm9yaWdpblwiLFwicHJldmVudERlZmF1bHRcIixcInJlY3RDaGVja2VyXCJdLGUuZXhwb3J0cz1UfSx7XCIuL0V2ZW50YWJsZVwiOjIsXCIuL2FjdGlvbnMvYmFzZVwiOjYsXCIuL2RlZmF1bHRPcHRpb25zXCI6MTgsXCIuL3Njb3BlXCI6MzMsXCIuL3V0aWxzL1NpZ25hbHNcIjozNCxcIi4vdXRpbHMvYXJyXCI6MzUsXCIuL3V0aWxzL2Jyb3dzZXJcIjozNixcIi4vdXRpbHMvZG9tVXRpbHNcIjozOCxcIi4vdXRpbHMvZXZlbnRzXCI6MzksXCIuL3V0aWxzL2V4dGVuZFwiOjQwLFwiLi91dGlscy9pc1wiOjQ1LFwiLi91dGlscy93aW5kb3dcIjo1MX1dLDU6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1jLmdldFBvaW50ZXJUeXBlKGUpLHI9Yy5nZXRFdmVudFRhcmdldHMoZSksaT1yWzBdLG89clsxXSxzPVtdO2lmKHAuc3VwcG9ydHNUb3VjaCYmL3RvdWNoLy50ZXN0KGUudHlwZSkpe2g9KG5ldyBEYXRlKS5nZXRUaW1lKCk7Zm9yKHZhciBsPTA7bDxlLmNoYW5nZWRUb3VjaGVzLmxlbmd0aDtsKyspe3ZhciB1O3U9ZS5jaGFuZ2VkVG91Y2hlc1tsXTt2YXIgZj11LHY9ZixnPWQuc2VhcmNoKHYsZS50eXBlLGkpO3MucHVzaChbdixnfHxuZXcgbSh7cG9pbnRlclR5cGU6bn0pXSl9fWVsc2V7dmFyIHk9ITE7aWYoIXAuc3VwcG9ydHNQb2ludGVyRXZlbnQmJi9tb3VzZS8udGVzdChlLnR5cGUpKXtmb3IodmFyIHg9MDt4PGEuaW50ZXJhY3Rpb25zLmxlbmd0aCYmIXk7eCsrKXk9XCJtb3VzZVwiIT09YS5pbnRlcmFjdGlvbnNbeF0ucG9pbnRlclR5cGUmJmEuaW50ZXJhY3Rpb25zW3hdLnBvaW50ZXJJc0Rvd247eT15fHwobmV3IERhdGUpLmdldFRpbWUoKS1oPDUwMHx8MD09PWUudGltZVN0YW1wfWlmKCF5KXt2YXIgYj1kLnNlYXJjaChlLGUudHlwZSxpKTtifHwoYj1uZXcgbSh7cG9pbnRlclR5cGU6bn0pKSxzLnB1c2goW2UsYl0pfX1mb3IodmFyIHc9MDt3PHMubGVuZ3RoO3crKyl7dmFyIEU9c1t3XSxUPUVbMF0sUz1FWzFdO1MuX3VwZGF0ZUV2ZW50VGFyZ2V0cyhpLG8pLFNbdF0oVCxlLGksbyl9fX1mdW5jdGlvbiBvKHQpe2Zvcih2YXIgZT0wO2U8YS5pbnRlcmFjdGlvbnMubGVuZ3RoO2UrKyl7dmFyIG47bj1hLmludGVyYWN0aW9uc1tlXTt2YXIgcj1uO3IuZW5kKHQpLGYuZmlyZShcImVuZGFsbFwiLHtldmVudDp0LGludGVyYWN0aW9uOnJ9KX19ZnVuY3Rpb24gcyh0LGUpe3ZhciBuPXQuZG9jLHI9MD09PWUuaW5kZXhPZihcImFkZFwiKT9sLmFkZDpsLnJlbW92ZTtmb3IodmFyIGkgaW4gYS5kZWxlZ2F0ZWRFdmVudHMpcihuLGksbC5kZWxlZ2F0ZUxpc3RlbmVyKSxyKG4saSxsLmRlbGVnYXRlVXNlQ2FwdHVyZSwhMCk7Zm9yKHZhciBvIGluIGIpcihuLG8sYltvXSl9dmFyIGE9dChcIi4vc2NvcGVcIiksYz10KFwiLi91dGlsc1wiKSxsPXQoXCIuL3V0aWxzL2V2ZW50c1wiKSxwPXQoXCIuL3V0aWxzL2Jyb3dzZXJcIiksdT10KFwiLi91dGlscy9kb21PYmplY3RzXCIpLGQ9dChcIi4vdXRpbHMvaW50ZXJhY3Rpb25GaW5kZXJcIiksZj10KFwiLi91dGlscy9TaWduYWxzXCIpLm5ldygpLHY9e30sZz1bXCJwb2ludGVyRG93blwiLFwicG9pbnRlck1vdmVcIixcInBvaW50ZXJVcFwiLFwidXBkYXRlUG9pbnRlclwiLFwicmVtb3ZlUG9pbnRlclwiXSxoPTA7YS5pbnRlcmFjdGlvbnM9W107Zm9yKHZhciBtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1lLnBvaW50ZXJUeXBlO3IodGhpcyx0KSx0aGlzLnRhcmdldD1udWxsLHRoaXMuZWxlbWVudD1udWxsLHRoaXMucHJlcGFyZWQ9e25hbWU6bnVsbCxheGlzOm51bGwsZWRnZXM6bnVsbH0sdGhpcy5wb2ludGVycz1bXSx0aGlzLnBvaW50ZXJJZHM9W10sdGhpcy5kb3duVGFyZ2V0cz1bXSx0aGlzLmRvd25UaW1lcz1bXSx0aGlzLnByZXZDb29yZHM9e3BhZ2U6e3g6MCx5OjB9LGNsaWVudDp7eDowLHk6MH0sdGltZVN0YW1wOjB9LHRoaXMuY3VyQ29vcmRzPXtwYWdlOnt4OjAseTowfSxjbGllbnQ6e3g6MCx5OjB9LHRpbWVTdGFtcDowfSx0aGlzLnN0YXJ0Q29vcmRzPXtwYWdlOnt4OjAseTowfSxjbGllbnQ6e3g6MCx5OjB9LHRpbWVTdGFtcDowfSx0aGlzLnBvaW50ZXJEZWx0YT17cGFnZTp7eDowLHk6MCx2eDowLHZ5OjAsc3BlZWQ6MH0sY2xpZW50Ont4OjAseTowLHZ4OjAsdnk6MCxzcGVlZDowfSx0aW1lU3RhbXA6MH0sdGhpcy5kb3duRXZlbnQ9bnVsbCx0aGlzLmRvd25Qb2ludGVyPXt9LHRoaXMuX2V2ZW50VGFyZ2V0PW51bGwsdGhpcy5fY3VyRXZlbnRUYXJnZXQ9bnVsbCx0aGlzLnByZXZFdmVudD1udWxsLHRoaXMucG9pbnRlcklzRG93bj0hMSx0aGlzLnBvaW50ZXJXYXNNb3ZlZD0hMSx0aGlzLl9pbnRlcmFjdGluZz0hMSx0aGlzLnBvaW50ZXJUeXBlPW4sZi5maXJlKFwibmV3XCIsdGhpcyksYS5pbnRlcmFjdGlvbnMucHVzaCh0aGlzKX1yZXR1cm4gdC5wcm90b3R5cGUucG9pbnRlckRvd249ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMudXBkYXRlUG9pbnRlcih0LGUsITApO2YuZmlyZShcImRvd25cIix7cG9pbnRlcjp0LGV2ZW50OmUsZXZlbnRUYXJnZXQ6bixwb2ludGVySW5kZXg6cixpbnRlcmFjdGlvbjp0aGlzfSl9LHQucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmludGVyYWN0aW5nKCl8fCF0aGlzLnBvaW50ZXJJc0Rvd258fHRoaXMucG9pbnRlcklkcy5sZW5ndGg8KFwiZ2VzdHVyZVwiPT09dC5uYW1lPzI6MSl8fCgtMT09PWEuaW50ZXJhY3Rpb25zLmluZGV4T2YodGhpcykmJmEuaW50ZXJhY3Rpb25zLnB1c2godGhpcyksYy5jb3B5QWN0aW9uKHRoaXMucHJlcGFyZWQsdCksdGhpcy50YXJnZXQ9ZSx0aGlzLmVsZW1lbnQ9bixmLmZpcmUoXCJhY3Rpb24tc3RhcnRcIix7aW50ZXJhY3Rpb246dGhpcyxldmVudDp0aGlzLmRvd25FdmVudH0pKX0sdC5wcm90b3R5cGUucG9pbnRlck1vdmU9ZnVuY3Rpb24oZSxuLHIpe3RoaXMuc2ltdWxhdGlvbnx8KHRoaXMudXBkYXRlUG9pbnRlcihlKSxjLnNldENvb3Jkcyh0aGlzLmN1ckNvb3Jkcyx0aGlzLnBvaW50ZXJzKSk7dmFyIGk9dGhpcy5jdXJDb29yZHMucGFnZS54PT09dGhpcy5wcmV2Q29vcmRzLnBhZ2UueCYmdGhpcy5jdXJDb29yZHMucGFnZS55PT09dGhpcy5wcmV2Q29vcmRzLnBhZ2UueSYmdGhpcy5jdXJDb29yZHMuY2xpZW50Lng9PT10aGlzLnByZXZDb29yZHMuY2xpZW50LngmJnRoaXMuY3VyQ29vcmRzLmNsaWVudC55PT09dGhpcy5wcmV2Q29vcmRzLmNsaWVudC55LG89dm9pZCAwLHM9dm9pZCAwO3RoaXMucG9pbnRlcklzRG93biYmIXRoaXMucG9pbnRlcldhc01vdmVkJiYobz10aGlzLmN1ckNvb3Jkcy5jbGllbnQueC10aGlzLnN0YXJ0Q29vcmRzLmNsaWVudC54LHM9dGhpcy5jdXJDb29yZHMuY2xpZW50LnktdGhpcy5zdGFydENvb3Jkcy5jbGllbnQueSx0aGlzLnBvaW50ZXJXYXNNb3ZlZD1jLmh5cG90KG8scyk+dC5wb2ludGVyTW92ZVRvbGVyYW5jZSk7dmFyIGE9e3BvaW50ZXI6ZSxwb2ludGVySW5kZXg6dGhpcy5nZXRQb2ludGVySW5kZXgoZSksZXZlbnQ6bixldmVudFRhcmdldDpyLGR4Om8sZHk6cyxkdXBsaWNhdGU6aSxpbnRlcmFjdGlvbjp0aGlzLGludGVyYWN0aW5nQmVmb3JlTW92ZTp0aGlzLmludGVyYWN0aW5nKCl9O2l8fGMuc2V0Q29vcmREZWx0YXModGhpcy5wb2ludGVyRGVsdGEsdGhpcy5wcmV2Q29vcmRzLHRoaXMuY3VyQ29vcmRzKSxmLmZpcmUoXCJtb3ZlXCIsYSksaXx8KHRoaXMuaW50ZXJhY3RpbmcoKSYmdGhpcy5kb01vdmUoYSksdGhpcy5wb2ludGVyV2FzTW92ZWQmJmMuY29weUNvb3Jkcyh0aGlzLnByZXZDb29yZHMsdGhpcy5jdXJDb29yZHMpKX0sdC5wcm90b3R5cGUuZG9Nb3ZlPWZ1bmN0aW9uKHQpe3Q9Yy5leHRlbmQoe3BvaW50ZXI6dGhpcy5wb2ludGVyc1swXSxldmVudDp0aGlzLnByZXZFdmVudCxldmVudFRhcmdldDp0aGlzLl9ldmVudFRhcmdldCxpbnRlcmFjdGlvbjp0aGlzfSx0fHx7fSksZi5maXJlKFwiYmVmb3JlLWFjdGlvbi1tb3ZlXCIsdCksdGhpcy5fZG9udEZpcmVNb3ZlfHxmLmZpcmUoXCJhY3Rpb24tbW92ZVwiLHQpLHRoaXMuX2RvbnRGaXJlTW92ZT0hMX0sdC5wcm90b3R5cGUucG9pbnRlclVwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXRoaXMuZ2V0UG9pbnRlckluZGV4KHQpO2YuZmlyZSgvY2FuY2VsJC9pLnRlc3QoZS50eXBlKT9cImNhbmNlbFwiOlwidXBcIix7cG9pbnRlcjp0LHBvaW50ZXJJbmRleDppLGV2ZW50OmUsZXZlbnRUYXJnZXQ6bixjdXJFdmVudFRhcmdldDpyLGludGVyYWN0aW9uOnRoaXN9KSx0aGlzLnNpbXVsYXRpb258fHRoaXMuZW5kKGUpLHRoaXMucG9pbnRlcklzRG93bj0hMSx0aGlzLnJlbW92ZVBvaW50ZXIodCxlKX0sdC5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKHQpe3Q9dHx8dGhpcy5wcmV2RXZlbnQsdGhpcy5pbnRlcmFjdGluZygpJiZmLmZpcmUoXCJhY3Rpb24tZW5kXCIse2V2ZW50OnQsaW50ZXJhY3Rpb246dGhpc30pLHRoaXMuc3RvcCgpfSx0LnByb3RvdHlwZS5jdXJyZW50QWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVyYWN0aW5nP3RoaXMucHJlcGFyZWQubmFtZTpudWxsfSx0LnByb3RvdHlwZS5pbnRlcmFjdGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcmFjdGluZ30sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe2YuZmlyZShcInN0b3BcIix7aW50ZXJhY3Rpb246dGhpc30pLHRoaXMuX2ludGVyYWN0aW5nJiYoZi5maXJlKFwic3RvcC1hY3RpdmVcIix7aW50ZXJhY3Rpb246dGhpc30pLGYuZmlyZShcInN0b3AtXCIrdGhpcy5wcmVwYXJlZC5uYW1lLHtpbnRlcmFjdGlvbjp0aGlzfSkpLHRoaXMudGFyZ2V0PXRoaXMuZWxlbWVudD1udWxsLHRoaXMuX2ludGVyYWN0aW5nPSExLHRoaXMucHJlcGFyZWQubmFtZT10aGlzLnByZXZFdmVudD1udWxsfSx0LnByb3RvdHlwZS5nZXRQb2ludGVySW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuXCJtb3VzZVwiPT09dGhpcy5wb2ludGVyVHlwZXx8XCJwZW5cIj09PXRoaXMucG9pbnRlclR5cGU/MDp0aGlzLnBvaW50ZXJJZHMuaW5kZXhPZihjLmdldFBvaW50ZXJJZCh0KSl9LHQucHJvdG90eXBlLnVwZGF0ZVBvaW50ZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06ZSYmLyhkb3dufHN0YXJ0KSQvaS50ZXN0KGUudHlwZSkscj1jLmdldFBvaW50ZXJJZCh0KSxpPXRoaXMuZ2V0UG9pbnRlckluZGV4KHQpO3JldHVybi0xPT09aSYmKGk9dGhpcy5wb2ludGVySWRzLmxlbmd0aCx0aGlzLnBvaW50ZXJJZHNbaV09ciksbiYmZi5maXJlKFwidXBkYXRlLXBvaW50ZXItZG93blwiLHtwb2ludGVyOnQsZXZlbnQ6ZSxkb3duOm4scG9pbnRlcklkOnIscG9pbnRlckluZGV4OmksaW50ZXJhY3Rpb246dGhpc30pLHRoaXMucG9pbnRlcnNbaV09dCxpfSx0LnByb3RvdHlwZS5yZW1vdmVQb2ludGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRQb2ludGVySW5kZXgodCk7LTEhPT1uJiYoZi5maXJlKFwicmVtb3ZlLXBvaW50ZXJcIix7cG9pbnRlcjp0LGV2ZW50OmUscG9pbnRlckluZGV4Om4saW50ZXJhY3Rpb246dGhpc30pLHRoaXMucG9pbnRlcnMuc3BsaWNlKG4sMSksdGhpcy5wb2ludGVySWRzLnNwbGljZShuLDEpLHRoaXMuZG93blRhcmdldHMuc3BsaWNlKG4sMSksdGhpcy5kb3duVGltZXMuc3BsaWNlKG4sMSkpfSx0LnByb3RvdHlwZS5fdXBkYXRlRXZlbnRUYXJnZXRzPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZXZlbnRUYXJnZXQ9dCx0aGlzLl9jdXJFdmVudFRhcmdldD1lfSx0fSgpLHk9MDt5PGcubGVuZ3RoO3krKyl7dmFyIHg9Z1t5XTt2W3hdPWkoeCl9dmFyIGI9e30sdz1wLnBFdmVudFR5cGVzO3UuUG9pbnRlckV2ZW50PyhiW3cuZG93bl09di5wb2ludGVyRG93bixiW3cubW92ZV09di5wb2ludGVyTW92ZSxiW3cudXBdPXYucG9pbnRlclVwLGJbdy5jYW5jZWxdPXYucG9pbnRlclVwKTooYi5tb3VzZWRvd249di5wb2ludGVyRG93bixiLm1vdXNlbW92ZT12LnBvaW50ZXJNb3ZlLGIubW91c2V1cD12LnBvaW50ZXJVcCxiLnRvdWNoc3RhcnQ9di5wb2ludGVyRG93bixiLnRvdWNobW92ZT12LnBvaW50ZXJNb3ZlLGIudG91Y2hlbmQ9di5wb2ludGVyVXAsYi50b3VjaGNhbmNlbD12LnBvaW50ZXJVcCksYi5ibHVyPW8sZi5vbihcInVwZGF0ZS1wb2ludGVyLWRvd25cIixmdW5jdGlvbih0KXt2YXIgZT10LmludGVyYWN0aW9uLG49dC5wb2ludGVyLHI9dC5wb2ludGVySWQsaT10LnBvaW50ZXJJbmRleCxvPXQuZXZlbnQscz10LmV2ZW50VGFyZ2V0LGE9dC5kb3duO2UucG9pbnRlcklkc1tpXT1yLGUucG9pbnRlcnNbaV09bixhJiYoZS5wb2ludGVySXNEb3duPSEwKSxlLmludGVyYWN0aW5nKCl8fChjLnNldENvb3JkcyhlLnN0YXJ0Q29vcmRzLGUucG9pbnRlcnMpLGMuY29weUNvb3JkcyhlLmN1ckNvb3JkcyxlLnN0YXJ0Q29vcmRzKSxjLmNvcHlDb29yZHMoZS5wcmV2Q29vcmRzLGUuc3RhcnRDb29yZHMpLGUuZG93bkV2ZW50PW8sZS5kb3duVGltZXNbaV09ZS5jdXJDb29yZHMudGltZVN0YW1wLGUuZG93blRhcmdldHNbaV09c3x8byYmYy5nZXRFdmVudFRhcmdldHMobylbMF0sZS5wb2ludGVyV2FzTW92ZWQ9ITEsYy5wb2ludGVyRXh0ZW5kKGUuZG93blBvaW50ZXIsbikpfSksYS5zaWduYWxzLm9uKFwiYWRkLWRvY3VtZW50XCIscyksYS5zaWduYWxzLm9uKFwicmVtb3ZlLWRvY3VtZW50XCIscyksbS5wb2ludGVyTW92ZVRvbGVyYW5jZT0xLG0uZG9PbkludGVyYWN0aW9ucz1pLG0uZW5kQWxsPW8sbS5zaWduYWxzPWYsbS5kb2NFdmVudHM9YixhLmVuZEFsbEludGVyYWN0aW9ucz1vLGUuZXhwb3J0cz1tfSx7XCIuL3Njb3BlXCI6MzMsXCIuL3V0aWxzXCI6NDMsXCIuL3V0aWxzL1NpZ25hbHNcIjozNCxcIi4vdXRpbHMvYnJvd3NlclwiOjM2LFwiLi91dGlscy9kb21PYmplY3RzXCI6MzcsXCIuL3V0aWxzL2V2ZW50c1wiOjM5LFwiLi91dGlscy9pbnRlcmFjdGlvbkZpbmRlclwiOjQ0fV0sNjpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLG4scil7dmFyIGk9dC5wcmVwYXJlZC5uYW1lLHM9bmV3IG8odCxlLGksbix0LmVsZW1lbnQsbnVsbCxyKTt0LnRhcmdldC5maXJlKHMpLHQucHJldkV2ZW50PXN9dmFyIGk9dChcIi4uL0ludGVyYWN0aW9uXCIpLG89dChcIi4uL0ludGVyYWN0RXZlbnRcIikscz17ZmlyZVByZXBhcmVkOnIsbmFtZXM6W10sbWV0aG9kRGljdDp7fX07aS5zaWduYWxzLm9uKFwiYWN0aW9uLXN0YXJ0XCIsZnVuY3Rpb24odCl7dmFyIGU9dC5pbnRlcmFjdGlvbixuPXQuZXZlbnQ7ZS5faW50ZXJhY3Rpbmc9ITAscihlLG4sXCJzdGFydFwiKX0pLGkuc2lnbmFscy5vbihcImFjdGlvbi1tb3ZlXCIsZnVuY3Rpb24odCl7dmFyIGU9dC5pbnRlcmFjdGlvbjtpZihyKGUsdC5ldmVudCxcIm1vdmVcIix0LnByZUVuZCksIWUuaW50ZXJhY3RpbmcoKSlyZXR1cm4hMX0pLGkuc2lnbmFscy5vbihcImFjdGlvbi1lbmRcIixmdW5jdGlvbih0KXtyKHQuaW50ZXJhY3Rpb24sdC5ldmVudCxcImVuZFwiKX0pLGUuZXhwb3J0cz1zfSx7XCIuLi9JbnRlcmFjdEV2ZW50XCI6MyxcIi4uL0ludGVyYWN0aW9uXCI6NX1dLDc6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10KFwiLi9iYXNlXCIpLGk9dChcIi4uL3V0aWxzXCIpLG89dChcIi4uL0ludGVyYWN0RXZlbnRcIikscz10KFwiLi4vSW50ZXJhY3RhYmxlXCIpLGE9dChcIi4uL0ludGVyYWN0aW9uXCIpLGM9dChcIi4uL2RlZmF1bHRPcHRpb25zXCIpLGw9e2RlZmF1bHRzOntlbmFibGVkOiExLG1vdXNlQnV0dG9uczpudWxsLG9yaWdpbjpudWxsLHNuYXA6bnVsbCxyZXN0cmljdDpudWxsLGluZXJ0aWE6bnVsbCxhdXRvU2Nyb2xsOm51bGwsc3RhcnRBeGlzOlwieHlcIixsb2NrQXhpczpcInh5XCJ9LGNoZWNrZXI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4ub3B0aW9ucy5kcmFnO3JldHVybiByLmVuYWJsZWQ/e25hbWU6XCJkcmFnXCIsYXhpczpcInN0YXJ0XCI9PT1yLmxvY2tBeGlzP3Iuc3RhcnRBeGlzOnIubG9ja0F4aXN9Om51bGx9LGdldEN1cnNvcjpmdW5jdGlvbigpe3JldHVyblwibW92ZVwifX07YS5zaWduYWxzLm9uKFwiYmVmb3JlLWFjdGlvbi1tb3ZlXCIsZnVuY3Rpb24odCl7dmFyIGU9dC5pbnRlcmFjdGlvbjtpZihcImRyYWdcIj09PWUucHJlcGFyZWQubmFtZSl7dmFyIG49ZS5wcmVwYXJlZC5heGlzO1wieFwiPT09bj8oZS5jdXJDb29yZHMucGFnZS55PWUuc3RhcnRDb29yZHMucGFnZS55LGUuY3VyQ29vcmRzLmNsaWVudC55PWUuc3RhcnRDb29yZHMuY2xpZW50LnksZS5wb2ludGVyRGVsdGEucGFnZS5zcGVlZD1NYXRoLmFicyhlLnBvaW50ZXJEZWx0YS5wYWdlLnZ4KSxlLnBvaW50ZXJEZWx0YS5jbGllbnQuc3BlZWQ9TWF0aC5hYnMoZS5wb2ludGVyRGVsdGEuY2xpZW50LnZ4KSxlLnBvaW50ZXJEZWx0YS5jbGllbnQudnk9MCxlLnBvaW50ZXJEZWx0YS5wYWdlLnZ5PTApOlwieVwiPT09biYmKGUuY3VyQ29vcmRzLnBhZ2UueD1lLnN0YXJ0Q29vcmRzLnBhZ2UueCxlLmN1ckNvb3Jkcy5jbGllbnQueD1lLnN0YXJ0Q29vcmRzLmNsaWVudC54LGUucG9pbnRlckRlbHRhLnBhZ2Uuc3BlZWQ9TWF0aC5hYnMoZS5wb2ludGVyRGVsdGEucGFnZS52eSksZS5wb2ludGVyRGVsdGEuY2xpZW50LnNwZWVkPU1hdGguYWJzKGUucG9pbnRlckRlbHRhLmNsaWVudC52eSksZS5wb2ludGVyRGVsdGEuY2xpZW50LnZ4PTAsZS5wb2ludGVyRGVsdGEucGFnZS52eD0wKX19KSxvLnNpZ25hbHMub24oXCJuZXdcIixmdW5jdGlvbih0KXt2YXIgZT10LmlFdmVudCxuPXQuaW50ZXJhY3Rpb247aWYoXCJkcmFnbW92ZVwiPT09ZS50eXBlKXt2YXIgcj1uLnByZXBhcmVkLmF4aXM7XCJ4XCI9PT1yPyhlLnBhZ2VZPW4uc3RhcnRDb29yZHMucGFnZS55LGUuY2xpZW50WT1uLnN0YXJ0Q29vcmRzLmNsaWVudC55LGUuZHk9MCk6XCJ5XCI9PT1yJiYoZS5wYWdlWD1uLnN0YXJ0Q29vcmRzLnBhZ2UueCxlLmNsaWVudFg9bi5zdGFydENvb3Jkcy5jbGllbnQueCxlLmR4PTApfX0pLHMucHJvdG90eXBlLmRyYWdnYWJsZT1mdW5jdGlvbih0KXtyZXR1cm4gaS5pcy5vYmplY3QodCk/KHRoaXMub3B0aW9ucy5kcmFnLmVuYWJsZWQ9ITEhPT10LmVuYWJsZWQsdGhpcy5zZXRQZXJBY3Rpb24oXCJkcmFnXCIsdCksdGhpcy5zZXRPbkV2ZW50cyhcImRyYWdcIix0KSwvXih4eXx4fHl8c3RhcnQpJC8udGVzdCh0LmxvY2tBeGlzKSYmKHRoaXMub3B0aW9ucy5kcmFnLmxvY2tBeGlzPXQubG9ja0F4aXMpLC9eKHh5fHh8eSkkLy50ZXN0KHQuc3RhcnRBeGlzKSYmKHRoaXMub3B0aW9ucy5kcmFnLnN0YXJ0QXhpcz10LnN0YXJ0QXhpcyksdGhpcyk6aS5pcy5ib29sKHQpPyh0aGlzLm9wdGlvbnMuZHJhZy5lbmFibGVkPXQsdHx8KHRoaXMub25kcmFnc3RhcnQ9dGhpcy5vbmRyYWdzdGFydD10aGlzLm9uZHJhZ2VuZD1udWxsKSx0aGlzKTp0aGlzLm9wdGlvbnMuZHJhZ30sci5kcmFnPWwsci5uYW1lcy5wdXNoKFwiZHJhZ1wiKSxpLm1lcmdlKHMuZXZlbnRUeXBlcyxbXCJkcmFnc3RhcnRcIixcImRyYWdtb3ZlXCIsXCJkcmFnaW5lcnRpYXN0YXJ0XCIsXCJkcmFnaW5lcnRpYXJlc3VtZVwiLFwiZHJhZ2VuZFwiXSksci5tZXRob2REaWN0LmRyYWc9XCJkcmFnZ2FibGVcIixjLmRyYWc9bC5kZWZhdWx0cyxlLmV4cG9ydHM9bH0se1wiLi4vSW50ZXJhY3RFdmVudFwiOjMsXCIuLi9JbnRlcmFjdGFibGVcIjo0LFwiLi4vSW50ZXJhY3Rpb25cIjo1LFwiLi4vZGVmYXVsdE9wdGlvbnNcIjoxOCxcIi4uL3V0aWxzXCI6NDMsXCIuL2Jhc2VcIjo2fV0sODpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXt2YXIgbj1bXSxyPVtdO2U9ZXx8dC5lbGVtZW50O2Zvcih2YXIgaT0wO2k8dS5pbnRlcmFjdGFibGVzLmxlbmd0aDtpKyspe3ZhciBvO289dS5pbnRlcmFjdGFibGVzW2ldO3ZhciBzPW87aWYocy5vcHRpb25zLmRyb3AuZW5hYmxlZCl7dmFyIGE9cy5vcHRpb25zLmRyb3AuYWNjZXB0O2lmKCEocC5pcy5lbGVtZW50KGEpJiZhIT09ZXx8cC5pcy5zdHJpbmcoYSkmJiFwLm1hdGNoZXNTZWxlY3RvcihlLGEpKSlmb3IodmFyIGM9cC5pcy5zdHJpbmcocy50YXJnZXQpP3MuX2NvbnRleHQucXVlcnlTZWxlY3RvckFsbChzLnRhcmdldCk6W3MudGFyZ2V0XSxsPTA7bDxjLmxlbmd0aDtsKyspe3ZhciBkO2Q9Y1tsXTt2YXIgZj1kO2YhPT1lJiYobi5wdXNoKHMpLHIucHVzaChmKSl9fX1yZXR1cm57ZWxlbWVudHM6cixkcm9wem9uZXM6bn19ZnVuY3Rpb24gaSh0LGUpe2Zvcih2YXIgbj12b2lkIDAscj0wO3I8dC5hY3RpdmVEcm9wcy5kcm9wem9uZXMubGVuZ3RoO3IrKyl7dmFyIGk9dC5hY3RpdmVEcm9wcy5kcm9wem9uZXNbcl0sbz10LmFjdGl2ZURyb3BzLmVsZW1lbnRzW3JdO28hPT1uJiYoZS50YXJnZXQ9byxpLmZpcmUoZSkpLG49b319ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPXIodCxlLCEwKTt0LmFjdGl2ZURyb3BzLmRyb3B6b25lcz1uLmRyb3B6b25lcyx0LmFjdGl2ZURyb3BzLmVsZW1lbnRzPW4uZWxlbWVudHMsdC5hY3RpdmVEcm9wcy5yZWN0cz1bXTtmb3IodmFyIGk9MDtpPHQuYWN0aXZlRHJvcHMuZHJvcHpvbmVzLmxlbmd0aDtpKyspdC5hY3RpdmVEcm9wcy5yZWN0c1tpXT10LmFjdGl2ZURyb3BzLmRyb3B6b25lc1tpXS5nZXRSZWN0KHQuYWN0aXZlRHJvcHMuZWxlbWVudHNbaV0pfWZ1bmN0aW9uIHModCxlLG4pe3ZhciByPXQuaW50ZXJhY3Rpb24saT1bXTt5JiZvKHIsbik7Zm9yKHZhciBzPTA7czxyLmFjdGl2ZURyb3BzLmRyb3B6b25lcy5sZW5ndGg7cysrKXt2YXIgYT1yLmFjdGl2ZURyb3BzLmRyb3B6b25lc1tzXSxjPXIuYWN0aXZlRHJvcHMuZWxlbWVudHNbc10sbD1yLmFjdGl2ZURyb3BzLnJlY3RzW3NdO2kucHVzaChhLmRyb3BDaGVjayh0LGUsci50YXJnZXQsbixjLGwpP2M6bnVsbCl9dmFyIHU9cC5pbmRleE9mRGVlcGVzdEVsZW1lbnQoaSk7cmV0dXJue2Ryb3B6b25lOnIuYWN0aXZlRHJvcHMuZHJvcHpvbmVzW3VdfHxudWxsLGVsZW1lbnQ6ci5hY3RpdmVEcm9wcy5lbGVtZW50c1t1XXx8bnVsbH19ZnVuY3Rpb24gYSh0LGUsbil7dmFyIHI9e2VudGVyOm51bGwsbGVhdmU6bnVsbCxhY3RpdmF0ZTpudWxsLGRlYWN0aXZhdGU6bnVsbCxtb3ZlOm51bGwsZHJvcDpudWxsfSxpPXtkcmFnRXZlbnQ6bixpbnRlcmFjdGlvbjp0LHRhcmdldDp0LmRyb3BFbGVtZW50LGRyb3B6b25lOnQuZHJvcFRhcmdldCxyZWxhdGVkVGFyZ2V0Om4udGFyZ2V0LGRyYWdnYWJsZTpuLmludGVyYWN0YWJsZSx0aW1lU3RhbXA6bi50aW1lU3RhbXB9O3JldHVybiB0LmRyb3BFbGVtZW50IT09dC5wcmV2RHJvcEVsZW1lbnQmJih0LnByZXZEcm9wVGFyZ2V0JiYoci5sZWF2ZT1wLmV4dGVuZCh7dHlwZTpcImRyYWdsZWF2ZVwifSxpKSxuLmRyYWdMZWF2ZT1yLmxlYXZlLnRhcmdldD10LnByZXZEcm9wRWxlbWVudCxuLnByZXZEcm9wem9uZT1yLmxlYXZlLmRyb3B6b25lPXQucHJldkRyb3BUYXJnZXQpLHQuZHJvcFRhcmdldCYmKHIuZW50ZXI9e2RyYWdFdmVudDpuLGludGVyYWN0aW9uOnQsdGFyZ2V0OnQuZHJvcEVsZW1lbnQsZHJvcHpvbmU6dC5kcm9wVGFyZ2V0LHJlbGF0ZWRUYXJnZXQ6bi50YXJnZXQsZHJhZ2dhYmxlOm4uaW50ZXJhY3RhYmxlLHRpbWVTdGFtcDpuLnRpbWVTdGFtcCx0eXBlOlwiZHJhZ2VudGVyXCJ9LG4uZHJhZ0VudGVyPXQuZHJvcEVsZW1lbnQsbi5kcm9wem9uZT10LmRyb3BUYXJnZXQpKSxcImRyYWdlbmRcIj09PW4udHlwZSYmdC5kcm9wVGFyZ2V0JiYoci5kcm9wPXAuZXh0ZW5kKHt0eXBlOlwiZHJvcFwifSxpKSxuLmRyb3B6b25lPXQuZHJvcFRhcmdldCxuLnJlbGF0ZWRUYXJnZXQ9dC5kcm9wRWxlbWVudCksXCJkcmFnc3RhcnRcIj09PW4udHlwZSYmKHIuYWN0aXZhdGU9cC5leHRlbmQoe3R5cGU6XCJkcm9wYWN0aXZhdGVcIn0saSksci5hY3RpdmF0ZS50YXJnZXQ9bnVsbCxyLmFjdGl2YXRlLmRyb3B6b25lPW51bGwpLFwiZHJhZ2VuZFwiPT09bi50eXBlJiYoci5kZWFjdGl2YXRlPXAuZXh0ZW5kKHt0eXBlOlwiZHJvcGRlYWN0aXZhdGVcIn0saSksci5kZWFjdGl2YXRlLnRhcmdldD1udWxsLHIuZGVhY3RpdmF0ZS5kcm9wem9uZT1udWxsKSxcImRyYWdtb3ZlXCI9PT1uLnR5cGUmJnQuZHJvcFRhcmdldCYmKHIubW92ZT1wLmV4dGVuZCh7ZHJhZ21vdmU6bix0eXBlOlwiZHJvcG1vdmVcIn0saSksbi5kcm9wem9uZT10LmRyb3BUYXJnZXQpLHJ9ZnVuY3Rpb24gYyh0LGUpe2UubGVhdmUmJnQucHJldkRyb3BUYXJnZXQuZmlyZShlLmxlYXZlKSxlLm1vdmUmJnQuZHJvcFRhcmdldC5maXJlKGUubW92ZSksZS5lbnRlciYmdC5kcm9wVGFyZ2V0LmZpcmUoZS5lbnRlciksZS5kcm9wJiZ0LmRyb3BUYXJnZXQuZmlyZShlLmRyb3ApLGUuZGVhY3RpdmF0ZSYmaSh0LGUuZGVhY3RpdmF0ZSksdC5wcmV2RHJvcFRhcmdldD10LmRyb3BUYXJnZXQsdC5wcmV2RHJvcEVsZW1lbnQ9dC5kcm9wRWxlbWVudH12YXIgbD10KFwiLi9iYXNlXCIpLHA9dChcIi4uL3V0aWxzXCIpLHU9dChcIi4uL3Njb3BlXCIpLGQ9dChcIi4uL2ludGVyYWN0XCIpLGY9dChcIi4uL0ludGVyYWN0RXZlbnRcIiksdj10KFwiLi4vSW50ZXJhY3RhYmxlXCIpLGc9dChcIi4uL0ludGVyYWN0aW9uXCIpLGg9dChcIi4uL2RlZmF1bHRPcHRpb25zXCIpLG09e2RlZmF1bHRzOntlbmFibGVkOiExLGFjY2VwdDpudWxsLG92ZXJsYXA6XCJwb2ludGVyXCJ9fSx5PSExO2cuc2lnbmFscy5vbihcImFjdGlvbi1zdGFydFwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuaW50ZXJhY3Rpb24sbj10LmV2ZW50O2lmKFwiZHJhZ1wiPT09ZS5wcmVwYXJlZC5uYW1lKXtlLmFjdGl2ZURyb3BzLmRyb3B6b25lcz1bXSxlLmFjdGl2ZURyb3BzLmVsZW1lbnRzPVtdLGUuYWN0aXZlRHJvcHMucmVjdHM9W10sZS5kcm9wRXZlbnRzPW51bGwsZS5keW5hbWljRHJvcHx8byhlLGUuZWxlbWVudCk7dmFyIHI9ZS5wcmV2RXZlbnQscz1hKGUsbixyKTtzLmFjdGl2YXRlJiZpKGUscy5hY3RpdmF0ZSl9fSksZi5zaWduYWxzLm9uKFwibmV3XCIsZnVuY3Rpb24odCl7dmFyIGU9dC5pbnRlcmFjdGlvbixuPXQuaUV2ZW50LHI9dC5ldmVudDtpZihcImRyYWdtb3ZlXCI9PT1uLnR5cGV8fFwiZHJhZ2VuZFwiPT09bi50eXBlKXt2YXIgaT1lLmVsZW1lbnQsbz1uLGM9cyhvLHIsaSk7ZS5kcm9wVGFyZ2V0PWMuZHJvcHpvbmUsZS5kcm9wRWxlbWVudD1jLmVsZW1lbnQsZS5kcm9wRXZlbnRzPWEoZSxyLG8pfX0pLGcuc2lnbmFscy5vbihcImFjdGlvbi1tb3ZlXCIsZnVuY3Rpb24odCl7dmFyIGU9dC5pbnRlcmFjdGlvbjtcImRyYWdcIj09PWUucHJlcGFyZWQubmFtZSYmYyhlLGUuZHJvcEV2ZW50cyl9KSxnLnNpZ25hbHMub24oXCJhY3Rpb24tZW5kXCIsZnVuY3Rpb24odCl7dmFyIGU9dC5pbnRlcmFjdGlvbjtcImRyYWdcIj09PWUucHJlcGFyZWQubmFtZSYmYyhlLGUuZHJvcEV2ZW50cyl9KSxnLnNpZ25hbHMub24oXCJzdG9wLWRyYWdcIixmdW5jdGlvbih0KXt2YXIgZT10LmludGVyYWN0aW9uO2UuYWN0aXZlRHJvcHMuZHJvcHpvbmVzPWUuYWN0aXZlRHJvcHMuZWxlbWVudHM9ZS5hY3RpdmVEcm9wcy5yZWN0cz1lLmRyb3BFdmVudHM9bnVsbH0pLHYucHJvdG90eXBlLmRyb3B6b25lPWZ1bmN0aW9uKHQpe3JldHVybiBwLmlzLm9iamVjdCh0KT8odGhpcy5vcHRpb25zLmRyb3AuZW5hYmxlZD0hMSE9PXQuZW5hYmxlZCxwLmlzLmZ1bmN0aW9uKHQub25kcm9wKSYmKHRoaXMuZXZlbnRzLm9uZHJvcD10Lm9uZHJvcCkscC5pcy5mdW5jdGlvbih0Lm9uZHJvcGFjdGl2YXRlKSYmKHRoaXMuZXZlbnRzLm9uZHJvcGFjdGl2YXRlPXQub25kcm9wYWN0aXZhdGUpLHAuaXMuZnVuY3Rpb24odC5vbmRyb3BkZWFjdGl2YXRlKSYmKHRoaXMuZXZlbnRzLm9uZHJvcGRlYWN0aXZhdGU9dC5vbmRyb3BkZWFjdGl2YXRlKSxwLmlzLmZ1bmN0aW9uKHQub25kcmFnZW50ZXIpJiYodGhpcy5ldmVudHMub25kcmFnZW50ZXI9dC5vbmRyYWdlbnRlcikscC5pcy5mdW5jdGlvbih0Lm9uZHJhZ2xlYXZlKSYmKHRoaXMuZXZlbnRzLm9uZHJhZ2xlYXZlPXQub25kcmFnbGVhdmUpLHAuaXMuZnVuY3Rpb24odC5vbmRyb3Btb3ZlKSYmKHRoaXMuZXZlbnRzLm9uZHJvcG1vdmU9dC5vbmRyb3Btb3ZlKSwvXihwb2ludGVyfGNlbnRlcikkLy50ZXN0KHQub3ZlcmxhcCk/dGhpcy5vcHRpb25zLmRyb3Aub3ZlcmxhcD10Lm92ZXJsYXA6cC5pcy5udW1iZXIodC5vdmVybGFwKSYmKHRoaXMub3B0aW9ucy5kcm9wLm92ZXJsYXA9TWF0aC5tYXgoTWF0aC5taW4oMSx0Lm92ZXJsYXApLDApKSxcImFjY2VwdFwiaW4gdCYmKHRoaXMub3B0aW9ucy5kcm9wLmFjY2VwdD10LmFjY2VwdCksXCJjaGVja2VyXCJpbiB0JiYodGhpcy5vcHRpb25zLmRyb3AuY2hlY2tlcj10LmNoZWNrZXIpLHRoaXMpOnAuaXMuYm9vbCh0KT8odGhpcy5vcHRpb25zLmRyb3AuZW5hYmxlZD10LHR8fCh0aGlzLm9uZHJhZ2VudGVyPXRoaXMub25kcmFnbGVhdmU9dGhpcy5vbmRyb3A9dGhpcy5vbmRyb3BhY3RpdmF0ZT10aGlzLm9uZHJvcGRlYWN0aXZhdGU9bnVsbCksdGhpcyk6dGhpcy5vcHRpb25zLmRyb3B9LHYucHJvdG90eXBlLmRyb3BDaGVjaz1mdW5jdGlvbih0LGUsbixyLGksbyl7dmFyIHM9ITE7aWYoIShvPW98fHRoaXMuZ2V0UmVjdChpKSkpcmV0dXJuISF0aGlzLm9wdGlvbnMuZHJvcC5jaGVja2VyJiZ0aGlzLm9wdGlvbnMuZHJvcC5jaGVja2VyKHQsZSxzLHRoaXMsaSxuLHIpO3ZhciBhPXRoaXMub3B0aW9ucy5kcm9wLm92ZXJsYXA7aWYoXCJwb2ludGVyXCI9PT1hKXt2YXIgYz1wLmdldE9yaWdpblhZKG4scixcImRyYWdcIiksbD1wLmdldFBhZ2VYWSh0KTtsLngrPWMueCxsLnkrPWMueTt2YXIgdT1sLng+by5sZWZ0JiZsLng8by5yaWdodCxkPWwueT5vLnRvcCYmbC55PG8uYm90dG9tO3M9dSYmZH12YXIgZj1uLmdldFJlY3Qocik7aWYoZiYmXCJjZW50ZXJcIj09PWEpe3ZhciB2PWYubGVmdCtmLndpZHRoLzIsZz1mLnRvcCtmLmhlaWdodC8yO3M9dj49by5sZWZ0JiZ2PD1vLnJpZ2h0JiZnPj1vLnRvcCYmZzw9by5ib3R0b219aWYoZiYmcC5pcy5udW1iZXIoYSkpe3M9TWF0aC5tYXgoMCxNYXRoLm1pbihvLnJpZ2h0LGYucmlnaHQpLU1hdGgubWF4KG8ubGVmdCxmLmxlZnQpKSpNYXRoLm1heCgwLE1hdGgubWluKG8uYm90dG9tLGYuYm90dG9tKS1NYXRoLm1heChvLnRvcCxmLnRvcCkpLyhmLndpZHRoKmYuaGVpZ2h0KT49YX1yZXR1cm4gdGhpcy5vcHRpb25zLmRyb3AuY2hlY2tlciYmKHM9dGhpcy5vcHRpb25zLmRyb3AuY2hlY2tlcih0LGUscyx0aGlzLGksbixyKSksc30sdi5zaWduYWxzLm9uKFwidW5zZXRcIixmdW5jdGlvbih0KXt0LmludGVyYWN0YWJsZS5kcm9wem9uZSghMSl9KSx2LnNldHRpbmdzTWV0aG9kcy5wdXNoKFwiZHJvcENoZWNrZXJcIiksZy5zaWduYWxzLm9uKFwibmV3XCIsZnVuY3Rpb24odCl7dC5kcm9wVGFyZ2V0PW51bGwsdC5kcm9wRWxlbWVudD1udWxsLHQucHJldkRyb3BUYXJnZXQ9bnVsbCx0LnByZXZEcm9wRWxlbWVudD1udWxsLHQuZHJvcEV2ZW50cz1udWxsLHQuYWN0aXZlRHJvcHM9e2Ryb3B6b25lczpbXSxlbGVtZW50czpbXSxyZWN0czpbXX19KSxnLnNpZ25hbHMub24oXCJzdG9wXCIsZnVuY3Rpb24odCl7dmFyIGU9dC5pbnRlcmFjdGlvbjtlLmRyb3BUYXJnZXQ9ZS5kcm9wRWxlbWVudD1lLnByZXZEcm9wVGFyZ2V0PWUucHJldkRyb3BFbGVtZW50PW51bGx9KSxkLmR5bmFtaWNEcm9wPWZ1bmN0aW9uKHQpe3JldHVybiBwLmlzLmJvb2wodCk/KHk9dCxkKTp5fSxwLm1lcmdlKHYuZXZlbnRUeXBlcyxbXCJkcmFnZW50ZXJcIixcImRyYWdsZWF2ZVwiLFwiZHJvcGFjdGl2YXRlXCIsXCJkcm9wZGVhY3RpdmF0ZVwiLFwiZHJvcG1vdmVcIixcImRyb3BcIl0pLGwubWV0aG9kRGljdC5kcm9wPVwiZHJvcHpvbmVcIixoLmRyb3A9bS5kZWZhdWx0cyxlLmV4cG9ydHM9bX0se1wiLi4vSW50ZXJhY3RFdmVudFwiOjMsXCIuLi9JbnRlcmFjdGFibGVcIjo0LFwiLi4vSW50ZXJhY3Rpb25cIjo1LFwiLi4vZGVmYXVsdE9wdGlvbnNcIjoxOCxcIi4uL2ludGVyYWN0XCI6MjEsXCIuLi9zY29wZVwiOjMzLFwiLi4vdXRpbHNcIjo0MyxcIi4vYmFzZVwiOjZ9XSw5OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dChcIi4vYmFzZVwiKSxpPXQoXCIuLi91dGlsc1wiKSxvPXQoXCIuLi9JbnRlcmFjdEV2ZW50XCIpLHM9dChcIi4uL0ludGVyYWN0YWJsZVwiKSxhPXQoXCIuLi9JbnRlcmFjdGlvblwiKSxjPXQoXCIuLi9kZWZhdWx0T3B0aW9uc1wiKSxsPXtkZWZhdWx0czp7ZW5hYmxlZDohMSxvcmlnaW46bnVsbCxyZXN0cmljdDpudWxsfSxjaGVja2VyOmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIGkucG9pbnRlcklkcy5sZW5ndGg+PTI/e25hbWU6XCJnZXN0dXJlXCJ9Om51bGx9LGdldEN1cnNvcjpmdW5jdGlvbigpe3JldHVyblwiXCJ9fTtvLnNpZ25hbHMub24oXCJuZXdcIixmdW5jdGlvbih0KXt2YXIgZT10LmlFdmVudCxuPXQuaW50ZXJhY3Rpb247XCJnZXN0dXJlc3RhcnRcIj09PWUudHlwZSYmKGUuZHM9MCxuLmdlc3R1cmUuc3RhcnREaXN0YW5jZT1uLmdlc3R1cmUucHJldkRpc3RhbmNlPWUuZGlzdGFuY2Usbi5nZXN0dXJlLnN0YXJ0QW5nbGU9bi5nZXN0dXJlLnByZXZBbmdsZT1lLmFuZ2xlLG4uZ2VzdHVyZS5zY2FsZT0xKX0pLG8uc2lnbmFscy5vbihcIm5ld1wiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuaUV2ZW50LG49dC5pbnRlcmFjdGlvbjtcImdlc3R1cmVtb3ZlXCI9PT1lLnR5cGUmJihlLmRzPWUuc2NhbGUtbi5nZXN0dXJlLnNjYWxlLG4udGFyZ2V0LmZpcmUoZSksbi5nZXN0dXJlLnByZXZBbmdsZT1lLmFuZ2xlLG4uZ2VzdHVyZS5wcmV2RGlzdGFuY2U9ZS5kaXN0YW5jZSxlLnNjYWxlPT09MS8wfHxudWxsPT09ZS5zY2FsZXx8dm9pZCAwPT09ZS5zY2FsZXx8aXNOYU4oZS5zY2FsZSl8fChuLmdlc3R1cmUuc2NhbGU9ZS5zY2FsZSkpfSkscy5wcm90b3R5cGUuZ2VzdHVyYWJsZT1mdW5jdGlvbih0KXtyZXR1cm4gaS5pcy5vYmplY3QodCk/KHRoaXMub3B0aW9ucy5nZXN0dXJlLmVuYWJsZWQ9ITEhPT10LmVuYWJsZWQsdGhpcy5zZXRQZXJBY3Rpb24oXCJnZXN0dXJlXCIsdCksdGhpcy5zZXRPbkV2ZW50cyhcImdlc3R1cmVcIix0KSx0aGlzKTppLmlzLmJvb2wodCk/KHRoaXMub3B0aW9ucy5nZXN0dXJlLmVuYWJsZWQ9dCx0fHwodGhpcy5vbmdlc3R1cmVzdGFydD10aGlzLm9uZ2VzdHVyZXN0YXJ0PXRoaXMub25nZXN0dXJlZW5kPW51bGwpLHRoaXMpOnRoaXMub3B0aW9ucy5nZXN0dXJlfSxvLnNpZ25hbHMub24oXCJzZXQtZGVsdGFcIixmdW5jdGlvbih0KXt2YXIgZT10LmludGVyYWN0aW9uLG49dC5pRXZlbnQscj10LmFjdGlvbixzPXQuZXZlbnQsYT10LnN0YXJ0aW5nLGM9dC5lbmRpbmcsbD10LmRlbHRhU291cmNlO2lmKFwiZ2VzdHVyZVwiPT09cil7dmFyIHA9ZS5wb2ludGVycztuLnRvdWNoZXM9W3BbMF0scFsxXV0sYT8obi5kaXN0YW5jZT1pLnRvdWNoRGlzdGFuY2UocCxsKSxuLmJveD1pLnRvdWNoQkJveChwKSxuLnNjYWxlPTEsbi5kcz0wLG4uYW5nbGU9aS50b3VjaEFuZ2xlKHAsdm9pZCAwLGwpLG4uZGE9MCk6Y3x8cyBpbnN0YW5jZW9mIG8/KG4uZGlzdGFuY2U9ZS5wcmV2RXZlbnQuZGlzdGFuY2Usbi5ib3g9ZS5wcmV2RXZlbnQuYm94LG4uc2NhbGU9ZS5wcmV2RXZlbnQuc2NhbGUsbi5kcz1uLnNjYWxlLTEsbi5hbmdsZT1lLnByZXZFdmVudC5hbmdsZSxuLmRhPW4uYW5nbGUtZS5nZXN0dXJlLnN0YXJ0QW5nbGUpOihuLmRpc3RhbmNlPWkudG91Y2hEaXN0YW5jZShwLGwpLG4uYm94PWkudG91Y2hCQm94KHApLG4uc2NhbGU9bi5kaXN0YW5jZS9lLmdlc3R1cmUuc3RhcnREaXN0YW5jZSxuLmFuZ2xlPWkudG91Y2hBbmdsZShwLGUuZ2VzdHVyZS5wcmV2QW5nbGUsbCksbi5kcz1uLnNjYWxlLWUuZ2VzdHVyZS5wcmV2U2NhbGUsbi5kYT1uLmFuZ2xlLWUuZ2VzdHVyZS5wcmV2QW5nbGUpfX0pLGEuc2lnbmFscy5vbihcIm5ld1wiLGZ1bmN0aW9uKHQpe3QuZ2VzdHVyZT17c3RhcnQ6e3g6MCx5OjB9LHN0YXJ0RGlzdGFuY2U6MCxwcmV2RGlzdGFuY2U6MCxkaXN0YW5jZTowLHNjYWxlOjEsc3RhcnRBbmdsZTowLHByZXZBbmdsZTowfX0pLHIuZ2VzdHVyZT1sLHIubmFtZXMucHVzaChcImdlc3R1cmVcIiksaS5tZXJnZShzLmV2ZW50VHlwZXMsW1wiZ2VzdHVyZXN0YXJ0XCIsXCJnZXN0dXJlbW92ZVwiLFwiZ2VzdHVyZWVuZFwiXSksci5tZXRob2REaWN0Lmdlc3R1cmU9XCJnZXN0dXJhYmxlXCIsYy5nZXN0dXJlPWwuZGVmYXVsdHMsZS5leHBvcnRzPWx9LHtcIi4uL0ludGVyYWN0RXZlbnRcIjozLFwiLi4vSW50ZXJhY3RhYmxlXCI6NCxcIi4uL0ludGVyYWN0aW9uXCI6NSxcIi4uL2RlZmF1bHRPcHRpb25zXCI6MTgsXCIuLi91dGlsc1wiOjQzLFwiLi9iYXNlXCI6Nn1dLDEwOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUsbixyLGkscyxhKXtpZighZSlyZXR1cm4hMTtpZighMD09PWUpe3ZhciBjPW8uaXMubnVtYmVyKHMud2lkdGgpP3Mud2lkdGg6cy5yaWdodC1zLmxlZnQsbD1vLmlzLm51bWJlcihzLmhlaWdodCk/cy5oZWlnaHQ6cy5ib3R0b20tcy50b3A7aWYoYzwwJiYoXCJsZWZ0XCI9PT10P3Q9XCJyaWdodFwiOlwicmlnaHRcIj09PXQmJih0PVwibGVmdFwiKSksbDwwJiYoXCJ0b3BcIj09PXQ/dD1cImJvdHRvbVwiOlwiYm90dG9tXCI9PT10JiYodD1cInRvcFwiKSksXCJsZWZ0XCI9PT10KXJldHVybiBuLng8KGM+PTA/cy5sZWZ0OnMucmlnaHQpK2E7aWYoXCJ0b3BcIj09PXQpcmV0dXJuIG4ueTwobD49MD9zLnRvcDpzLmJvdHRvbSkrYTtpZihcInJpZ2h0XCI9PT10KXJldHVybiBuLng+KGM+PTA/cy5yaWdodDpzLmxlZnQpLWE7aWYoXCJib3R0b21cIj09PXQpcmV0dXJuIG4ueT4obD49MD9zLmJvdHRvbTpzLnRvcCktYX1yZXR1cm4hIW8uaXMuZWxlbWVudChyKSYmKG8uaXMuZWxlbWVudChlKT9lPT09cjpvLm1hdGNoZXNVcFRvKHIsZSxpKSl9dmFyIGk9dChcIi4vYmFzZVwiKSxvPXQoXCIuLi91dGlsc1wiKSxzPXQoXCIuLi91dGlscy9icm93c2VyXCIpLGE9dChcIi4uL0ludGVyYWN0RXZlbnRcIiksYz10KFwiLi4vSW50ZXJhY3RhYmxlXCIpLGw9dChcIi4uL0ludGVyYWN0aW9uXCIpLHA9dChcIi4uL2RlZmF1bHRPcHRpb25zXCIpLHU9cy5zdXBwb3J0c1RvdWNofHxzLnN1cHBvcnRzUG9pbnRlckV2ZW50PzIwOjEwLGQ9e2RlZmF1bHRzOntlbmFibGVkOiExLG1vdXNlQnV0dG9uczpudWxsLG9yaWdpbjpudWxsLHNuYXA6bnVsbCxyZXN0cmljdDpudWxsLGluZXJ0aWE6bnVsbCxhdXRvU2Nyb2xsOm51bGwsc3F1YXJlOiExLHByZXNlcnZlQXNwZWN0UmF0aW86ITEsYXhpczpcInh5XCIsbWFyZ2luOk5hTixlZGdlczpudWxsLGludmVydDpcIm5vbmVcIn0sY2hlY2tlcjpmdW5jdGlvbih0LGUsbixpLHMsYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGM9by5leHRlbmQoe30scy5jdXJDb29yZHMucGFnZSksbD1uLm9wdGlvbnM7aWYobC5yZXNpemUuZW5hYmxlZCl7dmFyIHA9bC5yZXNpemUsZD17bGVmdDohMSxyaWdodDohMSx0b3A6ITEsYm90dG9tOiExfTtpZihvLmlzLm9iamVjdChwLmVkZ2VzKSl7Zm9yKHZhciBmIGluIGQpZFtmXT1yKGYscC5lZGdlc1tmXSxjLHMuX2V2ZW50VGFyZ2V0LGksYSxwLm1hcmdpbnx8dSk7aWYoZC5sZWZ0PWQubGVmdCYmIWQucmlnaHQsZC50b3A9ZC50b3AmJiFkLmJvdHRvbSxkLmxlZnR8fGQucmlnaHR8fGQudG9wfHxkLmJvdHRvbSlyZXR1cm57bmFtZTpcInJlc2l6ZVwiLGVkZ2VzOmR9fWVsc2V7dmFyIHY9XCJ5XCIhPT1sLnJlc2l6ZS5heGlzJiZjLng+YS5yaWdodC11LGc9XCJ4XCIhPT1sLnJlc2l6ZS5heGlzJiZjLnk+YS5ib3R0b20tdTtpZih2fHxnKXJldHVybntuYW1lOlwicmVzaXplXCIsYXhlczoodj9cInhcIjpcIlwiKSsoZz9cInlcIjpcIlwiKX19fXJldHVybiBudWxsfSxjdXJzb3JzOnMuaXNJZTk/e3g6XCJlLXJlc2l6ZVwiLHk6XCJzLXJlc2l6ZVwiLHh5Olwic2UtcmVzaXplXCIsdG9wOlwibi1yZXNpemVcIixsZWZ0Olwidy1yZXNpemVcIixib3R0b206XCJzLXJlc2l6ZVwiLHJpZ2h0OlwiZS1yZXNpemVcIix0b3BsZWZ0Olwic2UtcmVzaXplXCIsYm90dG9tcmlnaHQ6XCJzZS1yZXNpemVcIix0b3ByaWdodDpcIm5lLXJlc2l6ZVwiLGJvdHRvbWxlZnQ6XCJuZS1yZXNpemVcIn06e3g6XCJldy1yZXNpemVcIix5OlwibnMtcmVzaXplXCIseHk6XCJud3NlLXJlc2l6ZVwiLHRvcDpcIm5zLXJlc2l6ZVwiLGxlZnQ6XCJldy1yZXNpemVcIixib3R0b206XCJucy1yZXNpemVcIixyaWdodDpcImV3LXJlc2l6ZVwiLHRvcGxlZnQ6XCJud3NlLXJlc2l6ZVwiLGJvdHRvbXJpZ2h0OlwibndzZS1yZXNpemVcIix0b3ByaWdodDpcIm5lc3ctcmVzaXplXCIsYm90dG9tbGVmdDpcIm5lc3ctcmVzaXplXCJ9LGdldEN1cnNvcjpmdW5jdGlvbih0KXtpZih0LmF4aXMpcmV0dXJuIGQuY3Vyc29yc1t0Lm5hbWUrdC5heGlzXTtpZih0LmVkZ2VzKXtmb3IodmFyIGU9XCJcIixuPVtcInRvcFwiLFwiYm90dG9tXCIsXCJsZWZ0XCIsXCJyaWdodFwiXSxyPTA7cjw0O3IrKyl0LmVkZ2VzW25bcl1dJiYoZSs9bltyXSk7cmV0dXJuIGQuY3Vyc29yc1tlXX19fTthLnNpZ25hbHMub24oXCJuZXdcIixmdW5jdGlvbih0KXt2YXIgZT10LmlFdmVudCxuPXQuaW50ZXJhY3Rpb247aWYoXCJyZXNpemVzdGFydFwiPT09ZS50eXBlJiZuLnByZXBhcmVkLmVkZ2VzKXt2YXIgcj1uLnRhcmdldC5nZXRSZWN0KG4uZWxlbWVudCksaT1uLnRhcmdldC5vcHRpb25zLnJlc2l6ZTtpZihpLnNxdWFyZXx8aS5wcmVzZXJ2ZUFzcGVjdFJhdGlvKXt2YXIgcz1vLmV4dGVuZCh7fSxuLnByZXBhcmVkLmVkZ2VzKTtzLnRvcD1zLnRvcHx8cy5sZWZ0JiYhcy5ib3R0b20scy5sZWZ0PXMubGVmdHx8cy50b3AmJiFzLnJpZ2h0LHMuYm90dG9tPXMuYm90dG9tfHxzLnJpZ2h0JiYhcy50b3Ascy5yaWdodD1zLnJpZ2h0fHxzLmJvdHRvbSYmIXMubGVmdCxuLnByZXBhcmVkLl9saW5rZWRFZGdlcz1zfWVsc2Ugbi5wcmVwYXJlZC5fbGlua2VkRWRnZXM9bnVsbDtpLnByZXNlcnZlQXNwZWN0UmF0aW8mJihuLnJlc2l6ZVN0YXJ0QXNwZWN0UmF0aW89ci53aWR0aC9yLmhlaWdodCksbi5yZXNpemVSZWN0cz17c3RhcnQ6cixjdXJyZW50Om8uZXh0ZW5kKHt9LHIpLGludmVydGVkOm8uZXh0ZW5kKHt9LHIpLHByZXZpb3VzOm8uZXh0ZW5kKHt9LHIpLGRlbHRhOntsZWZ0OjAscmlnaHQ6MCx3aWR0aDowLHRvcDowLGJvdHRvbTowLGhlaWdodDowfX0sZS5yZWN0PW4ucmVzaXplUmVjdHMuaW52ZXJ0ZWQsZS5kZWx0YVJlY3Q9bi5yZXNpemVSZWN0cy5kZWx0YX19KSxhLnNpZ25hbHMub24oXCJuZXdcIixmdW5jdGlvbih0KXt2YXIgZT10LmlFdmVudCxuPXQucGhhc2Uscj10LmludGVyYWN0aW9uO2lmKFwibW92ZVwiPT09biYmci5wcmVwYXJlZC5lZGdlcyl7dmFyIGk9ci50YXJnZXQub3B0aW9ucy5yZXNpemUscz1pLmludmVydCxhPVwicmVwb3NpdGlvblwiPT09c3x8XCJuZWdhdGVcIj09PXMsYz1yLnByZXBhcmVkLmVkZ2VzLGw9ci5yZXNpemVSZWN0cy5zdGFydCxwPXIucmVzaXplUmVjdHMuY3VycmVudCx1PXIucmVzaXplUmVjdHMuaW52ZXJ0ZWQsZD1yLnJlc2l6ZVJlY3RzLmRlbHRhLGY9by5leHRlbmQoci5yZXNpemVSZWN0cy5wcmV2aW91cyx1KSx2PWMsZz1lLmR4LGg9ZS5keTtpZihpLnByZXNlcnZlQXNwZWN0UmF0aW98fGkuc3F1YXJlKXt2YXIgbT1pLnByZXNlcnZlQXNwZWN0UmF0aW8/ci5yZXNpemVTdGFydEFzcGVjdFJhdGlvOjE7Yz1yLnByZXBhcmVkLl9saW5rZWRFZGdlcyx2LmxlZnQmJnYuYm90dG9tfHx2LnJpZ2h0JiZ2LnRvcD9oPS1nL206di5sZWZ0fHx2LnJpZ2h0P2g9Zy9tOih2LnRvcHx8di5ib3R0b20pJiYoZz1oKm0pfWlmKGMudG9wJiYocC50b3ArPWgpLGMuYm90dG9tJiYocC5ib3R0b20rPWgpLGMubGVmdCYmKHAubGVmdCs9ZyksYy5yaWdodCYmKHAucmlnaHQrPWcpLGEpe2lmKG8uZXh0ZW5kKHUscCksXCJyZXBvc2l0aW9uXCI9PT1zKXt2YXIgeT12b2lkIDA7dS50b3A+dS5ib3R0b20mJih5PXUudG9wLHUudG9wPXUuYm90dG9tLHUuYm90dG9tPXkpLHUubGVmdD51LnJpZ2h0JiYoeT11LmxlZnQsdS5sZWZ0PXUucmlnaHQsdS5yaWdodD15KX19ZWxzZSB1LnRvcD1NYXRoLm1pbihwLnRvcCxsLmJvdHRvbSksdS5ib3R0b209TWF0aC5tYXgocC5ib3R0b20sbC50b3ApLHUubGVmdD1NYXRoLm1pbihwLmxlZnQsbC5yaWdodCksdS5yaWdodD1NYXRoLm1heChwLnJpZ2h0LGwubGVmdCk7dS53aWR0aD11LnJpZ2h0LXUubGVmdCx1LmhlaWdodD11LmJvdHRvbS11LnRvcDtmb3IodmFyIHggaW4gdSlkW3hdPXVbeF0tZlt4XTtlLmVkZ2VzPXIucHJlcGFyZWQuZWRnZXMsZS5yZWN0PXUsZS5kZWx0YVJlY3Q9ZH19KSxjLnByb3RvdHlwZS5yZXNpemFibGU9ZnVuY3Rpb24odCl7cmV0dXJuIG8uaXMub2JqZWN0KHQpPyh0aGlzLm9wdGlvbnMucmVzaXplLmVuYWJsZWQ9ITEhPT10LmVuYWJsZWQsdGhpcy5zZXRQZXJBY3Rpb24oXCJyZXNpemVcIix0KSx0aGlzLnNldE9uRXZlbnRzKFwicmVzaXplXCIsdCksL154JHxeeSR8Xnh5JC8udGVzdCh0LmF4aXMpP3RoaXMub3B0aW9ucy5yZXNpemUuYXhpcz10LmF4aXM6bnVsbD09PXQuYXhpcyYmKHRoaXMub3B0aW9ucy5yZXNpemUuYXhpcz1wLnJlc2l6ZS5heGlzKSxvLmlzLmJvb2wodC5wcmVzZXJ2ZUFzcGVjdFJhdGlvKT90aGlzLm9wdGlvbnMucmVzaXplLnByZXNlcnZlQXNwZWN0UmF0aW89dC5wcmVzZXJ2ZUFzcGVjdFJhdGlvOm8uaXMuYm9vbCh0LnNxdWFyZSkmJih0aGlzLm9wdGlvbnMucmVzaXplLnNxdWFyZT10LnNxdWFyZSksdGhpcyk6by5pcy5ib29sKHQpPyh0aGlzLm9wdGlvbnMucmVzaXplLmVuYWJsZWQ9dCx0fHwodGhpcy5vbnJlc2l6ZXN0YXJ0PXRoaXMub25yZXNpemVzdGFydD10aGlzLm9ucmVzaXplZW5kPW51bGwpLHRoaXMpOnRoaXMub3B0aW9ucy5yZXNpemV9LGwuc2lnbmFscy5vbihcIm5ld1wiLGZ1bmN0aW9uKHQpe3QucmVzaXplQXhlcz1cInh5XCJ9KSxhLnNpZ25hbHMub24oXCJzZXQtZGVsdGFcIixmdW5jdGlvbih0KXt2YXIgZT10LmludGVyYWN0aW9uLG49dC5pRXZlbnQ7XCJyZXNpemVcIj09PXQuYWN0aW9uJiZlLnJlc2l6ZUF4ZXMmJihlLnRhcmdldC5vcHRpb25zLnJlc2l6ZS5zcXVhcmU/KFwieVwiPT09ZS5yZXNpemVBeGVzP24uZHg9bi5keTpuLmR5PW4uZHgsbi5heGVzPVwieHlcIik6KG4uYXhlcz1lLnJlc2l6ZUF4ZXMsXCJ4XCI9PT1lLnJlc2l6ZUF4ZXM/bi5keT0wOlwieVwiPT09ZS5yZXNpemVBeGVzJiYobi5keD0wKSkpfSksaS5yZXNpemU9ZCxpLm5hbWVzLnB1c2goXCJyZXNpemVcIiksXG5vLm1lcmdlKGMuZXZlbnRUeXBlcyxbXCJyZXNpemVzdGFydFwiLFwicmVzaXplbW92ZVwiLFwicmVzaXplaW5lcnRpYXN0YXJ0XCIsXCJyZXNpemVpbmVydGlhcmVzdW1lXCIsXCJyZXNpemVlbmRcIl0pLGkubWV0aG9kRGljdC5yZXNpemU9XCJyZXNpemFibGVcIixwLnJlc2l6ZT1kLmRlZmF1bHRzLGUuZXhwb3J0cz1kfSx7XCIuLi9JbnRlcmFjdEV2ZW50XCI6MyxcIi4uL0ludGVyYWN0YWJsZVwiOjQsXCIuLi9JbnRlcmFjdGlvblwiOjUsXCIuLi9kZWZhdWx0T3B0aW9uc1wiOjE4LFwiLi4vdXRpbHNcIjo0MyxcIi4uL3V0aWxzL2Jyb3dzZXJcIjozNixcIi4vYmFzZVwiOjZ9XSwxMTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPXQoXCIuL3V0aWxzL3JhZlwiKSxpPXQoXCIuL3V0aWxzL3dpbmRvd1wiKS5nZXRXaW5kb3csbz10KFwiLi91dGlscy9pc1wiKSxzPXQoXCIuL3V0aWxzL2RvbVV0aWxzXCIpLGE9dChcIi4vSW50ZXJhY3Rpb25cIiksYz10KFwiLi9kZWZhdWx0T3B0aW9uc1wiKSxsPXtkZWZhdWx0czp7ZW5hYmxlZDohMSxjb250YWluZXI6bnVsbCxtYXJnaW46NjAsc3BlZWQ6MzAwfSxpbnRlcmFjdGlvbjpudWxsLGk6bnVsbCx4OjAseTowLGlzU2Nyb2xsaW5nOiExLHByZXZUaW1lOjAsc3RhcnQ6ZnVuY3Rpb24odCl7bC5pc1Njcm9sbGluZz0hMCxyLmNhbmNlbChsLmkpLGwuaW50ZXJhY3Rpb249dCxsLnByZXZUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGwuaT1yLnJlcXVlc3QobC5zY3JvbGwpfSxzdG9wOmZ1bmN0aW9uKCl7bC5pc1Njcm9sbGluZz0hMSxyLmNhbmNlbChsLmkpfSxzY3JvbGw6ZnVuY3Rpb24oKXt2YXIgdD1sLmludGVyYWN0aW9uLnRhcmdldC5vcHRpb25zW2wuaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZV0uYXV0b1Njcm9sbCxlPXQuY29udGFpbmVyfHxpKGwuaW50ZXJhY3Rpb24uZWxlbWVudCksbj0obmV3IERhdGUpLmdldFRpbWUoKSxzPShuLWwucHJldlRpbWUpLzFlMyxhPXQuc3BlZWQqczthPj0xJiYoby53aW5kb3coZSk/ZS5zY3JvbGxCeShsLngqYSxsLnkqYSk6ZSYmKGUuc2Nyb2xsTGVmdCs9bC54KmEsZS5zY3JvbGxUb3ArPWwueSphKSxsLnByZXZUaW1lPW4pLGwuaXNTY3JvbGxpbmcmJihyLmNhbmNlbChsLmkpLGwuaT1yLnJlcXVlc3QobC5zY3JvbGwpKX0sY2hlY2s6ZnVuY3Rpb24odCxlKXt2YXIgbj10Lm9wdGlvbnM7cmV0dXJuIG5bZV0uYXV0b1Njcm9sbCYmbltlXS5hdXRvU2Nyb2xsLmVuYWJsZWR9LG9uSW50ZXJhY3Rpb25Nb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW50ZXJhY3Rpb24sbj10LnBvaW50ZXI7aWYoZS5pbnRlcmFjdGluZygpJiZsLmNoZWNrKGUudGFyZ2V0LGUucHJlcGFyZWQubmFtZSkpe2lmKGUuc2ltdWxhdGlvbilyZXR1cm4gdm9pZChsLng9bC55PTApO3ZhciByPXZvaWQgMCxhPXZvaWQgMCxjPXZvaWQgMCxwPXZvaWQgMCx1PWUudGFyZ2V0Lm9wdGlvbnNbZS5wcmVwYXJlZC5uYW1lXS5hdXRvU2Nyb2xsLGQ9dS5jb250YWluZXJ8fGkoZS5lbGVtZW50KTtpZihvLndpbmRvdyhkKSlwPW4uY2xpZW50WDxsLm1hcmdpbixyPW4uY2xpZW50WTxsLm1hcmdpbixhPW4uY2xpZW50WD5kLmlubmVyV2lkdGgtbC5tYXJnaW4sYz1uLmNsaWVudFk+ZC5pbm5lckhlaWdodC1sLm1hcmdpbjtlbHNle3ZhciBmPXMuZ2V0RWxlbWVudENsaWVudFJlY3QoZCk7cD1uLmNsaWVudFg8Zi5sZWZ0K2wubWFyZ2luLHI9bi5jbGllbnRZPGYudG9wK2wubWFyZ2luLGE9bi5jbGllbnRYPmYucmlnaHQtbC5tYXJnaW4sYz1uLmNsaWVudFk+Zi5ib3R0b20tbC5tYXJnaW59bC54PWE/MTpwPy0xOjAsbC55PWM/MTpyPy0xOjAsbC5pc1Njcm9sbGluZ3x8KGwubWFyZ2luPXUubWFyZ2luLGwuc3BlZWQ9dS5zcGVlZCxsLnN0YXJ0KGUpKX19fTthLnNpZ25hbHMub24oXCJzdG9wLWFjdGl2ZVwiLGZ1bmN0aW9uKCl7bC5zdG9wKCl9KSxhLnNpZ25hbHMub24oXCJhY3Rpb24tbW92ZVwiLGwub25JbnRlcmFjdGlvbk1vdmUpLGMucGVyQWN0aW9uLmF1dG9TY3JvbGw9bC5kZWZhdWx0cyxlLmV4cG9ydHM9bH0se1wiLi9JbnRlcmFjdGlvblwiOjUsXCIuL2RlZmF1bHRPcHRpb25zXCI6MTgsXCIuL3V0aWxzL2RvbVV0aWxzXCI6MzgsXCIuL3V0aWxzL2lzXCI6NDUsXCIuL3V0aWxzL3JhZlwiOjQ5LFwiLi91dGlscy93aW5kb3dcIjo1MX1dLDEyOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dChcIi4uL0ludGVyYWN0YWJsZVwiKSxpPXQoXCIuLi9hY3Rpb25zL2Jhc2VcIiksbz10KFwiLi4vdXRpbHMvaXNcIikscz10KFwiLi4vdXRpbHMvZG9tVXRpbHNcIiksYT10KFwiLi4vdXRpbHNcIiksYz1hLndhcm5PbmNlO3IucHJvdG90eXBlLmdldEFjdGlvbj1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzLmRlZmF1bHRBY3Rpb25DaGVja2VyKHQsZSxuLHIpO3JldHVybiB0aGlzLm9wdGlvbnMuYWN0aW9uQ2hlY2tlcj90aGlzLm9wdGlvbnMuYWN0aW9uQ2hlY2tlcih0LGUsaSx0aGlzLHIsbik6aX0sci5wcm90b3R5cGUuaWdub3JlRnJvbT1jKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9iYWNrQ29tcGF0T3B0aW9uKFwiaWdub3JlRnJvbVwiLHQpfSxcIkludGVyYWN0YWJsZS5pZ25vcmVGb3JtKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIEludGVyYWN0YmxlLmRyYWdnYWJsZSh7aWdub3JlRnJvbTogbmV3VmFsdWV9KS5cIiksci5wcm90b3R5cGUuYWxsb3dGcm9tPWMoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2JhY2tDb21wYXRPcHRpb24oXCJhbGxvd0Zyb21cIix0KX0sXCJJbnRlcmFjdGFibGUuYWxsb3dGb3JtKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIEludGVyYWN0YmxlLmRyYWdnYWJsZSh7YWxsb3dGcm9tOiBuZXdWYWx1ZX0pLlwiKSxyLnByb3RvdHlwZS50ZXN0SWdub3JlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4hKCF0fHwhby5lbGVtZW50KG4pKSYmKG8uc3RyaW5nKHQpP3MubWF0Y2hlc1VwVG8obix0LGUpOiEhby5lbGVtZW50KHQpJiZzLm5vZGVDb250YWlucyh0LG4pKX0sci5wcm90b3R5cGUudGVzdEFsbG93PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4hdHx8ISFvLmVsZW1lbnQobikmJihvLnN0cmluZyh0KT9zLm1hdGNoZXNVcFRvKG4sdCxlKTohIW8uZWxlbWVudCh0KSYmcy5ub2RlQ29udGFpbnModCxuKSl9LHIucHJvdG90eXBlLnRlc3RJZ25vcmVBbGxvdz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIXRoaXMudGVzdElnbm9yZSh0Lmlnbm9yZUZyb20sZSxuKSYmdGhpcy50ZXN0QWxsb3codC5hbGxvd0Zyb20sZSxuKX0sci5wcm90b3R5cGUuYWN0aW9uQ2hlY2tlcj1mdW5jdGlvbih0KXtyZXR1cm4gby5mdW5jdGlvbih0KT8odGhpcy5vcHRpb25zLmFjdGlvbkNoZWNrZXI9dCx0aGlzKTpudWxsPT09dD8oZGVsZXRlIHRoaXMub3B0aW9ucy5hY3Rpb25DaGVja2VyLHRoaXMpOnRoaXMub3B0aW9ucy5hY3Rpb25DaGVja2VyfSxyLnByb3RvdHlwZS5zdHlsZUN1cnNvcj1mdW5jdGlvbih0KXtyZXR1cm4gby5ib29sKHQpPyh0aGlzLm9wdGlvbnMuc3R5bGVDdXJzb3I9dCx0aGlzKTpudWxsPT09dD8oZGVsZXRlIHRoaXMub3B0aW9ucy5zdHlsZUN1cnNvcix0aGlzKTp0aGlzLm9wdGlvbnMuc3R5bGVDdXJzb3J9LHIucHJvdG90eXBlLmRlZmF1bHRBY3Rpb25DaGVja2VyPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz10aGlzLmdldFJlY3Qocikscz1lLmJ1dHRvbnN8fHswOjEsMTo0LDM6OCw0OjE2fVtlLmJ1dHRvbl0sYT1udWxsLGM9MDtjPGkubmFtZXMubGVuZ3RoO2MrKyl7dmFyIGw7bD1pLm5hbWVzW2NdO3ZhciBwPWw7aWYoKCFuLnBvaW50ZXJJc0Rvd258fCEvbW91c2V8cG9pbnRlci8udGVzdChuLnBvaW50ZXJUeXBlKXx8MCE9KHMmdGhpcy5vcHRpb25zW3BdLm1vdXNlQnV0dG9ucykpJiYoYT1pW3BdLmNoZWNrZXIodCxlLHRoaXMscixuLG8pKSlyZXR1cm4gYX19fSx7XCIuLi9JbnRlcmFjdGFibGVcIjo0LFwiLi4vYWN0aW9ucy9iYXNlXCI6NixcIi4uL3V0aWxzXCI6NDMsXCIuLi91dGlscy9kb21VdGlsc1wiOjM4LFwiLi4vdXRpbHMvaXNcIjo0NX1dLDEzOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUsbixyKXtyZXR1cm4gdi5pcy5vYmplY3QodCkmJmUudGVzdElnbm9yZUFsbG93KGUub3B0aW9uc1t0Lm5hbWVdLG4scikmJmUub3B0aW9uc1t0Lm5hbWVdLmVuYWJsZWQmJmEoZSxuLHQpP3Q6bnVsbH1mdW5jdGlvbiBpKHQsZSxuLGksbyxzKXtmb3IodmFyIGE9MCxjPWkubGVuZ3RoO2E8YzthKyspe3ZhciBsPWlbYV0scD1vW2FdLHU9cihsLmdldEFjdGlvbihlLG4sdCxwKSxsLHAscyk7aWYodSlyZXR1cm57YWN0aW9uOnUsdGFyZ2V0OmwsZWxlbWVudDpwfX1yZXR1cm57fX1mdW5jdGlvbiBvKHQsZSxuLHIpe2Z1bmN0aW9uIG8odCl7cy5wdXNoKHQpLGEucHVzaChjKX1mb3IodmFyIHM9W10sYT1bXSxjPXI7di5pcy5lbGVtZW50KGMpOyl7cz1bXSxhPVtdLGYuaW50ZXJhY3RhYmxlcy5mb3JFYWNoTWF0Y2goYyxvKTt2YXIgbD1pKHQsZSxuLHMsYSxyKTtpZihsLmFjdGlvbiYmIWwudGFyZ2V0Lm9wdGlvbnNbbC5hY3Rpb24ubmFtZV0ubWFudWFsU3RhcnQpcmV0dXJuIGw7Yz12LnBhcmVudE5vZGUoYyl9cmV0dXJue319ZnVuY3Rpb24gcyh0LGUpe3ZhciBuPWUuYWN0aW9uLHI9ZS50YXJnZXQsaT1lLmVsZW1lbnQ7aWYobj1ufHx7fSx0LnRhcmdldCYmdC50YXJnZXQub3B0aW9ucy5zdHlsZUN1cnNvciYmKHQudGFyZ2V0Ll9kb2MuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmN1cnNvcj1cIlwiKSx0LnRhcmdldD1yLHQuZWxlbWVudD1pLHYuY29weUFjdGlvbih0LnByZXBhcmVkLG4pLHImJnIub3B0aW9ucy5zdHlsZUN1cnNvcil7dmFyIG89bj91W24ubmFtZV0uZ2V0Q3Vyc29yKG4pOlwiXCI7dC50YXJnZXQuX2RvYy5kb2N1bWVudEVsZW1lbnQuc3R5bGUuY3Vyc29yPW99Zy5maXJlKFwicHJlcGFyZWRcIix7aW50ZXJhY3Rpb246dH0pfWZ1bmN0aW9uIGEodCxlLG4pe3ZhciByPXQub3B0aW9ucyxpPXJbbi5uYW1lXS5tYXgsbz1yW24ubmFtZV0ubWF4UGVyRWxlbWVudCxzPTAsYT0wLGM9MDtpZihpJiZvJiZoLm1heEludGVyYWN0aW9ucyl7Zm9yKHZhciBsPTA7bDxmLmludGVyYWN0aW9ucy5sZW5ndGg7bCsrKXt2YXIgcDtwPWYuaW50ZXJhY3Rpb25zW2xdO3ZhciB1PXAsZD11LnByZXBhcmVkLm5hbWU7aWYodS5pbnRlcmFjdGluZygpKXtpZigrK3M+PWgubWF4SW50ZXJhY3Rpb25zKXJldHVybiExO2lmKHUudGFyZ2V0PT09dCl7aWYoKGErPWQ9PT1uLm5hbWV8MCk+PWkpcmV0dXJuITE7aWYodS5lbGVtZW50PT09ZSYmKGMrKyxkIT09bi5uYW1lfHxjPj1vKSlyZXR1cm4hMX19fXJldHVybiBoLm1heEludGVyYWN0aW9ucz4wfX12YXIgYz10KFwiLi4vaW50ZXJhY3RcIiksbD10KFwiLi4vSW50ZXJhY3RhYmxlXCIpLHA9dChcIi4uL0ludGVyYWN0aW9uXCIpLHU9dChcIi4uL2FjdGlvbnMvYmFzZVwiKSxkPXQoXCIuLi9kZWZhdWx0T3B0aW9uc1wiKSxmPXQoXCIuLi9zY29wZVwiKSx2PXQoXCIuLi91dGlsc1wiKSxnPXQoXCIuLi91dGlscy9TaWduYWxzXCIpLm5ldygpO3QoXCIuL0ludGVyYWN0YWJsZU1ldGhvZHNcIik7dmFyIGg9e3NpZ25hbHM6Zyx3aXRoaW5JbnRlcmFjdGlvbkxpbWl0OmEsbWF4SW50ZXJhY3Rpb25zOjEvMCxkZWZhdWx0czp7cGVyQWN0aW9uOnttYW51YWxTdGFydDohMSxtYXg6MS8wLG1heFBlckVsZW1lbnQ6MSxhbGxvd0Zyb206bnVsbCxpZ25vcmVGcm9tOm51bGwsbW91c2VCdXR0b25zOjF9fSxzZXRBY3Rpb25EZWZhdWx0czpmdW5jdGlvbih0KXt2LmV4dGVuZCh0LmRlZmF1bHRzLGguZGVmYXVsdHMucGVyQWN0aW9uKX0sdmFsaWRhdGVBY3Rpb246cn07cC5zaWduYWxzLm9uKFwiZG93blwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuaW50ZXJhY3Rpb24sbj10LnBvaW50ZXIscj10LmV2ZW50LGk9dC5ldmVudFRhcmdldDtpZighZS5pbnRlcmFjdGluZygpKXtzKGUsbyhlLG4scixpKSl9fSkscC5zaWduYWxzLm9uKFwibW92ZVwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuaW50ZXJhY3Rpb24sbj10LnBvaW50ZXIscj10LmV2ZW50LGk9dC5ldmVudFRhcmdldDtpZihcIm1vdXNlXCI9PT1lLnBvaW50ZXJUeXBlJiYhZS5wb2ludGVySXNEb3duJiYhZS5pbnRlcmFjdGluZygpKXtzKGUsbyhlLG4scixpKSl9fSkscC5zaWduYWxzLm9uKFwibW92ZVwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuaW50ZXJhY3Rpb24sbj10LmV2ZW50O2lmKGUucG9pbnRlcklzRG93biYmIWUuaW50ZXJhY3RpbmcoKSYmZS5wb2ludGVyV2FzTW92ZWQmJmUucHJlcGFyZWQubmFtZSl7Zy5maXJlKFwiYmVmb3JlLXN0YXJ0XCIsdCk7dmFyIHI9ZS50YXJnZXQ7ZS5wcmVwYXJlZC5uYW1lJiZyJiYoci5vcHRpb25zW2UucHJlcGFyZWQubmFtZV0ubWFudWFsU3RhcnR8fCFhKHIsZS5lbGVtZW50LGUucHJlcGFyZWQpP2Uuc3RvcChuKTplLnN0YXJ0KGUucHJlcGFyZWQscixlLmVsZW1lbnQpKX19KSxwLnNpZ25hbHMub24oXCJzdG9wXCIsZnVuY3Rpb24odCl7dmFyIGU9dC5pbnRlcmFjdGlvbixuPWUudGFyZ2V0O24mJm4ub3B0aW9ucy5zdHlsZUN1cnNvciYmKG4uX2RvYy5kb2N1bWVudEVsZW1lbnQuc3R5bGUuY3Vyc29yPVwiXCIpfSksYy5tYXhJbnRlcmFjdGlvbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHYuaXMubnVtYmVyKHQpPyhoLm1heEludGVyYWN0aW9ucz10LGMpOmgubWF4SW50ZXJhY3Rpb25zfSxsLnNldHRpbmdzTWV0aG9kcy5wdXNoKFwic3R5bGVDdXJzb3JcIiksbC5zZXR0aW5nc01ldGhvZHMucHVzaChcImFjdGlvbkNoZWNrZXJcIiksbC5zZXR0aW5nc01ldGhvZHMucHVzaChcImlnbm9yZUZyb21cIiksbC5zZXR0aW5nc01ldGhvZHMucHVzaChcImFsbG93RnJvbVwiKSxkLmJhc2UuYWN0aW9uQ2hlY2tlcj1udWxsLGQuYmFzZS5zdHlsZUN1cnNvcj0hMCx2LmV4dGVuZChkLnBlckFjdGlvbixoLmRlZmF1bHRzLnBlckFjdGlvbiksZS5leHBvcnRzPWh9LHtcIi4uL0ludGVyYWN0YWJsZVwiOjQsXCIuLi9JbnRlcmFjdGlvblwiOjUsXCIuLi9hY3Rpb25zL2Jhc2VcIjo2LFwiLi4vZGVmYXVsdE9wdGlvbnNcIjoxOCxcIi4uL2ludGVyYWN0XCI6MjEsXCIuLi9zY29wZVwiOjMzLFwiLi4vdXRpbHNcIjo0MyxcIi4uL3V0aWxzL1NpZ25hbHNcIjozNCxcIi4vSW50ZXJhY3RhYmxlTWV0aG9kc1wiOjEyfV0sMTQ6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7aWYoIWUpcmV0dXJuITE7dmFyIG49ZS5vcHRpb25zLmRyYWcuc3RhcnRBeGlzO3JldHVyblwieHlcIj09PXR8fFwieHlcIj09PW58fG49PT10fXZhciBpPXQoXCIuL2Jhc2VcIiksbz10KFwiLi4vc2NvcGVcIikscz10KFwiLi4vdXRpbHMvaXNcIiksYT10KFwiLi4vdXRpbHMvZG9tVXRpbHNcIiksYz1hLnBhcmVudE5vZGU7aS5zZXRBY3Rpb25EZWZhdWx0cyh0KFwiLi4vYWN0aW9ucy9kcmFnXCIpKSxpLnNpZ25hbHMub24oXCJiZWZvcmUtc3RhcnRcIixmdW5jdGlvbih0KXt2YXIgZT10LmludGVyYWN0aW9uLG49dC5ldmVudFRhcmdldCxhPXQuZHgsbD10LmR5O2lmKFwiZHJhZ1wiPT09ZS5wcmVwYXJlZC5uYW1lKXt2YXIgcD1NYXRoLmFicyhhKSx1PU1hdGguYWJzKGwpLGQ9ZS50YXJnZXQub3B0aW9ucy5kcmFnLGY9ZC5zdGFydEF4aXMsdj1wPnU/XCJ4XCI6cDx1P1wieVwiOlwieHlcIjtpZihlLnByZXBhcmVkLmF4aXM9XCJzdGFydFwiPT09ZC5sb2NrQXhpcz92WzBdOmQubG9ja0F4aXMsXCJ4eVwiIT09diYmXCJ4eVwiIT09ZiYmZiE9PXYpe2UucHJlcGFyZWQubmFtZT1udWxsO2Zvcih2YXIgZz1uLGg9ZnVuY3Rpb24odCl7aWYodCE9PWUudGFyZ2V0KXt2YXIgbz1lLnRhcmdldC5vcHRpb25zLmRyYWc7aWYoIW8ubWFudWFsU3RhcnQmJnQudGVzdElnbm9yZUFsbG93KG8sZyxuKSl7dmFyIHM9dC5nZXRBY3Rpb24oZS5kb3duUG9pbnRlcixlLmRvd25FdmVudCxlLGcpO2lmKHMmJlwiZHJhZ1wiPT09cy5uYW1lJiZyKHYsdCkmJmkudmFsaWRhdGVBY3Rpb24ocyx0LGcsbikpcmV0dXJuIHR9fX07cy5lbGVtZW50KGcpOyl7dmFyIG09by5pbnRlcmFjdGFibGVzLmZvckVhY2hNYXRjaChnLGgpO2lmKG0pe2UucHJlcGFyZWQubmFtZT1cImRyYWdcIixlLnRhcmdldD1tLGUuZWxlbWVudD1nO2JyZWFrfWc9YyhnKX19fX0pfSx7XCIuLi9hY3Rpb25zL2RyYWdcIjo3LFwiLi4vc2NvcGVcIjozMyxcIi4uL3V0aWxzL2RvbVV0aWxzXCI6MzgsXCIuLi91dGlscy9pc1wiOjQ1LFwiLi9iYXNlXCI6MTN9XSwxNTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QoXCIuL2Jhc2VcIikuc2V0QWN0aW9uRGVmYXVsdHModChcIi4uL2FjdGlvbnMvZ2VzdHVyZVwiKSl9LHtcIi4uL2FjdGlvbnMvZ2VzdHVyZVwiOjksXCIuL2Jhc2VcIjoxM31dLDE2OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXt2YXIgZT10LnByZXBhcmVkJiZ0LnByZXBhcmVkLm5hbWU7aWYoIWUpcmV0dXJuIG51bGw7dmFyIG49dC50YXJnZXQub3B0aW9ucztyZXR1cm4gbltlXS5ob2xkfHxuW2VdLmRlbGF5fXZhciBpPXQoXCIuL2Jhc2VcIiksbz10KFwiLi4vSW50ZXJhY3Rpb25cIik7aS5kZWZhdWx0cy5wZXJBY3Rpb24uaG9sZD0wLGkuZGVmYXVsdHMucGVyQWN0aW9uLmRlbGF5PTAsby5zaWduYWxzLm9uKFwibmV3XCIsZnVuY3Rpb24odCl7dC5hdXRvU3RhcnRIb2xkVGltZXI9bnVsbH0pLGkuc2lnbmFscy5vbihcInByZXBhcmVkXCIsZnVuY3Rpb24odCl7dmFyIGU9dC5pbnRlcmFjdGlvbixuPXIoZSk7bj4wJiYoZS5hdXRvU3RhcnRIb2xkVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2Uuc3RhcnQoZS5wcmVwYXJlZCxlLnRhcmdldCxlLmVsZW1lbnQpfSxuKSl9KSxvLnNpZ25hbHMub24oXCJtb3ZlXCIsZnVuY3Rpb24odCl7dmFyIGU9dC5pbnRlcmFjdGlvbixuPXQuZHVwbGljYXRlO2UucG9pbnRlcldhc01vdmVkJiYhbiYmY2xlYXJUaW1lb3V0KGUuYXV0b1N0YXJ0SG9sZFRpbWVyKX0pLGkuc2lnbmFscy5vbihcImJlZm9yZS1zdGFydFwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuaW50ZXJhY3Rpb247cihlKT4wJiYoZS5wcmVwYXJlZC5uYW1lPW51bGwpfSksZS5leHBvcnRzPXtnZXRIb2xkRHVyYXRpb246cn19LHtcIi4uL0ludGVyYWN0aW9uXCI6NSxcIi4vYmFzZVwiOjEzfV0sMTc6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0KFwiLi9iYXNlXCIpLnNldEFjdGlvbkRlZmF1bHRzKHQoXCIuLi9hY3Rpb25zL3Jlc2l6ZVwiKSl9LHtcIi4uL2FjdGlvbnMvcmVzaXplXCI6MTAsXCIuL2Jhc2VcIjoxM31dLDE4OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPXtiYXNlOnthY2NlcHQ6bnVsbCxwcmV2ZW50RGVmYXVsdDpcImF1dG9cIixkZWx0YVNvdXJjZTpcInBhZ2VcIn0scGVyQWN0aW9uOntvcmlnaW46e3g6MCx5OjB9LGluZXJ0aWE6e2VuYWJsZWQ6ITEscmVzaXN0YW5jZToxMCxtaW5TcGVlZDoxMDAsZW5kU3BlZWQ6MTAsYWxsb3dSZXN1bWU6ITAsc21vb3RoRW5kRHVyYXRpb246MzAwfX19fSx7fV0sMTk6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0KFwiLi9pbmVydGlhXCIpLHQoXCIuL21vZGlmaWVycy9zbmFwXCIpLHQoXCIuL21vZGlmaWVycy9yZXN0cmljdFwiKSx0KFwiLi9wb2ludGVyRXZlbnRzL2Jhc2VcIiksdChcIi4vcG9pbnRlckV2ZW50cy9ob2xkUmVwZWF0XCIpLHQoXCIuL3BvaW50ZXJFdmVudHMvaW50ZXJhY3RhYmxlVGFyZ2V0c1wiKSx0KFwiLi9hdXRvU3RhcnQvaG9sZFwiKSx0KFwiLi9hY3Rpb25zL2dlc3R1cmVcIiksdChcIi4vYWN0aW9ucy9yZXNpemVcIiksdChcIi4vYWN0aW9ucy9kcmFnXCIpLHQoXCIuL2FjdGlvbnMvZHJvcFwiKSx0KFwiLi9tb2RpZmllcnMvc25hcFNpemVcIiksdChcIi4vbW9kaWZpZXJzL3Jlc3RyaWN0RWRnZXNcIiksdChcIi4vbW9kaWZpZXJzL3Jlc3RyaWN0U2l6ZVwiKSx0KFwiLi9hdXRvU3RhcnQvZ2VzdHVyZVwiKSx0KFwiLi9hdXRvU3RhcnQvcmVzaXplXCIpLHQoXCIuL2F1dG9TdGFydC9kcmFnXCIpLHQoXCIuL2ludGVyYWN0YWJsZVByZXZlbnREZWZhdWx0LmpzXCIpLHQoXCIuL2F1dG9TY3JvbGxcIiksZS5leHBvcnRzPXQoXCIuL2ludGVyYWN0XCIpfSx7XCIuL2FjdGlvbnMvZHJhZ1wiOjcsXCIuL2FjdGlvbnMvZHJvcFwiOjgsXCIuL2FjdGlvbnMvZ2VzdHVyZVwiOjksXCIuL2FjdGlvbnMvcmVzaXplXCI6MTAsXCIuL2F1dG9TY3JvbGxcIjoxMSxcIi4vYXV0b1N0YXJ0L2RyYWdcIjoxNCxcIi4vYXV0b1N0YXJ0L2dlc3R1cmVcIjoxNSxcIi4vYXV0b1N0YXJ0L2hvbGRcIjoxNixcIi4vYXV0b1N0YXJ0L3Jlc2l6ZVwiOjE3LFwiLi9pbmVydGlhXCI6MjAsXCIuL2ludGVyYWN0XCI6MjEsXCIuL2ludGVyYWN0YWJsZVByZXZlbnREZWZhdWx0LmpzXCI6MjIsXCIuL21vZGlmaWVycy9yZXN0cmljdFwiOjI0LFwiLi9tb2RpZmllcnMvcmVzdHJpY3RFZGdlc1wiOjI1LFwiLi9tb2RpZmllcnMvcmVzdHJpY3RTaXplXCI6MjYsXCIuL21vZGlmaWVycy9zbmFwXCI6MjcsXCIuL21vZGlmaWVycy9zbmFwU2l6ZVwiOjI4LFwiLi9wb2ludGVyRXZlbnRzL2Jhc2VcIjozMCxcIi4vcG9pbnRlckV2ZW50cy9ob2xkUmVwZWF0XCI6MzEsXCIuL3BvaW50ZXJFdmVudHMvaW50ZXJhY3RhYmxlVGFyZ2V0c1wiOjMyfV0sMjA6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7dmFyIG49dC50YXJnZXQub3B0aW9uc1t0LnByZXBhcmVkLm5hbWVdLmluZXJ0aWEscj1uLnJlc2lzdGFuY2UsaT0tTWF0aC5sb2cobi5lbmRTcGVlZC9lLnYwKS9yO2UueDA9dC5wcmV2RXZlbnQucGFnZVgsZS55MD10LnByZXZFdmVudC5wYWdlWSxlLnQwPWUuc3RhcnRFdmVudC50aW1lU3RhbXAvMWUzLGUuc3g9ZS5zeT0wLGUubW9kaWZpZWRYZT1lLnhlPShlLnZ4MC1pKS9yLGUubW9kaWZpZWRZZT1lLnllPShlLnZ5MC1pKS9yLGUudGU9aSxlLmxhbWJkYV92MD1yL2UudjAsZS5vbmVfdmVfdjA9MS1uLmVuZFNwZWVkL2UudjB9ZnVuY3Rpb24gaSgpe3ModGhpcykscC5zZXRDb29yZERlbHRhcyh0aGlzLnBvaW50ZXJEZWx0YSx0aGlzLnByZXZDb29yZHMsdGhpcy5jdXJDb29yZHMpO3ZhciB0PXRoaXMuaW5lcnRpYVN0YXR1cyxlPXRoaXMudGFyZ2V0Lm9wdGlvbnNbdGhpcy5wcmVwYXJlZC5uYW1lXS5pbmVydGlhLG49ZS5yZXNpc3RhbmNlLHI9KG5ldyBEYXRlKS5nZXRUaW1lKCkvMWUzLXQudDA7aWYocjx0LnRlKXt2YXIgaT0xLShNYXRoLmV4cCgtbipyKS10LmxhbWJkYV92MCkvdC5vbmVfdmVfdjA7aWYodC5tb2RpZmllZFhlPT09dC54ZSYmdC5tb2RpZmllZFllPT09dC55ZSl0LnN4PXQueGUqaSx0LnN5PXQueWUqaTtlbHNle3ZhciBvPXAuZ2V0UXVhZHJhdGljQ3VydmVQb2ludCgwLDAsdC54ZSx0LnllLHQubW9kaWZpZWRYZSx0Lm1vZGlmaWVkWWUsaSk7dC5zeD1vLngsdC5zeT1vLnl9dGhpcy5kb01vdmUoKSx0Lmk9dS5yZXF1ZXN0KHRoaXMuYm91bmRJbmVydGlhRnJhbWUpfWVsc2UgdC5zeD10Lm1vZGlmaWVkWGUsdC5zeT10Lm1vZGlmaWVkWWUsdGhpcy5kb01vdmUoKSx0aGlzLmVuZCh0LnN0YXJ0RXZlbnQpLHQuYWN0aXZlPSExLHRoaXMuc2ltdWxhdGlvbj1udWxsO3AuY29weUNvb3Jkcyh0aGlzLnByZXZDb29yZHMsdGhpcy5jdXJDb29yZHMpfWZ1bmN0aW9uIG8oKXtzKHRoaXMpO3ZhciB0PXRoaXMuaW5lcnRpYVN0YXR1cyxlPShuZXcgRGF0ZSkuZ2V0VGltZSgpLXQudDAsbj10aGlzLnRhcmdldC5vcHRpb25zW3RoaXMucHJlcGFyZWQubmFtZV0uaW5lcnRpYS5zbW9vdGhFbmREdXJhdGlvbjtlPG4/KHQuc3g9cC5lYXNlT3V0UXVhZChlLDAsdC54ZSxuKSx0LnN5PXAuZWFzZU91dFF1YWQoZSwwLHQueWUsbiksdGhpcy5wb2ludGVyTW92ZSh0LnN0YXJ0RXZlbnQsdC5zdGFydEV2ZW50KSx0Lmk9dS5yZXF1ZXN0KHRoaXMuYm91bmRTbW9vdGhFbmRGcmFtZSkpOih0LnN4PXQueGUsdC5zeT10LnllLHRoaXMucG9pbnRlck1vdmUodC5zdGFydEV2ZW50LHQuc3RhcnRFdmVudCksdGhpcy5lbmQodC5zdGFydEV2ZW50KSx0LnNtb290aEVuZD10LmFjdGl2ZT0hMSx0aGlzLnNpbXVsYXRpb249bnVsbCl9ZnVuY3Rpb24gcyh0KXt2YXIgZT10LmluZXJ0aWFTdGF0dXM7aWYoZS5hY3RpdmUpe3ZhciBuPWUudXBDb29yZHMucGFnZSxyPWUudXBDb29yZHMuY2xpZW50O3Auc2V0Q29vcmRzKHQuY3VyQ29vcmRzLFt7cGFnZVg6bi54K2Uuc3gscGFnZVk6bi55K2Uuc3ksY2xpZW50WDpyLngrZS5zeCxjbGllbnRZOnIueStlLnN5fV0pfX12YXIgYT10KFwiLi9JbnRlcmFjdEV2ZW50XCIpLGM9dChcIi4vSW50ZXJhY3Rpb25cIiksbD10KFwiLi9tb2RpZmllcnMvYmFzZVwiKSxwPXQoXCIuL3V0aWxzXCIpLHU9dChcIi4vdXRpbHMvcmFmXCIpO2Muc2lnbmFscy5vbihcIm5ld1wiLGZ1bmN0aW9uKHQpe3QuaW5lcnRpYVN0YXR1cz17YWN0aXZlOiExLHNtb290aEVuZDohMSxhbGxvd1Jlc3VtZTohMSxzdGFydEV2ZW50Om51bGwsdXBDb29yZHM6e30seGU6MCx5ZTowLHN4OjAsc3k6MCx0MDowLHZ4MDowLHZ5czowLGR1cmF0aW9uOjAsbGFtYmRhX3YwOjAsb25lX3ZlX3YwOjAsaTpudWxsfSx0LmJvdW5kSW5lcnRpYUZyYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGkuYXBwbHkodCl9LHQuYm91bmRTbW9vdGhFbmRGcmFtZT1mdW5jdGlvbigpe3JldHVybiBvLmFwcGx5KHQpfX0pLGMuc2lnbmFscy5vbihcImRvd25cIixmdW5jdGlvbih0KXt2YXIgZT10LmludGVyYWN0aW9uLG49dC5ldmVudCxyPXQucG9pbnRlcixpPXQuZXZlbnRUYXJnZXQsbz1lLmluZXJ0aWFTdGF0dXM7aWYoby5hY3RpdmUpZm9yKHZhciBzPWk7cC5pcy5lbGVtZW50KHMpOyl7aWYocz09PWUuZWxlbWVudCl7dS5jYW5jZWwoby5pKSxvLmFjdGl2ZT0hMSxlLnNpbXVsYXRpb249bnVsbCxlLnVwZGF0ZVBvaW50ZXIocikscC5zZXRDb29yZHMoZS5jdXJDb29yZHMsZS5wb2ludGVycyk7dmFyIGQ9e2ludGVyYWN0aW9uOmV9O2Muc2lnbmFscy5maXJlKFwiYmVmb3JlLWFjdGlvbi1tb3ZlXCIsZCksYy5zaWduYWxzLmZpcmUoXCJhY3Rpb24tcmVzdW1lXCIsZCk7dmFyIGY9bmV3IGEoZSxuLGUucHJlcGFyZWQubmFtZSxcImluZXJ0aWFyZXN1bWVcIixlLmVsZW1lbnQpO2UudGFyZ2V0LmZpcmUoZiksZS5wcmV2RXZlbnQ9ZixsLnJlc2V0U3RhdHVzZXMoZS5tb2RpZmllclN0YXR1c2VzKSxwLmNvcHlDb29yZHMoZS5wcmV2Q29vcmRzLGUuY3VyQ29vcmRzKTticmVha31zPXAucGFyZW50Tm9kZShzKX19KSxjLnNpZ25hbHMub24oXCJ1cFwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuaW50ZXJhY3Rpb24sbj10LmV2ZW50LGk9ZS5pbmVydGlhU3RhdHVzO2lmKGUuaW50ZXJhY3RpbmcoKSYmIWkuYWN0aXZlKXt2YXIgbz1lLnRhcmdldCxzPW8mJm8ub3B0aW9ucyxjPXMmJmUucHJlcGFyZWQubmFtZSYmc1tlLnByZXBhcmVkLm5hbWVdLmluZXJ0aWEsZD0obmV3IERhdGUpLmdldFRpbWUoKSxmPXt9LHY9cC5leHRlbmQoe30sZS5jdXJDb29yZHMucGFnZSksZz1lLnBvaW50ZXJEZWx0YS5jbGllbnQuc3BlZWQsaD0hMSxtPXZvaWQgMCx5PWMmJmMuZW5hYmxlZCYmXCJnZXN0dXJlXCIhPT1lLnByZXBhcmVkLm5hbWUmJm4hPT1pLnN0YXJ0RXZlbnQseD15JiZkLWUuY3VyQ29vcmRzLnRpbWVTdGFtcDw1MCYmZz5jLm1pblNwZWVkJiZnPmMuZW5kU3BlZWQsYj17aW50ZXJhY3Rpb246ZSxwYWdlQ29vcmRzOnYsc3RhdHVzZXM6ZixwcmVFbmQ6ITAscmVxdWlyZUVuZE9ubHk6ITB9O3kmJiF4JiYobC5yZXNldFN0YXR1c2VzKGYpLG09bC5zZXRBbGwoYiksbS5zaG91bGRNb3ZlJiZtLmxvY2tlZCYmKGg9ITApKSwoeHx8aCkmJihwLmNvcHlDb29yZHMoaS51cENvb3JkcyxlLmN1ckNvb3JkcyksZS5wb2ludGVyc1swXT1pLnN0YXJ0RXZlbnQ9bmV3IGEoZSxuLGUucHJlcGFyZWQubmFtZSxcImluZXJ0aWFzdGFydFwiLGUuZWxlbWVudCksaS50MD1kLGkuYWN0aXZlPSEwLGkuYWxsb3dSZXN1bWU9Yy5hbGxvd1Jlc3VtZSxlLnNpbXVsYXRpb249aSxvLmZpcmUoaS5zdGFydEV2ZW50KSx4PyhpLnZ4MD1lLnBvaW50ZXJEZWx0YS5jbGllbnQudngsaS52eTA9ZS5wb2ludGVyRGVsdGEuY2xpZW50LnZ5LGkudjA9ZyxyKGUsaSkscC5leHRlbmQodixlLmN1ckNvb3Jkcy5wYWdlKSx2LngrPWkueGUsdi55Kz1pLnllLGwucmVzZXRTdGF0dXNlcyhmKSxtPWwuc2V0QWxsKGIpLGkubW9kaWZpZWRYZSs9bS5keCxpLm1vZGlmaWVkWWUrPW0uZHksaS5pPXUucmVxdWVzdChlLmJvdW5kSW5lcnRpYUZyYW1lKSk6KGkuc21vb3RoRW5kPSEwLGkueGU9bS5keCxpLnllPW0uZHksaS5zeD1pLnN5PTAsaS5pPXUucmVxdWVzdChlLmJvdW5kU21vb3RoRW5kRnJhbWUpKSl9fSksYy5zaWduYWxzLm9uKFwic3RvcC1hY3RpdmVcIixmdW5jdGlvbih0KXt2YXIgZT10LmludGVyYWN0aW9uLG49ZS5pbmVydGlhU3RhdHVzO24uYWN0aXZlJiYodS5jYW5jZWwobi5pKSxuLmFjdGl2ZT0hMSxlLnNpbXVsYXRpb249bnVsbCl9KX0se1wiLi9JbnRlcmFjdEV2ZW50XCI6MyxcIi4vSW50ZXJhY3Rpb25cIjo1LFwiLi9tb2RpZmllcnMvYmFzZVwiOjIzLFwiLi91dGlsc1wiOjQzLFwiLi91dGlscy9yYWZcIjo0OX1dLDIxOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3ZhciBuPWEuaW50ZXJhY3RhYmxlcy5nZXQodCxlKTtyZXR1cm4gbnx8KG49bmV3IGModCxlKSxuLmV2ZW50cy5nbG9iYWw9cCksbn12YXIgaT10KFwiLi91dGlscy9icm93c2VyXCIpLG89dChcIi4vdXRpbHMvZXZlbnRzXCIpLHM9dChcIi4vdXRpbHNcIiksYT10KFwiLi9zY29wZVwiKSxjPXQoXCIuL0ludGVyYWN0YWJsZVwiKSxsPXQoXCIuL0ludGVyYWN0aW9uXCIpLHA9e307ci5pc1NldD1mdW5jdGlvbih0LGUpe3JldHVybi0xIT09YS5pbnRlcmFjdGFibGVzLmluZGV4T2ZFbGVtZW50KHQsZSYmZS5jb250ZXh0KX0sci5vbj1mdW5jdGlvbih0LGUsbil7aWYocy5pcy5zdHJpbmcodCkmJi0xIT09dC5zZWFyY2goXCIgXCIpJiYodD10LnRyaW0oKS5zcGxpdCgvICsvKSkscy5pcy5hcnJheSh0KSl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBsO2w9dFtpXTt2YXIgdT1sO3Iub24odSxlLG4pfXJldHVybiByfWlmKHMuaXMub2JqZWN0KHQpKXtmb3IodmFyIGQgaW4gdClyLm9uKGQsdFtkXSxlKTtyZXR1cm4gcn1yZXR1cm4gcy5jb250YWlucyhjLmV2ZW50VHlwZXMsdCk/cFt0XT9wW3RdLnB1c2goZSk6cFt0XT1bZV06by5hZGQoYS5kb2N1bWVudCx0LGUse29wdGlvbnM6bn0pLHJ9LHIub2ZmPWZ1bmN0aW9uKHQsZSxuKXtpZihzLmlzLnN0cmluZyh0KSYmLTEhPT10LnNlYXJjaChcIiBcIikmJih0PXQudHJpbSgpLnNwbGl0KC8gKy8pKSxzLmlzLmFycmF5KHQpKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIGw7bD10W2ldO3ZhciB1PWw7ci5vZmYodSxlLG4pfXJldHVybiByfWlmKHMuaXMub2JqZWN0KHQpKXtmb3IodmFyIGQgaW4gdClyLm9mZihkLHRbZF0sZSk7cmV0dXJuIHJ9aWYocy5jb250YWlucyhjLmV2ZW50VHlwZXMsdCkpe3ZhciBmPXZvaWQgMDt0IGluIHAmJi0xIT09KGY9cFt0XS5pbmRleE9mKGUpKSYmcFt0XS5zcGxpY2UoZiwxKX1lbHNlIG8ucmVtb3ZlKGEuZG9jdW1lbnQsdCxlLG4pO3JldHVybiByfSxyLmRlYnVnPWZ1bmN0aW9uKCl7cmV0dXJuIGF9LHIuZ2V0UG9pbnRlckF2ZXJhZ2U9cy5wb2ludGVyQXZlcmFnZSxyLmdldFRvdWNoQkJveD1zLnRvdWNoQkJveCxyLmdldFRvdWNoRGlzdGFuY2U9cy50b3VjaERpc3RhbmNlLHIuZ2V0VG91Y2hBbmdsZT1zLnRvdWNoQW5nbGUsci5nZXRFbGVtZW50UmVjdD1zLmdldEVsZW1lbnRSZWN0LHIuZ2V0RWxlbWVudENsaWVudFJlY3Q9cy5nZXRFbGVtZW50Q2xpZW50UmVjdCxyLm1hdGNoZXNTZWxlY3Rvcj1zLm1hdGNoZXNTZWxlY3RvcixyLmNsb3Nlc3Q9cy5jbG9zZXN0LHIuc3VwcG9ydHNUb3VjaD1mdW5jdGlvbigpe3JldHVybiBpLnN1cHBvcnRzVG91Y2h9LHIuc3VwcG9ydHNQb2ludGVyRXZlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gaS5zdXBwb3J0c1BvaW50ZXJFdmVudH0sci5zdG9wPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1hLmludGVyYWN0aW9ucy5sZW5ndGgtMTtlPj0wO2UtLSlhLmludGVyYWN0aW9uc1tlXS5zdG9wKHQpO3JldHVybiByfSxyLnBvaW50ZXJNb3ZlVG9sZXJhbmNlPWZ1bmN0aW9uKHQpe3JldHVybiBzLmlzLm51bWJlcih0KT8obC5wb2ludGVyTW92ZVRvbGVyYW5jZT10LHIpOmwucG9pbnRlck1vdmVUb2xlcmFuY2V9LHIuYWRkRG9jdW1lbnQ9YS5hZGREb2N1bWVudCxyLnJlbW92ZURvY3VtZW50PWEucmVtb3ZlRG9jdW1lbnQsYS5pbnRlcmFjdD1yLGUuZXhwb3J0cz1yfSx7XCIuL0ludGVyYWN0YWJsZVwiOjQsXCIuL0ludGVyYWN0aW9uXCI6NSxcIi4vc2NvcGVcIjozMyxcIi4vdXRpbHNcIjo0MyxcIi4vdXRpbHMvYnJvd3NlclwiOjM2LFwiLi91dGlscy9ldmVudHNcIjozOX1dLDIyOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXt2YXIgZT10LmludGVyYWN0aW9uLG49dC5ldmVudDtlLnRhcmdldCYmZS50YXJnZXQuY2hlY2tBbmRQcmV2ZW50RGVmYXVsdChuKX12YXIgaT10KFwiLi9JbnRlcmFjdGFibGVcIiksbz10KFwiLi9JbnRlcmFjdGlvblwiKSxzPXQoXCIuL3Njb3BlXCIpLGE9dChcIi4vdXRpbHMvaXNcIiksYz10KFwiLi91dGlscy9ldmVudHNcIiksbD10KFwiLi91dGlscy9kb21VdGlsc1wiKSxwPWwubm9kZUNvbnRhaW5zLHU9bC5tYXRjaGVzU2VsZWN0b3I7aS5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24odCl7cmV0dXJuL14oYWx3YXlzfG5ldmVyfGF1dG8pJC8udGVzdCh0KT8odGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0PXQsdGhpcyk6YS5ib29sKHQpPyh0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQ9dD9cImFsd2F5c1wiOlwibmV2ZXJcIix0aGlzKTp0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHR9LGkucHJvdG90eXBlLmNoZWNrQW5kUHJldmVudERlZmF1bHQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0O2lmKFwibmV2ZXJcIiE9PWUpcmV0dXJuXCJhbHdheXNcIj09PWU/dm9pZCB0LnByZXZlbnREZWZhdWx0KCk6dm9pZChjLnN1cHBvcnRzT3B0aW9ucyYmL150b3VjaChzdGFydHxtb3ZlKSQvLnRlc3QodC50eXBlKXx8L14obW91c2V8cG9pbnRlcnx0b3VjaCkqKGRvd258c3RhcnQpL2kudGVzdCh0LnR5cGUpfHxhLmVsZW1lbnQodC50YXJnZXQpJiZ1KHQudGFyZ2V0LFwiaW5wdXQsc2VsZWN0LHRleHRhcmVhLFtjb250ZW50ZWRpdGFibGU9dHJ1ZV0sW2NvbnRlbnRlZGl0YWJsZT10cnVlXSAqXCIpfHx0LnByZXZlbnREZWZhdWx0KCkpfTtmb3IodmFyIGQ9W1wiZG93blwiLFwibW92ZVwiLFwidXBcIixcImNhbmNlbFwiXSxmPTA7ZjxkLmxlbmd0aDtmKyspe3ZhciB2PWRbZl07by5zaWduYWxzLm9uKHYscil9by5kb2NFdmVudHMuZHJhZ3N0YXJ0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8cy5pbnRlcmFjdGlvbnMubGVuZ3RoO2UrKyl7dmFyIG47bj1zLmludGVyYWN0aW9uc1tlXTt2YXIgcj1uO2lmKHIuZWxlbWVudCYmKHIuZWxlbWVudD09PXQudGFyZ2V0fHxwKHIuZWxlbWVudCx0LnRhcmdldCkpKXJldHVybiB2b2lkIHIudGFyZ2V0LmNoZWNrQW5kUHJldmVudERlZmF1bHQodCl9fX0se1wiLi9JbnRlcmFjdGFibGVcIjo0LFwiLi9JbnRlcmFjdGlvblwiOjUsXCIuL3Njb3BlXCI6MzMsXCIuL3V0aWxzL2RvbVV0aWxzXCI6MzgsXCIuL3V0aWxzL2V2ZW50c1wiOjM5LFwiLi91dGlscy9pc1wiOjQ1fV0sMjM6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSxuKXtyZXR1cm4gdCYmdC5lbmFibGVkJiYoZXx8IXQuZW5kT25seSkmJighbnx8dC5lbmRPbmx5KX12YXIgaT10KFwiLi4vSW50ZXJhY3RFdmVudFwiKSxvPXQoXCIuLi9JbnRlcmFjdGlvblwiKSxzPXQoXCIuLi91dGlscy9leHRlbmRcIiksYT17bmFtZXM6W10sc2V0T2Zmc2V0czpmdW5jdGlvbih0KXt2YXIgZT10LmludGVyYWN0aW9uLG49dC5wYWdlQ29vcmRzLHI9ZS50YXJnZXQsaT1lLmVsZW1lbnQsbz1lLnN0YXJ0T2Zmc2V0LHM9ci5nZXRSZWN0KGkpO3M/KG8ubGVmdD1uLngtcy5sZWZ0LG8udG9wPW4ueS1zLnRvcCxvLnJpZ2h0PXMucmlnaHQtbi54LG8uYm90dG9tPXMuYm90dG9tLW4ueSxcIndpZHRoXCJpbiBzfHwocy53aWR0aD1zLnJpZ2h0LXMubGVmdCksXCJoZWlnaHRcImluIHN8fChzLmhlaWdodD1zLmJvdHRvbS1zLnRvcCkpOm8ubGVmdD1vLnRvcD1vLnJpZ2h0PW8uYm90dG9tPTAsdC5yZWN0PXMsdC5pbnRlcmFjdGFibGU9cix0LmVsZW1lbnQ9aTtmb3IodmFyIGM9MDtjPGEubmFtZXMubGVuZ3RoO2MrKyl7dmFyIGw7bD1hLm5hbWVzW2NdO3ZhciBwPWw7dC5vcHRpb25zPXIub3B0aW9uc1tlLnByZXBhcmVkLm5hbWVdW3BdLHQub3B0aW9ucyYmKGUubW9kaWZpZXJPZmZzZXRzW3BdPWFbcF0uc2V0T2Zmc2V0KHQpKX19LHNldEFsbDpmdW5jdGlvbih0KXt2YXIgZT10LmludGVyYWN0aW9uLG49dC5zdGF0dXNlcyxpPXQucHJlRW5kLG89dC5yZXF1aXJlRW5kT25seSxjPXtkeDowLGR5OjAsY2hhbmdlZDohMSxsb2NrZWQ6ITEsc2hvdWxkTW92ZTohMH07dC5tb2RpZmllZENvb3Jkcz1zKHt9LHQucGFnZUNvb3Jkcyk7Zm9yKHZhciBsPTA7bDxhLm5hbWVzLmxlbmd0aDtsKyspe3ZhciBwO3A9YS5uYW1lc1tsXTt2YXIgdT1wLGQ9YVt1XSxmPWUudGFyZ2V0Lm9wdGlvbnNbZS5wcmVwYXJlZC5uYW1lXVt1XTtyKGYsaSxvKSYmKHQuc3RhdHVzPXQuc3RhdHVzPW5bdV0sdC5vcHRpb25zPWYsdC5vZmZzZXQ9dC5pbnRlcmFjdGlvbi5tb2RpZmllck9mZnNldHNbdV0sZC5zZXQodCksdC5zdGF0dXMubG9ja2VkJiYodC5tb2RpZmllZENvb3Jkcy54Kz10LnN0YXR1cy5keCx0Lm1vZGlmaWVkQ29vcmRzLnkrPXQuc3RhdHVzLmR5LGMuZHgrPXQuc3RhdHVzLmR4LGMuZHkrPXQuc3RhdHVzLmR5LGMubG9ja2VkPSEwKSl9cmV0dXJuIGMuc2hvdWxkTW92ZT0hdC5zdGF0dXN8fCFjLmxvY2tlZHx8dC5zdGF0dXMuY2hhbmdlZCxjfSxyZXNldFN0YXR1c2VzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8YS5uYW1lcy5sZW5ndGg7ZSsrKXt2YXIgbjtuPWEubmFtZXNbZV07dmFyIHI9bixpPXRbcl18fHt9O2kuZHg9aS5keT0wLGkubW9kaWZpZWRYPWkubW9kaWZpZWRZPU5hTixpLmxvY2tlZD0hMSxpLmNoYW5nZWQ9ITAsdFtyXT1pfXJldHVybiB0fSxzdGFydDpmdW5jdGlvbih0LGUpe3ZhciBuPXQuaW50ZXJhY3Rpb24scj17aW50ZXJhY3Rpb246bixwYWdlQ29vcmRzOihcImFjdGlvbi1yZXN1bWVcIj09PWU/bi5jdXJDb29yZHM6bi5zdGFydENvb3JkcykucGFnZSxzdGFydE9mZnNldDpuLnN0YXJ0T2Zmc2V0LHN0YXR1c2VzOm4ubW9kaWZpZXJTdGF0dXNlcyxwcmVFbmQ6ITEscmVxdWlyZUVuZE9ubHk6ITF9O2Euc2V0T2Zmc2V0cyhyKSxhLnJlc2V0U3RhdHVzZXMoci5zdGF0dXNlcyksci5wYWdlQ29vcmRzPXMoe30sbi5zdGFydENvb3Jkcy5wYWdlKSxuLm1vZGlmaWVyUmVzdWx0PWEuc2V0QWxsKHIpfSxiZWZvcmVNb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW50ZXJhY3Rpb24sbj10LnByZUVuZCxyPXQuaW50ZXJhY3RpbmdCZWZvcmVNb3ZlLGk9YS5zZXRBbGwoe2ludGVyYWN0aW9uOmUscHJlRW5kOm4scGFnZUNvb3JkczplLmN1ckNvb3Jkcy5wYWdlLHN0YXR1c2VzOmUubW9kaWZpZXJTdGF0dXNlcyxyZXF1aXJlRW5kT25seTohMX0pOyFpLnNob3VsZE1vdmUmJnImJihlLl9kb250RmlyZU1vdmU9ITApLGUubW9kaWZpZXJSZXN1bHQ9aX0sZW5kOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LmludGVyYWN0aW9uLG49dC5ldmVudCxpPTA7aTxhLm5hbWVzLmxlbmd0aDtpKyspe3ZhciBvO289YS5uYW1lc1tpXTt2YXIgcz1vO2lmKHIoZS50YXJnZXQub3B0aW9uc1tlLnByZXBhcmVkLm5hbWVdW3NdLCEwLCEwKSl7ZS5kb01vdmUoe2V2ZW50Om4scHJlRW5kOiEwfSk7YnJlYWt9fX0sc2V0WFk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuaUV2ZW50LG49dC5pbnRlcmFjdGlvbixyPXMoe30sdCksaT0wO2k8YS5uYW1lcy5sZW5ndGg7aSsrKXt2YXIgbz1hLm5hbWVzW2ldO2lmKHIub3B0aW9ucz1uLnRhcmdldC5vcHRpb25zW24ucHJlcGFyZWQubmFtZV1bb10sci5vcHRpb25zKXt2YXIgYz1hW29dO3Iuc3RhdHVzPW4ubW9kaWZpZXJTdGF0dXNlc1tvXSxlW29dPWMubW9kaWZ5Q29vcmRzKHIpfX19fTtvLnNpZ25hbHMub24oXCJuZXdcIixmdW5jdGlvbih0KXt0LnN0YXJ0T2Zmc2V0PXtsZWZ0OjAscmlnaHQ6MCx0b3A6MCxib3R0b206MH0sdC5tb2RpZmllck9mZnNldHM9e30sdC5tb2RpZmllclN0YXR1c2VzPWEucmVzZXRTdGF0dXNlcyh7fSksdC5tb2RpZmllclJlc3VsdD1udWxsfSksby5zaWduYWxzLm9uKFwiYWN0aW9uLXN0YXJ0XCIsYS5zdGFydCksby5zaWduYWxzLm9uKFwiYWN0aW9uLXJlc3VtZVwiLGEuc3RhcnQpLG8uc2lnbmFscy5vbihcImJlZm9yZS1hY3Rpb24tbW92ZVwiLGEuYmVmb3JlTW92ZSksby5zaWduYWxzLm9uKFwiYWN0aW9uLWVuZFwiLGEuZW5kKSxpLnNpZ25hbHMub24oXCJzZXQteHlcIixhLnNldFhZKSxlLmV4cG9ydHM9YX0se1wiLi4vSW50ZXJhY3RFdmVudFwiOjMsXCIuLi9JbnRlcmFjdGlvblwiOjUsXCIuLi91dGlscy9leHRlbmRcIjo0MH1dLDI0OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUsbil7cmV0dXJuIG8uaXMuZnVuY3Rpb24odCk/by5yZXNvbHZlUmVjdExpa2UodCxlLnRhcmdldCxlLmVsZW1lbnQsW24ueCxuLnksZV0pOm8ucmVzb2x2ZVJlY3RMaWtlKHQsZS50YXJnZXQsZS5lbGVtZW50KX12YXIgaT10KFwiLi9iYXNlXCIpLG89dChcIi4uL3V0aWxzXCIpLHM9dChcIi4uL2RlZmF1bHRPcHRpb25zXCIpLGE9e2RlZmF1bHRzOntlbmFibGVkOiExLGVuZE9ubHk6ITEscmVzdHJpY3Rpb246bnVsbCxlbGVtZW50UmVjdDpudWxsfSxzZXRPZmZzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5yZWN0LG49dC5zdGFydE9mZnNldCxyPXQub3B0aW9ucyxpPXImJnIuZWxlbWVudFJlY3Qsbz17fTtyZXR1cm4gZSYmaT8oby5sZWZ0PW4ubGVmdC1lLndpZHRoKmkubGVmdCxvLnRvcD1uLnRvcC1lLmhlaWdodCppLnRvcCxvLnJpZ2h0PW4ucmlnaHQtZS53aWR0aCooMS1pLnJpZ2h0KSxvLmJvdHRvbT1uLmJvdHRvbS1lLmhlaWdodCooMS1pLmJvdHRvbSkpOm8ubGVmdD1vLnRvcD1vLnJpZ2h0PW8uYm90dG9tPTAsb30sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXQubW9kaWZpZWRDb29yZHMsbj10LmludGVyYWN0aW9uLGk9dC5zdGF0dXMscz10Lm9wdGlvbnM7aWYoIXMpcmV0dXJuIGk7dmFyIGE9aS51c2VTdGF0dXNYWT97eDppLngseTppLnl9Om8uZXh0ZW5kKHt9LGUpLGM9cihzLnJlc3RyaWN0aW9uLG4sYSk7aWYoIWMpcmV0dXJuIGk7aS5keD0wLGkuZHk9MCxpLmxvY2tlZD0hMTt2YXIgbD1jLHA9YS54LHU9YS55LGQ9bi5tb2RpZmllck9mZnNldHMucmVzdHJpY3Q7XCJ4XCJpbiBjJiZcInlcImluIGM/KHA9TWF0aC5tYXgoTWF0aC5taW4obC54K2wud2lkdGgtZC5yaWdodCxhLngpLGwueCtkLmxlZnQpLHU9TWF0aC5tYXgoTWF0aC5taW4obC55K2wuaGVpZ2h0LWQuYm90dG9tLGEueSksbC55K2QudG9wKSk6KHA9TWF0aC5tYXgoTWF0aC5taW4obC5yaWdodC1kLnJpZ2h0LGEueCksbC5sZWZ0K2QubGVmdCksdT1NYXRoLm1heChNYXRoLm1pbihsLmJvdHRvbS1kLmJvdHRvbSxhLnkpLGwudG9wK2QudG9wKSksaS5keD1wLWEueCxpLmR5PXUtYS55LGkuY2hhbmdlZD1pLm1vZGlmaWVkWCE9PXB8fGkubW9kaWZpZWRZIT09dSxpLmxvY2tlZD0hKCFpLmR4JiYhaS5keSksaS5tb2RpZmllZFg9cCxpLm1vZGlmaWVkWT11fSxtb2RpZnlDb29yZHM6ZnVuY3Rpb24odCl7dmFyIGU9dC5wYWdlLG49dC5jbGllbnQscj10LnN0YXR1cyxpPXQucGhhc2Usbz10Lm9wdGlvbnMscz1vJiZvLmVsZW1lbnRSZWN0O2lmKG8mJm8uZW5hYmxlZCYmKFwic3RhcnRcIiE9PWl8fCFzfHwhci5sb2NrZWQpJiZyLmxvY2tlZClyZXR1cm4gZS54Kz1yLmR4LGUueSs9ci5keSxuLngrPXIuZHgsbi55Kz1yLmR5LHtkeDpyLmR4LGR5OnIuZHl9fSxnZXRSZXN0cmljdGlvblJlY3Q6cn07aS5yZXN0cmljdD1hLGkubmFtZXMucHVzaChcInJlc3RyaWN0XCIpLHMucGVyQWN0aW9uLnJlc3RyaWN0PWEuZGVmYXVsdHMsZS5leHBvcnRzPWF9LHtcIi4uL2RlZmF1bHRPcHRpb25zXCI6MTgsXCIuLi91dGlsc1wiOjQzLFwiLi9iYXNlXCI6MjN9XSwyNTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPXQoXCIuL2Jhc2VcIiksaT10KFwiLi4vdXRpbHNcIiksbz10KFwiLi4vdXRpbHMvcmVjdFwiKSxzPXQoXCIuLi9kZWZhdWx0T3B0aW9uc1wiKSxhPXQoXCIuLi9hY3Rpb25zL3Jlc2l6ZVwiKSxjPXQoXCIuL3Jlc3RyaWN0XCIpLGw9Yy5nZXRSZXN0cmljdGlvblJlY3QscD17dG9wOjEvMCxsZWZ0OjEvMCxib3R0b206LTEvMCxyaWdodDotMS8wfSx1PXt0b3A6LTEvMCxsZWZ0Oi0xLzAsYm90dG9tOjEvMCxyaWdodDoxLzB9LGQ9e2RlZmF1bHRzOntlbmFibGVkOiExLGVuZE9ubHk6ITEsbWluOm51bGwsbWF4Om51bGwsb2Zmc2V0Om51bGx9LHNldE9mZnNldDpmdW5jdGlvbih0KXt2YXIgZT10LmludGVyYWN0aW9uLG49dC5zdGFydE9mZnNldCxyPXQub3B0aW9ucztpZighcilyZXR1cm4gaS5leHRlbmQoe30sbik7dmFyIG89bChyLm9mZnNldCxlLGUuc3RhcnRDb29yZHMucGFnZSk7cmV0dXJuIG8/e3RvcDpuLnRvcCtvLnksbGVmdDpuLmxlZnQrby54LGJvdHRvbTpuLmJvdHRvbStvLnkscmlnaHQ6bi5yaWdodCtvLnh9Om59LHNldDpmdW5jdGlvbih0KXt2YXIgZT10Lm1vZGlmaWVkQ29vcmRzLG49dC5pbnRlcmFjdGlvbixyPXQuc3RhdHVzLHM9dC5vZmZzZXQsYT10Lm9wdGlvbnMsYz1uLnByZXBhcmVkLmxpbmtlZEVkZ2VzfHxuLnByZXBhcmVkLmVkZ2VzO2lmKG4uaW50ZXJhY3RpbmcoKSYmYyl7dmFyIGQ9ci51c2VTdGF0dXNYWT97eDpyLngseTpyLnl9OmkuZXh0ZW5kKHt9LGUpLGY9by54eXdoVG9UbGJyKGwoYS5pbm5lcixuLGQpKXx8cCx2PW8ueHl3aFRvVGxicihsKGEub3V0ZXIsbixkKSl8fHUsZz1kLngsaD1kLnk7ci5keD0wLHIuZHk9MCxyLmxvY2tlZD0hMSxjLnRvcD9oPU1hdGgubWluKE1hdGgubWF4KHYudG9wK3MudG9wLGQueSksZi50b3Arcy50b3ApOmMuYm90dG9tJiYoaD1NYXRoLm1heChNYXRoLm1pbih2LmJvdHRvbS1zLmJvdHRvbSxkLnkpLGYuYm90dG9tLXMuYm90dG9tKSksYy5sZWZ0P2c9TWF0aC5taW4oTWF0aC5tYXgodi5sZWZ0K3MubGVmdCxkLngpLGYubGVmdCtzLmxlZnQpOmMucmlnaHQmJihnPU1hdGgubWF4KE1hdGgubWluKHYucmlnaHQtcy5yaWdodCxkLngpLGYucmlnaHQtcy5yaWdodCkpLHIuZHg9Zy1kLngsci5keT1oLWQueSxyLmNoYW5nZWQ9ci5tb2RpZmllZFghPT1nfHxyLm1vZGlmaWVkWSE9PWgsci5sb2NrZWQ9ISghci5keCYmIXIuZHkpLHIubW9kaWZpZWRYPWcsci5tb2RpZmllZFk9aH19LG1vZGlmeUNvb3JkczpmdW5jdGlvbih0KXt2YXIgZT10LnBhZ2Usbj10LmNsaWVudCxyPXQuc3RhdHVzLGk9dC5waGFzZSxvPXQub3B0aW9ucztpZihvJiZvLmVuYWJsZWQmJihcInN0YXJ0XCIhPT1pfHwhci5sb2NrZWQpJiZyLmxvY2tlZClyZXR1cm4gZS54Kz1yLmR4LGUueSs9ci5keSxuLngrPXIuZHgsbi55Kz1yLmR5LHtkeDpyLmR4LGR5OnIuZHl9fSxub0lubmVyOnAsbm9PdXRlcjp1LGdldFJlc3RyaWN0aW9uUmVjdDpsfTtyLnJlc3RyaWN0RWRnZXM9ZCxyLm5hbWVzLnB1c2goXCJyZXN0cmljdEVkZ2VzXCIpLHMucGVyQWN0aW9uLnJlc3RyaWN0RWRnZXM9ZC5kZWZhdWx0cyxhLmRlZmF1bHRzLnJlc3RyaWN0RWRnZXM9ZC5kZWZhdWx0cyxlLmV4cG9ydHM9ZH0se1wiLi4vYWN0aW9ucy9yZXNpemVcIjoxMCxcIi4uL2RlZmF1bHRPcHRpb25zXCI6MTgsXCIuLi91dGlsc1wiOjQzLFwiLi4vdXRpbHMvcmVjdFwiOjUwLFwiLi9iYXNlXCI6MjMsXCIuL3Jlc3RyaWN0XCI6MjR9XSwyNjpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPXQoXCIuL2Jhc2VcIiksaT10KFwiLi9yZXN0cmljdEVkZ2VzXCIpLG89dChcIi4uL3V0aWxzXCIpLHM9dChcIi4uL3V0aWxzL3JlY3RcIiksYT10KFwiLi4vZGVmYXVsdE9wdGlvbnNcIiksYz10KFwiLi4vYWN0aW9ucy9yZXNpemVcIiksbD17d2lkdGg6LTEvMCxoZWlnaHQ6LTEvMH0scD17d2lkdGg6MS8wLGhlaWdodDoxLzB9LHU9e2RlZmF1bHRzOntlbmFibGVkOiExLGVuZE9ubHk6ITEsbWluOm51bGwsbWF4Om51bGx9LHNldE9mZnNldDpmdW5jdGlvbih0KXtyZXR1cm4gdC5pbnRlcmFjdGlvbi5zdGFydE9mZnNldH0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW50ZXJhY3Rpb24sbj10Lm9wdGlvbnMscj1lLnByZXBhcmVkLmxpbmtlZEVkZ2VzfHxlLnByZXBhcmVkLmVkZ2VzO2lmKGUuaW50ZXJhY3RpbmcoKSYmcil7dmFyIGE9cy54eXdoVG9UbGJyKGUucmVzaXplUmVjdHMuaW52ZXJ0ZWQpLGM9cy50bGJyVG9YeXdoKGkuZ2V0UmVzdHJpY3Rpb25SZWN0KG4ubWluLGUpKXx8bCx1PXMudGxiclRvWHl3aChpLmdldFJlc3RyaWN0aW9uUmVjdChuLm1heCxlKSl8fHA7dC5vcHRpb25zPXtlbmFibGVkOm4uZW5hYmxlZCxlbmRPbmx5Om4uZW5kT25seSxpbm5lcjpvLmV4dGVuZCh7fSxpLm5vSW5uZXIpLG91dGVyOm8uZXh0ZW5kKHt9LGkubm9PdXRlcil9LHIudG9wPyh0Lm9wdGlvbnMuaW5uZXIudG9wPWEuYm90dG9tLWMuaGVpZ2h0LHQub3B0aW9ucy5vdXRlci50b3A9YS5ib3R0b20tdS5oZWlnaHQpOnIuYm90dG9tJiYodC5vcHRpb25zLmlubmVyLmJvdHRvbT1hLnRvcCtjLmhlaWdodCx0Lm9wdGlvbnMub3V0ZXIuYm90dG9tPWEudG9wK3UuaGVpZ2h0KSxyLmxlZnQ/KHQub3B0aW9ucy5pbm5lci5sZWZ0PWEucmlnaHQtYy53aWR0aCx0Lm9wdGlvbnMub3V0ZXIubGVmdD1hLnJpZ2h0LXUud2lkdGgpOnIucmlnaHQmJih0Lm9wdGlvbnMuaW5uZXIucmlnaHQ9YS5sZWZ0K2Mud2lkdGgsdC5vcHRpb25zLm91dGVyLnJpZ2h0PWEubGVmdCt1LndpZHRoKSxpLnNldCh0KX19LG1vZGlmeUNvb3JkczppLm1vZGlmeUNvb3Jkc307ci5yZXN0cmljdFNpemU9dSxyLm5hbWVzLnB1c2goXCJyZXN0cmljdFNpemVcIiksYS5wZXJBY3Rpb24ucmVzdHJpY3RTaXplPXUuZGVmYXVsdHMsYy5kZWZhdWx0cy5yZXN0cmljdFNpemU9dS5kZWZhdWx0cyxlLmV4cG9ydHM9dX0se1wiLi4vYWN0aW9ucy9yZXNpemVcIjoxMCxcIi4uL2RlZmF1bHRPcHRpb25zXCI6MTgsXCIuLi91dGlsc1wiOjQzLFwiLi4vdXRpbHMvcmVjdFwiOjUwLFwiLi9iYXNlXCI6MjMsXCIuL3Jlc3RyaWN0RWRnZXNcIjoyNX1dLDI3OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dChcIi4vYmFzZVwiKSxpPXQoXCIuLi9pbnRlcmFjdFwiKSxvPXQoXCIuLi91dGlsc1wiKSxzPXQoXCIuLi9kZWZhdWx0T3B0aW9uc1wiKSxhPXtkZWZhdWx0czp7ZW5hYmxlZDohMSxlbmRPbmx5OiExLHJhbmdlOjEvMCx0YXJnZXRzOm51bGwsb2Zmc2V0czpudWxsLHJlbGF0aXZlUG9pbnRzOm51bGx9LHNldE9mZnNldDpmdW5jdGlvbih0KXt2YXIgZT10LmludGVyYWN0aW9uLG49dC5pbnRlcmFjdGFibGUscj10LmVsZW1lbnQsaT10LnJlY3Qscz10LnN0YXJ0T2Zmc2V0LGE9dC5vcHRpb25zLGM9W10sbD1vLnJlY3RUb1hZKG8ucmVzb2x2ZVJlY3RMaWtlKGEub3JpZ2luKSkscD1sfHxvLmdldE9yaWdpblhZKG4scixlLnByZXBhcmVkLm5hbWUpO2E9YXx8bi5vcHRpb25zW2UucHJlcGFyZWQubmFtZV0uc25hcHx8e307dmFyIHU9dm9pZCAwO2lmKFwic3RhcnRDb29yZHNcIj09PWEub2Zmc2V0KXU9e3g6ZS5zdGFydENvb3Jkcy5wYWdlLngtcC54LHk6ZS5zdGFydENvb3Jkcy5wYWdlLnktcC55fTtlbHNle3ZhciBkPW8ucmVzb2x2ZVJlY3RMaWtlKGEub2Zmc2V0LG4scixbZV0pO3U9by5yZWN0VG9YWShkKXx8e3g6MCx5OjB9fWlmKGkmJmEucmVsYXRpdmVQb2ludHMmJmEucmVsYXRpdmVQb2ludHMubGVuZ3RoKWZvcih2YXIgZj0wO2Y8YS5yZWxhdGl2ZVBvaW50cy5sZW5ndGg7ZisrKXt2YXIgdjt2PWEucmVsYXRpdmVQb2ludHNbZl07dmFyIGc9dixoPWcueCxtPWcueTtjLnB1c2goe3g6cy5sZWZ0LWkud2lkdGgqaCt1LngseTpzLnRvcC1pLmhlaWdodCptK3UueX0pfWVsc2UgYy5wdXNoKHUpO3JldHVybiBjfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5pbnRlcmFjdGlvbixuPXQubW9kaWZpZWRDb29yZHMscj10LnN0YXR1cyxpPXQub3B0aW9ucyxzPXQub2Zmc2V0LGE9W10sYz12b2lkIDAsbD12b2lkIDAscD12b2lkIDA7aWYoci51c2VTdGF0dXNYWSlsPXt4OnIueCx5OnIueX07ZWxzZXt2YXIgdT1vLmdldE9yaWdpblhZKGUudGFyZ2V0LGUuZWxlbWVudCxlLnByZXBhcmVkLm5hbWUpO2w9by5leHRlbmQoe30sbiksbC54LT11LngsbC55LT11Lnl9ci5yZWFsWD1sLngsci5yZWFsWT1sLnk7Zm9yKHZhciBkPWkudGFyZ2V0cz9pLnRhcmdldHMubGVuZ3RoOjAsZj0wO2Y8cy5sZW5ndGg7ZisrKXt2YXIgdjt2PXNbZl07Zm9yKHZhciBnPXYsaD1nLngsbT1nLnkseT1sLngtaCx4PWwueS1tLGI9MDtiPGkudGFyZ2V0cy5sZW5ndGg7YisrKXt2YXIgdzt3PWkudGFyZ2V0c1tiXTt2YXIgRT13O2M9by5pcy5mdW5jdGlvbihFKT9FKHkseCxlKTpFLGMmJmEucHVzaCh7eDpvLmlzLm51bWJlcihjLngpP2MueCtoOnkseTpvLmlzLm51bWJlcihjLnkpP2MueSttOngscmFuZ2U6by5pcy5udW1iZXIoYy5yYW5nZSk/Yy5yYW5nZTppLnJhbmdlfSl9fXZhciBUPXt0YXJnZXQ6bnVsbCxpblJhbmdlOiExLGRpc3RhbmNlOjAscmFuZ2U6MCxkeDowLGR5OjB9O2ZvcihwPTAsZD1hLmxlbmd0aDtwPGQ7cCsrKXtjPWFbcF07dmFyIFM9Yy5yYW5nZSxDPWMueC1sLngsRD1jLnktbC55LEk9by5oeXBvdChDLEQpLE89STw9UztTPT09MS8wJiZULmluUmFuZ2UmJlQucmFuZ2UhPT0xLzAmJihPPSExKSxULnRhcmdldCYmIShPP1QuaW5SYW5nZSYmUyE9PTEvMD9JL1M8VC5kaXN0YW5jZS9ULnJhbmdlOlM9PT0xLzAmJlQucmFuZ2UhPT0xLzB8fEk8VC5kaXN0YW5jZTohVC5pblJhbmdlJiZJPFQuZGlzdGFuY2UpfHwoVC50YXJnZXQ9YyxULmRpc3RhbmNlPUksVC5yYW5nZT1TLFQuaW5SYW5nZT1PLFQuZHg9QyxULmR5PUQsci5yYW5nZT1TKX12YXIgTT12b2lkIDA7VC50YXJnZXQ/KE09ci5tb2RpZmllZFghPT1ULnRhcmdldC54fHxyLm1vZGlmaWVkWSE9PVQudGFyZ2V0Lnksci5tb2RpZmllZFg9VC50YXJnZXQueCxyLm1vZGlmaWVkWT1ULnRhcmdldC55KTooTT0hMCxyLm1vZGlmaWVkWD1OYU4sci5tb2RpZmllZFk9TmFOKSxyLmR4PVQuZHgsci5keT1ULmR5LHIuY2hhbmdlZD1NfHxULmluUmFuZ2UmJiFyLmxvY2tlZCxyLmxvY2tlZD1ULmluUmFuZ2V9LG1vZGlmeUNvb3JkczpmdW5jdGlvbih0KXt2YXIgZT10LnBhZ2Usbj10LmNsaWVudCxyPXQuc3RhdHVzLGk9dC5waGFzZSxvPXQub3B0aW9ucyxzPW8mJm8ucmVsYXRpdmVQb2ludHM7aWYobyYmby5lbmFibGVkJiYoXCJzdGFydFwiIT09aXx8IXN8fCFzLmxlbmd0aCkpcmV0dXJuIHIubG9ja2VkJiYoZS54Kz1yLmR4LGUueSs9ci5keSxuLngrPXIuZHgsbi55Kz1yLmR5KSx7cmFuZ2U6ci5yYW5nZSxsb2NrZWQ6ci5sb2NrZWQseDpyLm1vZGlmaWVkWCx5OnIubW9kaWZpZWRZLHJlYWxYOnIucmVhbFgscmVhbFk6ci5yZWFsWSxkeDpyLmR4LGR5OnIuZHl9fX07aS5jcmVhdGVTbmFwR3JpZD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj10LmxpbWl0c3x8e2xlZnQ6LTEvMCxyaWdodDoxLzAsdG9wOi0xLzAsYm90dG9tOjEvMH0saT0wLHM9MDtvLmlzLm9iamVjdCh0Lm9mZnNldCkmJihpPXQub2Zmc2V0Lngscz10Lm9mZnNldC55KTt2YXIgYT1NYXRoLnJvdW5kKChlLWkpL3QueCksYz1NYXRoLnJvdW5kKChuLXMpL3QueSk7cmV0dXJue3g6TWF0aC5tYXgoci5sZWZ0LE1hdGgubWluKHIucmlnaHQsYSp0LngraSkpLHk6TWF0aC5tYXgoci50b3AsTWF0aC5taW4oci5ib3R0b20sYyp0LnkrcykpLHJhbmdlOnQucmFuZ2V9fX0sci5zbmFwPWEsci5uYW1lcy5wdXNoKFwic25hcFwiKSxzLnBlckFjdGlvbi5zbmFwPWEuZGVmYXVsdHMsZS5leHBvcnRzPWF9LHtcIi4uL2RlZmF1bHRPcHRpb25zXCI6MTgsXCIuLi9pbnRlcmFjdFwiOjIxLFwiLi4vdXRpbHNcIjo0MyxcIi4vYmFzZVwiOjIzfV0sMjg6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10KFwiLi9iYXNlXCIpLGk9dChcIi4vc25hcFwiKSxvPXQoXCIuLi9kZWZhdWx0T3B0aW9uc1wiKSxzPXQoXCIuLi9hY3Rpb25zL3Jlc2l6ZVwiKSxhPXQoXCIuLi91dGlscy9cIiksYz17ZGVmYXVsdHM6e2VuYWJsZWQ6ITEsZW5kT25seTohMSxyYW5nZToxLzAsdGFyZ2V0czpudWxsLG9mZnNldHM6bnVsbH0sc2V0T2Zmc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW50ZXJhY3Rpb24sbj10Lm9wdGlvbnMscj1lLnByZXBhcmVkLmVkZ2VzO2lmKHIpe3Qub3B0aW9ucz17cmVsYXRpdmVQb2ludHM6W3t4OnIubGVmdD8wOjEseTpyLnRvcD8wOjF9XSxvcmlnaW46e3g6MCx5OjB9LG9mZnNldDpcInNlbGZcIixyYW5nZTpuLnJhbmdlfTt2YXIgbz1pLnNldE9mZnNldCh0KTtyZXR1cm4gdC5vcHRpb25zPW4sb319LHNldDpmdW5jdGlvbih0KXt2YXIgZT10LmludGVyYWN0aW9uLG49dC5vcHRpb25zLHI9dC5vZmZzZXQsbz10Lm1vZGlmaWVkQ29vcmRzLHM9YS5leHRlbmQoe30sbyksYz1zLngtclswXS54LGw9cy55LXJbMF0ueTt0Lm9wdGlvbnM9YS5leHRlbmQoe30sbiksdC5vcHRpb25zLnRhcmdldHM9W107Zm9yKHZhciBwPTA7cDxuLnRhcmdldHMubGVuZ3RoO3ArKyl7dmFyIHU7dT1uLnRhcmdldHNbcF07dmFyIGQ9dSxmPXZvaWQgMDtmPWEuaXMuZnVuY3Rpb24oZCk/ZChjLGwsZSk6ZCxmJiYoXCJ3aWR0aFwiaW4gZiYmXCJoZWlnaHRcImluIGYmJihmLng9Zi53aWR0aCxmLnk9Zi5oZWlnaHQpLHQub3B0aW9ucy50YXJnZXRzLnB1c2goZikpfWkuc2V0KHQpfSxtb2RpZnlDb29yZHM6ZnVuY3Rpb24odCl7dmFyIGU9dC5vcHRpb25zO3Qub3B0aW9ucz1hLmV4dGVuZCh7fSxlKSx0Lm9wdGlvbnMuZW5hYmxlZD1lLmVuYWJsZWQsdC5vcHRpb25zLnJlbGF0aXZlUG9pbnRzPVtudWxsXSxpLm1vZGlmeUNvb3Jkcyh0KX19O3Iuc25hcFNpemU9YyxyLm5hbWVzLnB1c2goXCJzbmFwU2l6ZVwiKSxvLnBlckFjdGlvbi5zbmFwU2l6ZT1jLmRlZmF1bHRzLHMuZGVmYXVsdHMuc25hcFNpemU9Yy5kZWZhdWx0cyxlLmV4cG9ydHM9Y30se1wiLi4vYWN0aW9ucy9yZXNpemVcIjoxMCxcIi4uL2RlZmF1bHRPcHRpb25zXCI6MTgsXCIuLi91dGlscy9cIjo0MyxcIi4vYmFzZVwiOjIzLFwiLi9zbmFwXCI6Mjd9XSwyOTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXZhciBpPXQoXCIuLi91dGlscy9wb2ludGVyVXRpbHNcIik7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4sbyxzLGEpe2lmKHIodGhpcyx0KSxpLnBvaW50ZXJFeHRlbmQodGhpcyxvKSxvIT09biYmaS5wb2ludGVyRXh0ZW5kKHRoaXMsbiksdGhpcy5pbnRlcmFjdGlvbj1hLHRoaXMudGltZVN0YW1wPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMub3JpZ2luYWxFdmVudD1vLHRoaXMudHlwZT1lLHRoaXMucG9pbnRlcklkPWkuZ2V0UG9pbnRlcklkKG4pLHRoaXMucG9pbnRlclR5cGU9aS5nZXRQb2ludGVyVHlwZShuKSx0aGlzLnRhcmdldD1zLHRoaXMuY3VycmVudFRhcmdldD1udWxsLFwidGFwXCI9PT1lKXt2YXIgYz1hLmdldFBvaW50ZXJJbmRleChuKTt0aGlzLmR0PXRoaXMudGltZVN0YW1wLWEuZG93blRpbWVzW2NdO3ZhciBsPXRoaXMudGltZVN0YW1wLWEudGFwVGltZTt0aGlzLmRvdWJsZT0hIShhLnByZXZUYXAmJlwiZG91YmxldGFwXCIhPT1hLnByZXZUYXAudHlwZSYmYS5wcmV2VGFwLnRhcmdldD09PXRoaXMudGFyZ2V0JiZsPDUwMCl9ZWxzZVwiZG91YmxldGFwXCI9PT1lJiYodGhpcy5kdD1uLnRpbWVTdGFtcC1hLnRhcFRpbWUpfXJldHVybiB0LnByb3RvdHlwZS5zdWJ0cmFjdE9yaWdpbj1mdW5jdGlvbih0KXt2YXIgZT10Lngsbj10Lnk7cmV0dXJuIHRoaXMucGFnZVgtPWUsdGhpcy5wYWdlWS09bix0aGlzLmNsaWVudFgtPWUsdGhpcy5jbGllbnRZLT1uLHRoaXN9LHQucHJvdG90eXBlLmFkZE9yaWdpbj1mdW5jdGlvbih0KXt2YXIgZT10Lngsbj10Lnk7cmV0dXJuIHRoaXMucGFnZVgrPWUsdGhpcy5wYWdlWSs9bix0aGlzLmNsaWVudFgrPWUsdGhpcy5jbGllbnRZKz1uLHRoaXN9LHQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCl9LHQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3RoaXMucHJvcGFnYXRpb25TdG9wcGVkPSEwfSx0LnByb3RvdHlwZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXt0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD10aGlzLnByb3BhZ2F0aW9uU3RvcHBlZD0hMH0sdH0oKX0se1wiLi4vdXRpbHMvcG9pbnRlclV0aWxzXCI6NDh9XSwzMDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7Zm9yKHZhciBlPXQuaW50ZXJhY3Rpb24sbj10LnBvaW50ZXIscz10LmV2ZW50LGM9dC5ldmVudFRhcmdldCxwPXQudHlwZSx1PXZvaWQgMD09PXA/dC5wb2ludGVyRXZlbnQudHlwZTpwLGQ9dC50YXJnZXRzLGY9dm9pZCAwPT09ZD9pKHQpOmQsdj10LnBvaW50ZXJFdmVudCxnPXZvaWQgMD09PXY/bmV3IG8odSxuLHMsYyxlKTp2LGg9e2ludGVyYWN0aW9uOmUscG9pbnRlcjpuLGV2ZW50OnMsZXZlbnRUYXJnZXQ6Yyx0YXJnZXRzOmYsdHlwZTp1LHBvaW50ZXJFdmVudDpnfSxtPTA7bTxmLmxlbmd0aDttKyspe3ZhciB5PWZbbV07Zm9yKHZhciB4IGluIHkucHJvcHN8fHt9KWdbeF09eS5wcm9wc1t4XTt2YXIgYj1hLmdldE9yaWdpblhZKHkuZXZlbnRhYmxlLHkuZWxlbWVudCk7aWYoZy5zdWJ0cmFjdE9yaWdpbihiKSxnLmV2ZW50YWJsZT15LmV2ZW50YWJsZSxnLmN1cnJlbnRUYXJnZXQ9eS5lbGVtZW50LHkuZXZlbnRhYmxlLmZpcmUoZyksZy5hZGRPcmlnaW4oYiksZy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWR8fGcucHJvcGFnYXRpb25TdG9wcGVkJiZtKzE8Zi5sZW5ndGgmJmZbbSsxXS5lbGVtZW50IT09Zy5jdXJyZW50VGFyZ2V0KWJyZWFrfWlmKGwuZmlyZShcImZpcmVkXCIsaCksXCJ0YXBcIj09PXUpe3ZhciB3PWcuZG91YmxlP3Ioe2ludGVyYWN0aW9uOmUscG9pbnRlcjpuLGV2ZW50OnMsZXZlbnRUYXJnZXQ6Yyx0eXBlOlwiZG91YmxldGFwXCJ9KTpnO2UucHJldlRhcD13LGUudGFwVGltZT13LnRpbWVTdGFtcH1yZXR1cm4gZ31mdW5jdGlvbiBpKHQpe3ZhciBlPXQuaW50ZXJhY3Rpb24sbj10LnBvaW50ZXIscj10LmV2ZW50LGk9dC5ldmVudFRhcmdldCxvPXQudHlwZSxzPWUuZ2V0UG9pbnRlckluZGV4KG4pO2lmKFwidGFwXCI9PT1vJiYoZS5wb2ludGVyV2FzTW92ZWR8fCFlLmRvd25UYXJnZXRzW3NdfHxlLmRvd25UYXJnZXRzW3NdIT09aSkpcmV0dXJuW107Zm9yKHZhciBjPWEuZ2V0UGF0aChpKSxwPXtpbnRlcmFjdGlvbjplLHBvaW50ZXI6bixldmVudDpyLGV2ZW50VGFyZ2V0OmksdHlwZTpvLHBhdGg6Yyx0YXJnZXRzOltdLGVsZW1lbnQ6bnVsbH0sdT0wO3U8Yy5sZW5ndGg7dSsrKXt2YXIgZDtkPWNbdV07dmFyIGY9ZDtwLmVsZW1lbnQ9ZixsLmZpcmUoXCJjb2xsZWN0LXRhcmdldHNcIixwKX1yZXR1cm5cImhvbGRcIj09PW8mJihwLnRhcmdldHM9cC50YXJnZXRzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5ldmVudGFibGUub3B0aW9ucy5ob2xkRHVyYXRpb249PT1lLmhvbGRUaW1lcnNbc10uZHVyYXRpb259KSkscC50YXJnZXRzfXZhciBvPXQoXCIuL1BvaW50ZXJFdmVudFwiKSxzPXQoXCIuLi9JbnRlcmFjdGlvblwiKSxhPXQoXCIuLi91dGlsc1wiKSxjPXQoXCIuLi9kZWZhdWx0T3B0aW9uc1wiKSxsPXQoXCIuLi91dGlscy9TaWduYWxzXCIpLm5ldygpLHA9W1wiZG93blwiLFwidXBcIixcImNhbmNlbFwiXSx1PVtcImRvd25cIixcInVwXCIsXCJjYW5jZWxcIl0sZD17UG9pbnRlckV2ZW50Om8sZmlyZTpyLGNvbGxlY3RFdmVudFRhcmdldHM6aSxzaWduYWxzOmwsZGVmYXVsdHM6e2hvbGREdXJhdGlvbjo2MDAsaWdub3JlRnJvbTpudWxsLGFsbG93RnJvbTpudWxsLG9yaWdpbjp7eDowLHk6MH19LHR5cGVzOltcImRvd25cIixcIm1vdmVcIixcInVwXCIsXCJjYW5jZWxcIixcInRhcFwiLFwiZG91YmxldGFwXCIsXCJob2xkXCJdfTtzLnNpZ25hbHMub24oXCJ1cGRhdGUtcG9pbnRlci1kb3duXCIsZnVuY3Rpb24odCl7dmFyIGU9dC5pbnRlcmFjdGlvbixuPXQucG9pbnRlckluZGV4O2UuaG9sZFRpbWVyc1tuXT17ZHVyYXRpb246MS8wLHRpbWVvdXQ6bnVsbH19KSxzLnNpZ25hbHMub24oXCJyZW1vdmUtcG9pbnRlclwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuaW50ZXJhY3Rpb24sbj10LnBvaW50ZXJJbmRleDtlLmhvbGRUaW1lcnMuc3BsaWNlKG4sMSl9KSxzLnNpZ25hbHMub24oXCJtb3ZlXCIsZnVuY3Rpb24odCl7XG52YXIgZT10LmludGVyYWN0aW9uLG49dC5wb2ludGVyLGk9dC5ldmVudCxvPXQuZXZlbnRUYXJnZXQscz10LmR1cGxpY2F0ZU1vdmUsYT1lLmdldFBvaW50ZXJJbmRleChuKTtzfHxlLnBvaW50ZXJJc0Rvd24mJiFlLnBvaW50ZXJXYXNNb3ZlZHx8KGUucG9pbnRlcklzRG93biYmY2xlYXJUaW1lb3V0KGUuaG9sZFRpbWVyc1thXS50aW1lb3V0KSxyKHtpbnRlcmFjdGlvbjplLHBvaW50ZXI6bixldmVudDppLGV2ZW50VGFyZ2V0Om8sdHlwZTpcIm1vdmVcIn0pKX0pLHMuc2lnbmFscy5vbihcImRvd25cIixmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5pbnRlcmFjdGlvbixuPXQucG9pbnRlcixpPXQuZXZlbnQsbz10LmV2ZW50VGFyZ2V0LHM9dC5wb2ludGVySW5kZXgsYz1lLmhvbGRUaW1lcnNbc10scD1hLmdldFBhdGgobyksdT17aW50ZXJhY3Rpb246ZSxwb2ludGVyOm4sZXZlbnQ6aSxldmVudFRhcmdldDpvLHR5cGU6XCJob2xkXCIsdGFyZ2V0czpbXSxwYXRoOnAsZWxlbWVudDpudWxsfSxkPTA7ZDxwLmxlbmd0aDtkKyspe3ZhciBmO2Y9cFtkXTt2YXIgdj1mO3UuZWxlbWVudD12LGwuZmlyZShcImNvbGxlY3QtdGFyZ2V0c1wiLHUpfWlmKHUudGFyZ2V0cy5sZW5ndGgpe2Zvcih2YXIgZz0xLzAsaD0wO2g8dS50YXJnZXRzLmxlbmd0aDtoKyspe3ZhciBtO209dS50YXJnZXRzW2hdO3ZhciB5PW0seD15LmV2ZW50YWJsZS5vcHRpb25zLmhvbGREdXJhdGlvbjt4PGcmJihnPXgpfWMuZHVyYXRpb249ZyxjLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3Ioe2ludGVyYWN0aW9uOmUsZXZlbnRUYXJnZXQ6byxwb2ludGVyOm4sZXZlbnQ6aSx0eXBlOlwiaG9sZFwifSl9LGcpfX0pLHMuc2lnbmFscy5vbihcInVwXCIsZnVuY3Rpb24odCl7dmFyIGU9dC5pbnRlcmFjdGlvbixuPXQucG9pbnRlcixpPXQuZXZlbnQsbz10LmV2ZW50VGFyZ2V0O2UucG9pbnRlcldhc01vdmVkfHxyKHtpbnRlcmFjdGlvbjplLGV2ZW50VGFyZ2V0Om8scG9pbnRlcjpuLGV2ZW50OmksdHlwZTpcInRhcFwifSl9KTtmb3IodmFyIGY9W1widXBcIixcImNhbmNlbFwiXSx2PTA7djxmLmxlbmd0aDt2Kyspe3ZhciBnPWZbdl07cy5zaWduYWxzLm9uKGcsZnVuY3Rpb24odCl7dmFyIGU9dC5pbnRlcmFjdGlvbixuPXQucG9pbnRlckluZGV4O2UuaG9sZFRpbWVyc1tuXSYmY2xlYXJUaW1lb3V0KGUuaG9sZFRpbWVyc1tuXS50aW1lb3V0KX0pfWZvcih2YXIgaD0wO2g8cC5sZW5ndGg7aCsrKXMuc2lnbmFscy5vbihwW2hdLGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1lLmludGVyYWN0aW9uLGk9ZS5wb2ludGVyLG89ZS5ldmVudDtyKHtpbnRlcmFjdGlvbjpuLGV2ZW50VGFyZ2V0OmUuZXZlbnRUYXJnZXQscG9pbnRlcjppLGV2ZW50Om8sdHlwZTp0fSl9fSh1W2hdKSk7cy5zaWduYWxzLm9uKFwibmV3XCIsZnVuY3Rpb24odCl7dC5wcmV2VGFwPW51bGwsdC50YXBUaW1lPTAsdC5ob2xkVGltZXJzPVtdfSksYy5wb2ludGVyRXZlbnRzPWQuZGVmYXVsdHMsZS5leHBvcnRzPWR9LHtcIi4uL0ludGVyYWN0aW9uXCI6NSxcIi4uL2RlZmF1bHRPcHRpb25zXCI6MTgsXCIuLi91dGlsc1wiOjQzLFwiLi4vdXRpbHMvU2lnbmFsc1wiOjM0LFwiLi9Qb2ludGVyRXZlbnRcIjoyOX1dLDMxOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXt2YXIgZT10LnBvaW50ZXJFdmVudDtcImhvbGRcIj09PWUudHlwZSYmKGUuY291bnQ9KGUuY291bnR8fDApKzEpfWZ1bmN0aW9uIGkodCl7dmFyIGU9dC5pbnRlcmFjdGlvbixuPXQucG9pbnRlckV2ZW50LHI9dC5ldmVudFRhcmdldCxpPXQudGFyZ2V0cztpZihcImhvbGRcIj09PW4udHlwZSYmaS5sZW5ndGgpe3ZhciBvPWlbMF0uZXZlbnRhYmxlLm9wdGlvbnMuaG9sZFJlcGVhdEludGVydmFsO288PTB8fChlLmhvbGRJbnRlcnZhbEhhbmRsZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cy5maXJlKHtpbnRlcmFjdGlvbjplLGV2ZW50VGFyZ2V0OnIsdHlwZTpcImhvbGRcIixwb2ludGVyOm4sZXZlbnQ6bn0pfSxvKSl9fWZ1bmN0aW9uIG8odCl7dmFyIGU9dC5pbnRlcmFjdGlvbjtlLmhvbGRJbnRlcnZhbEhhbmRsZSYmKGNsZWFySW50ZXJ2YWwoZS5ob2xkSW50ZXJ2YWxIYW5kbGUpLGUuaG9sZEludGVydmFsSGFuZGxlPW51bGwpfXZhciBzPXQoXCIuL2Jhc2VcIiksYT10KFwiLi4vSW50ZXJhY3Rpb25cIik7cy5zaWduYWxzLm9uKFwibmV3XCIscikscy5zaWduYWxzLm9uKFwiZmlyZWRcIixpKTtmb3IodmFyIGM9W1wibW92ZVwiLFwidXBcIixcImNhbmNlbFwiLFwiZW5kYWxsXCJdLGw9MDtsPGMubGVuZ3RoO2wrKyl7dmFyIHA9Y1tsXTthLnNpZ25hbHMub24ocCxvKX1zLmRlZmF1bHRzLmhvbGRSZXBlYXRJbnRlcnZhbD0wLHMudHlwZXMucHVzaChcImhvbGRyZXBlYXRcIiksZS5leHBvcnRzPXtvbk5ldzpyLG9uRmlyZWQ6aSxlbmRIb2xkUmVwZWF0Om99fSx7XCIuLi9JbnRlcmFjdGlvblwiOjUsXCIuL2Jhc2VcIjozMH1dLDMyOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dChcIi4vYmFzZVwiKSxpPXQoXCIuLi9JbnRlcmFjdGFibGVcIiksbz10KFwiLi4vdXRpbHMvaXNcIikscz10KFwiLi4vc2NvcGVcIiksYT10KFwiLi4vdXRpbHMvZXh0ZW5kXCIpLGM9dChcIi4uL3V0aWxzL2FyclwiKSxsPWMubWVyZ2U7ci5zaWduYWxzLm9uKFwiY29sbGVjdC10YXJnZXRzXCIsZnVuY3Rpb24odCl7dmFyIGU9dC50YXJnZXRzLG49dC5lbGVtZW50LHI9dC50eXBlLGk9dC5ldmVudFRhcmdldDtzLmludGVyYWN0YWJsZXMuZm9yRWFjaE1hdGNoKG4sZnVuY3Rpb24odCl7dmFyIHM9dC5ldmVudHMsYT1zLm9wdGlvbnM7c1tyXSYmby5lbGVtZW50KG4pJiZ0LnRlc3RJZ25vcmVBbGxvdyhhLG4saSkmJmUucHVzaCh7ZWxlbWVudDpuLGV2ZW50YWJsZTpzLHByb3BzOntpbnRlcmFjdGFibGU6dH19KX0pfSksaS5zaWduYWxzLm9uKFwibmV3XCIsZnVuY3Rpb24odCl7dmFyIGU9dC5pbnRlcmFjdGFibGU7ZS5ldmVudHMuZ2V0UmVjdD1mdW5jdGlvbih0KXtyZXR1cm4gZS5nZXRSZWN0KHQpfX0pLGkuc2lnbmFscy5vbihcInNldFwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuaW50ZXJhY3RhYmxlLG49dC5vcHRpb25zO2EoZS5ldmVudHMub3B0aW9ucyxyLmRlZmF1bHRzKSxhKGUuZXZlbnRzLm9wdGlvbnMsbil9KSxsKGkuZXZlbnRUeXBlcyxyLnR5cGVzKSxpLnByb3RvdHlwZS5wb2ludGVyRXZlbnRzPWZ1bmN0aW9uKHQpe3JldHVybiBhKHRoaXMuZXZlbnRzLm9wdGlvbnMsdCksdGhpc307dmFyIHA9aS5wcm90b3R5cGUuX2JhY2tDb21wYXRPcHRpb247aS5wcm90b3R5cGUuX2JhY2tDb21wYXRPcHRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj1wLmNhbGwodGhpcyx0LGUpO3JldHVybiBuPT09dGhpcyYmKHRoaXMuZXZlbnRzLm9wdGlvbnNbdF09ZSksbn0saS5zZXR0aW5nc01ldGhvZHMucHVzaChcInBvaW50ZXJFdmVudHNcIil9LHtcIi4uL0ludGVyYWN0YWJsZVwiOjQsXCIuLi9zY29wZVwiOjMzLFwiLi4vdXRpbHMvYXJyXCI6MzUsXCIuLi91dGlscy9leHRlbmRcIjo0MCxcIi4uL3V0aWxzL2lzXCI6NDUsXCIuL2Jhc2VcIjozMH1dLDMzOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dChcIi4vdXRpbHNcIiksaT10KFwiLi91dGlscy9ldmVudHNcIiksbz10KFwiLi91dGlscy9TaWduYWxzXCIpLm5ldygpLHM9dChcIi4vdXRpbHMvd2luZG93XCIpLGE9cy5nZXRXaW5kb3csYz17c2lnbmFsczpvLGV2ZW50czppLHV0aWxzOnIsZG9jdW1lbnQ6dChcIi4vdXRpbHMvZG9tT2JqZWN0c1wiKS5kb2N1bWVudCxkb2N1bWVudHM6W10sYWRkRG9jdW1lbnQ6ZnVuY3Rpb24odCxlKXtpZihyLmNvbnRhaW5zKGMuZG9jdW1lbnRzLHQpKXJldHVybiExO2U9ZXx8YSh0KSxjLmRvY3VtZW50cy5wdXNoKHQpLGkuZG9jdW1lbnRzLnB1c2godCksdCE9PWMuZG9jdW1lbnQmJmkuYWRkKGUsXCJ1bmxvYWRcIixjLm9uV2luZG93VW5sb2FkKSxvLmZpcmUoXCJhZGQtZG9jdW1lbnRcIix7ZG9jOnQsd2luOmV9KX0scmVtb3ZlRG9jdW1lbnQ6ZnVuY3Rpb24odCxlKXt2YXIgbj1jLmRvY3VtZW50cy5pbmRleE9mKHQpO2U9ZXx8YSh0KSxpLnJlbW92ZShlLFwidW5sb2FkXCIsYy5vbldpbmRvd1VubG9hZCksYy5kb2N1bWVudHMuc3BsaWNlKG4sMSksaS5kb2N1bWVudHMuc3BsaWNlKG4sMSksby5maXJlKFwicmVtb3ZlLWRvY3VtZW50XCIse3dpbjplLGRvYzp0fSl9LG9uV2luZG93VW5sb2FkOmZ1bmN0aW9uKCl7Yy5yZW1vdmVEb2N1bWVudCh0aGlzLmRvY3VtZW50LHRoaXMpfX07ZS5leHBvcnRzPWN9LHtcIi4vdXRpbHNcIjo0MyxcIi4vdXRpbHMvU2lnbmFsc1wiOjM0LFwiLi91dGlscy9kb21PYmplY3RzXCI6MzcsXCIuL3V0aWxzL2V2ZW50c1wiOjM5LFwiLi91dGlscy93aW5kb3dcIjo1MX1dLDM0OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cih0aGlzLHQpLHRoaXMubGlzdGVuZXJzPXt9fXJldHVybiB0LnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLmxpc3RlbmVyc1t0XSlyZXR1cm4gdm9pZCh0aGlzLmxpc3RlbmVyc1t0XT1bZV0pO3RoaXMubGlzdGVuZXJzW3RdLnB1c2goZSl9LHQucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUpe2lmKHRoaXMubGlzdGVuZXJzW3RdKXt2YXIgbj10aGlzLmxpc3RlbmVyc1t0XS5pbmRleE9mKGUpOy0xIT09biYmdGhpcy5saXN0ZW5lcnNbdF0uc3BsaWNlKG4sMSl9fSx0LnByb3RvdHlwZS5maXJlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5saXN0ZW5lcnNbdF07aWYobilmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk7aT1uW3JdO3ZhciBvPWk7aWYoITE9PT1vKGUsdCkpcmV0dXJufX0sdH0oKTtpLm5ldz1mdW5jdGlvbigpe3JldHVybiBuZXcgaX0sZS5leHBvcnRzPWl9LHt9XSwzNTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtyZXR1cm4tMSE9PXQuaW5kZXhPZihlKX1mdW5jdGlvbiBpKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByO3I9ZVtuXTt2YXIgaT1yO3QucHVzaChpKX1yZXR1cm4gdH1lLmV4cG9ydHM9e2NvbnRhaW5zOnIsbWVyZ2U6aX19LHt9XSwzNjpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPXQoXCIuL3dpbmRvd1wiKSxpPXIud2luZG93LG89dChcIi4vaXNcIikscz10KFwiLi9kb21PYmplY3RzXCIpLGE9cy5FbGVtZW50LGM9aS5uYXZpZ2F0b3IsbD17c3VwcG9ydHNUb3VjaDohIShcIm9udG91Y2hzdGFydFwiaW4gaXx8by5mdW5jdGlvbihpLkRvY3VtZW50VG91Y2gpJiZzLmRvY3VtZW50IGluc3RhbmNlb2YgaS5Eb2N1bWVudFRvdWNoKSxzdXBwb3J0c1BvaW50ZXJFdmVudDohIXMuUG9pbnRlckV2ZW50LGlzSU9TNzovaVAoaG9uZXxvZHxhZCkvLnRlc3QoYy5wbGF0Zm9ybSkmJi9PUyA3W15cXGRdLy50ZXN0KGMuYXBwVmVyc2lvbiksaXNJZTk6L01TSUUgOS8udGVzdChjLnVzZXJBZ2VudCkscHJlZml4ZWRNYXRjaGVzU2VsZWN0b3I6XCJtYXRjaGVzXCJpbiBhLnByb3RvdHlwZT9cIm1hdGNoZXNcIjpcIndlYmtpdE1hdGNoZXNTZWxlY3RvclwiaW4gYS5wcm90b3R5cGU/XCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3JcIjpcIm1vek1hdGNoZXNTZWxlY3RvclwiaW4gYS5wcm90b3R5cGU/XCJtb3pNYXRjaGVzU2VsZWN0b3JcIjpcIm9NYXRjaGVzU2VsZWN0b3JcImluIGEucHJvdG90eXBlP1wib01hdGNoZXNTZWxlY3RvclwiOlwibXNNYXRjaGVzU2VsZWN0b3JcIixwRXZlbnRUeXBlczpzLlBvaW50ZXJFdmVudD9zLlBvaW50ZXJFdmVudD09PWkuTVNQb2ludGVyRXZlbnQ/e3VwOlwiTVNQb2ludGVyVXBcIixkb3duOlwiTVNQb2ludGVyRG93blwiLG92ZXI6XCJtb3VzZW92ZXJcIixvdXQ6XCJtb3VzZW91dFwiLG1vdmU6XCJNU1BvaW50ZXJNb3ZlXCIsY2FuY2VsOlwiTVNQb2ludGVyQ2FuY2VsXCJ9Ont1cDpcInBvaW50ZXJ1cFwiLGRvd246XCJwb2ludGVyZG93blwiLG92ZXI6XCJwb2ludGVyb3ZlclwiLG91dDpcInBvaW50ZXJvdXRcIixtb3ZlOlwicG9pbnRlcm1vdmVcIixjYW5jZWw6XCJwb2ludGVyY2FuY2VsXCJ9Om51bGwsd2hlZWxFdmVudDpcIm9ubW91c2V3aGVlbFwiaW4gcy5kb2N1bWVudD9cIm1vdXNld2hlZWxcIjpcIndoZWVsXCJ9O2wuaXNPcGVyYU1vYmlsZT1cIk9wZXJhXCI9PT1jLmFwcE5hbWUmJmwuc3VwcG9ydHNUb3VjaCYmYy51c2VyQWdlbnQubWF0Y2goXCJQcmVzdG9cIiksZS5leHBvcnRzPWx9LHtcIi4vZG9tT2JqZWN0c1wiOjM3LFwiLi9pc1wiOjQ1LFwiLi93aW5kb3dcIjo1MX1dLDM3OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe312YXIgaT17fSxvPXQoXCIuL3dpbmRvd1wiKS53aW5kb3c7aS5kb2N1bWVudD1vLmRvY3VtZW50LGkuRG9jdW1lbnRGcmFnbWVudD1vLkRvY3VtZW50RnJhZ21lbnR8fHIsaS5TVkdFbGVtZW50PW8uU1ZHRWxlbWVudHx8cixpLlNWR1NWR0VsZW1lbnQ9by5TVkdTVkdFbGVtZW50fHxyLGkuU1ZHRWxlbWVudEluc3RhbmNlPW8uU1ZHRWxlbWVudEluc3RhbmNlfHxyLGkuRWxlbWVudD1vLkVsZW1lbnR8fHIsaS5IVE1MRWxlbWVudD1vLkhUTUxFbGVtZW50fHxpLkVsZW1lbnQsaS5FdmVudD1vLkV2ZW50LGkuVG91Y2g9by5Ub3VjaHx8cixpLlBvaW50ZXJFdmVudD1vLlBvaW50ZXJFdmVudHx8by5NU1BvaW50ZXJFdmVudCxlLmV4cG9ydHM9aX0se1wiLi93aW5kb3dcIjo1MX1dLDM4OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dChcIi4vd2luZG93XCIpLGk9dChcIi4vYnJvd3NlclwiKSxvPXQoXCIuL2lzXCIpLHM9dChcIi4vZG9tT2JqZWN0c1wiKSxhPXtub2RlQ29udGFpbnM6ZnVuY3Rpb24odCxlKXtmb3IoO2U7KXtpZihlPT09dClyZXR1cm4hMDtlPWUucGFyZW50Tm9kZX1yZXR1cm4hMX0sY2xvc2VzdDpmdW5jdGlvbih0LGUpe2Zvcig7by5lbGVtZW50KHQpOyl7aWYoYS5tYXRjaGVzU2VsZWN0b3IodCxlKSlyZXR1cm4gdDt0PWEucGFyZW50Tm9kZSh0KX1yZXR1cm4gbnVsbH0scGFyZW50Tm9kZTpmdW5jdGlvbih0KXt2YXIgZT10LnBhcmVudE5vZGU7aWYoby5kb2NGcmFnKGUpKXtmb3IoOyhlPWUuaG9zdCkmJm8uZG9jRnJhZyhlKTspO3JldHVybiBlfXJldHVybiBlfSxtYXRjaGVzU2VsZWN0b3I6ZnVuY3Rpb24odCxlKXtyZXR1cm4gci53aW5kb3chPT1yLnJlYWxXaW5kb3cmJihlPWUucmVwbGFjZSgvXFwvZGVlcFxcLy9nLFwiIFwiKSksdFtpLnByZWZpeGVkTWF0Y2hlc1NlbGVjdG9yXShlKX0saW5kZXhPZkRlZXBlc3RFbGVtZW50OmZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49W10scj12b2lkIDAsaT10WzBdLG89aT8wOi0xLGE9dm9pZCAwLGM9dm9pZCAwLGw9dm9pZCAwLHA9dm9pZCAwO2ZvcihsPTE7bDx0Lmxlbmd0aDtsKyspaWYoKHI9dFtsXSkmJnIhPT1pKWlmKGkpe2lmKHIucGFyZW50Tm9kZSE9PXIub3duZXJEb2N1bWVudClpZihpLnBhcmVudE5vZGUhPT1yLm93bmVyRG9jdW1lbnQpe2lmKCFlLmxlbmd0aClmb3IoYT1pO2EucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlIT09YS5vd25lckRvY3VtZW50OyllLnVuc2hpZnQoYSksYT1hLnBhcmVudE5vZGU7aWYoaSBpbnN0YW5jZW9mIHMuSFRNTEVsZW1lbnQmJnIgaW5zdGFuY2VvZiBzLlNWR0VsZW1lbnQmJiEociBpbnN0YW5jZW9mIHMuU1ZHU1ZHRWxlbWVudCkpe2lmKHI9PT1pLnBhcmVudE5vZGUpY29udGludWU7YT1yLm93bmVyU1ZHRWxlbWVudH1lbHNlIGE9cjtmb3Iobj1bXTthLnBhcmVudE5vZGUhPT1hLm93bmVyRG9jdW1lbnQ7KW4udW5zaGlmdChhKSxhPWEucGFyZW50Tm9kZTtmb3IocD0wO25bcF0mJm5bcF09PT1lW3BdOylwKys7dmFyIHU9W25bcC0xXSxuW3BdLGVbcF1dO2ZvcihjPXVbMF0ubGFzdENoaWxkO2M7KXtpZihjPT09dVsxXSl7aT1yLG89bCxlPVtdO2JyZWFrfWlmKGM9PT11WzJdKWJyZWFrO2M9Yy5wcmV2aW91c1NpYmxpbmd9fWVsc2UgaT1yLG89bH1lbHNlIGk9cixvPWw7cmV0dXJuIG99LG1hdGNoZXNVcFRvOmZ1bmN0aW9uKHQsZSxuKXtmb3IoO28uZWxlbWVudCh0KTspe2lmKGEubWF0Y2hlc1NlbGVjdG9yKHQsZSkpcmV0dXJuITA7aWYoKHQ9YS5wYXJlbnROb2RlKHQpKT09PW4pcmV0dXJuIGEubWF0Y2hlc1NlbGVjdG9yKHQsZSl9cmV0dXJuITF9LGdldEFjdHVhbEVsZW1lbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBzLlNWR0VsZW1lbnRJbnN0YW5jZT90LmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50OnR9LGdldFNjcm9sbFhZOmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fHIud2luZG93LHt4OnQuc2Nyb2xsWHx8dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCx5OnQuc2Nyb2xsWXx8dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfX0sZ2V0RWxlbWVudENsaWVudFJlY3Q6ZnVuY3Rpb24odCl7dmFyIGU9dCBpbnN0YW5jZW9mIHMuU1ZHRWxlbWVudD90LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOnQuZ2V0Q2xpZW50UmVjdHMoKVswXTtyZXR1cm4gZSYme2xlZnQ6ZS5sZWZ0LHJpZ2h0OmUucmlnaHQsdG9wOmUudG9wLGJvdHRvbTplLmJvdHRvbSx3aWR0aDplLndpZHRofHxlLnJpZ2h0LWUubGVmdCxoZWlnaHQ6ZS5oZWlnaHR8fGUuYm90dG9tLWUudG9wfX0sZ2V0RWxlbWVudFJlY3Q6ZnVuY3Rpb24odCl7dmFyIGU9YS5nZXRFbGVtZW50Q2xpZW50UmVjdCh0KTtpZighaS5pc0lPUzcmJmUpe3ZhciBuPWEuZ2V0U2Nyb2xsWFkoci5nZXRXaW5kb3codCkpO2UubGVmdCs9bi54LGUucmlnaHQrPW4ueCxlLnRvcCs9bi55LGUuYm90dG9tKz1uLnl9cmV0dXJuIGV9LGdldFBhdGg6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdO3Q7KWUucHVzaCh0KSx0PWEucGFyZW50Tm9kZSh0KTtyZXR1cm4gZX0sdHJ5U2VsZWN0b3I6ZnVuY3Rpb24odCl7cmV0dXJuISFvLnN0cmluZyh0KSYmKHMuZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KSwhMCl9fTtlLmV4cG9ydHM9YX0se1wiLi9icm93c2VyXCI6MzYsXCIuL2RvbU9iamVjdHNcIjozNyxcIi4vaXNcIjo0NSxcIi4vd2luZG93XCI6NTF9XSwzOTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLG4scil7dmFyIGk9cChyKSxvPXguaW5kZXhPZih0KSxzPWJbb107c3x8KHM9e2V2ZW50czp7fSx0eXBlQ291bnQ6MH0sbz14LnB1c2godCktMSxiLnB1c2gocykpLHMuZXZlbnRzW2VdfHwocy5ldmVudHNbZV09W10scy50eXBlQ291bnQrKykseShzLmV2ZW50c1tlXSxuKXx8KHQuYWRkRXZlbnRMaXN0ZW5lcihlLG4sVD9pOiEhaS5jYXB0dXJlKSxzLmV2ZW50c1tlXS5wdXNoKG4pKX1mdW5jdGlvbiBpKHQsZSxuLHIpe3ZhciBvPXAocikscz14LmluZGV4T2YodCksYT1iW3NdO2lmKGEmJmEuZXZlbnRzKWlmKFwiYWxsXCIhPT1lKXtpZihhLmV2ZW50c1tlXSl7dmFyIGM9YS5ldmVudHNbZV0ubGVuZ3RoO2lmKFwiYWxsXCI9PT1uKXtmb3IodmFyIGw9MDtsPGM7bCsrKWkodCxlLGEuZXZlbnRzW2VdW2xdLG8pO3JldHVybn1mb3IodmFyIHU9MDt1PGM7dSsrKWlmKGEuZXZlbnRzW2VdW3VdPT09bil7dC5yZW1vdmVFdmVudExpc3RlbmVyKFwib25cIitlLG4sVD9vOiEhby5jYXB0dXJlKSxhLmV2ZW50c1tlXS5zcGxpY2UodSwxKTticmVha31hLmV2ZW50c1tlXSYmMD09PWEuZXZlbnRzW2VdLmxlbmd0aCYmKGEuZXZlbnRzW2VdPW51bGwsYS50eXBlQ291bnQtLSl9YS50eXBlQ291bnR8fChiLnNwbGljZShzLDEpLHguc3BsaWNlKHMsMSkpfWVsc2UgZm9yKGUgaW4gYS5ldmVudHMpYS5ldmVudHMuaGFzT3duUHJvcGVydHkoZSkmJmkodCxlLFwiYWxsXCIpfWZ1bmN0aW9uIG8odCxlLG4saSxvKXt2YXIgcz1wKG8pO2lmKCF3W25dKXt3W25dPXtzZWxlY3RvcnM6W10sY29udGV4dHM6W10sbGlzdGVuZXJzOltdfTtmb3IodmFyIGw9MDtsPEUubGVuZ3RoO2wrKyl7dmFyIHU9RVtsXTtyKHUsbixhKSxyKHUsbixjLCEwKX19dmFyIGQ9d1tuXSxmPXZvaWQgMDtmb3IoZj1kLnNlbGVjdG9ycy5sZW5ndGgtMTtmPj0wJiYoZC5zZWxlY3RvcnNbZl0hPT10fHxkLmNvbnRleHRzW2ZdIT09ZSk7Zi0tKTstMT09PWYmJihmPWQuc2VsZWN0b3JzLmxlbmd0aCxkLnNlbGVjdG9ycy5wdXNoKHQpLGQuY29udGV4dHMucHVzaChlKSxkLmxpc3RlbmVycy5wdXNoKFtdKSksZC5saXN0ZW5lcnNbZl0ucHVzaChbaSwhIXMuY2FwdHVyZSxzLnBhc3NpdmVdKX1mdW5jdGlvbiBzKHQsZSxuLHIsbyl7dmFyIHM9cChvKSxsPXdbbl0sdT0hMSxkPXZvaWQgMDtpZihsKWZvcihkPWwuc2VsZWN0b3JzLmxlbmd0aC0xO2Q+PTA7ZC0tKWlmKGwuc2VsZWN0b3JzW2RdPT09dCYmbC5jb250ZXh0c1tkXT09PWUpe2Zvcih2YXIgZj1sLmxpc3RlbmVyc1tkXSx2PWYubGVuZ3RoLTE7dj49MDt2LS0pe3ZhciBnPWZbdl0saD1nWzBdLG09Z1sxXSx5PWdbMl07aWYoaD09PXImJm09PT0hIXMuY2FwdHVyZSYmeT09PXMucGFzc2l2ZSl7Zi5zcGxpY2UodiwxKSxmLmxlbmd0aHx8KGwuc2VsZWN0b3JzLnNwbGljZShkLDEpLGwuY29udGV4dHMuc3BsaWNlKGQsMSksbC5saXN0ZW5lcnMuc3BsaWNlKGQsMSksaShlLG4sYSksaShlLG4sYywhMCksbC5zZWxlY3RvcnMubGVuZ3RofHwod1tuXT1udWxsKSksdT0hMDticmVha319aWYodSlicmVha319ZnVuY3Rpb24gYSh0LGUpe3ZhciBuPXAoZSkscj17fSxpPXdbdC50eXBlXSxvPWYuZ2V0RXZlbnRUYXJnZXRzKHQpLHM9b1swXSxhPXM7Zm9yKHYocix0KSxyLm9yaWdpbmFsRXZlbnQ9dCxyLnByZXZlbnREZWZhdWx0PWw7dS5lbGVtZW50KGEpOyl7Zm9yKHZhciBjPTA7YzxpLnNlbGVjdG9ycy5sZW5ndGg7YysrKXt2YXIgZz1pLnNlbGVjdG9yc1tjXSxoPWkuY29udGV4dHNbY107aWYoZC5tYXRjaGVzU2VsZWN0b3IoYSxnKSYmZC5ub2RlQ29udGFpbnMoaCxzKSYmZC5ub2RlQ29udGFpbnMoaCxhKSl7dmFyIG09aS5saXN0ZW5lcnNbY107ci5jdXJyZW50VGFyZ2V0PWE7Zm9yKHZhciB5PTA7eTxtLmxlbmd0aDt5Kyspe3ZhciB4PW1beV0sYj14WzBdLEU9eFsxXSxUPXhbMl07RT09PSEhbi5jYXB0dXJlJiZUPT09bi5wYXNzaXZlJiZiKHIpfX19YT1kLnBhcmVudE5vZGUoYSl9fWZ1bmN0aW9uIGModCl7cmV0dXJuIGEuY2FsbCh0aGlzLHQsITApfWZ1bmN0aW9uIGwoKXt0aGlzLm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBwKHQpe3JldHVybiB1Lm9iamVjdCh0KT90OntjYXB0dXJlOnR9fXZhciB1PXQoXCIuL2lzXCIpLGQ9dChcIi4vZG9tVXRpbHNcIiksZj10KFwiLi9wb2ludGVyVXRpbHNcIiksdj10KFwiLi9wb2ludGVyRXh0ZW5kXCIpLGc9dChcIi4vd2luZG93XCIpLGg9Zy53aW5kb3csbT10KFwiLi9hcnJcIikseT1tLmNvbnRhaW5zLHg9W10sYj1bXSx3PXt9LEU9W10sVD1mdW5jdGlvbigpe3ZhciB0PSExO3JldHVybiBoLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIixudWxsLHtnZXQgY2FwdHVyZSgpe3Q9ITB9fSksdH0oKTtlLmV4cG9ydHM9e2FkZDpyLHJlbW92ZTppLGFkZERlbGVnYXRlOm8scmVtb3ZlRGVsZWdhdGU6cyxkZWxlZ2F0ZUxpc3RlbmVyOmEsZGVsZWdhdGVVc2VDYXB0dXJlOmMsZGVsZWdhdGVkRXZlbnRzOncsZG9jdW1lbnRzOkUsc3VwcG9ydHNPcHRpb25zOlQsX2VsZW1lbnRzOngsX3RhcmdldHM6Yn19LHtcIi4vYXJyXCI6MzUsXCIuL2RvbVV0aWxzXCI6MzgsXCIuL2lzXCI6NDUsXCIuL3BvaW50ZXJFeHRlbmRcIjo0NyxcIi4vcG9pbnRlclV0aWxzXCI6NDgsXCIuL3dpbmRvd1wiOjUxfV0sNDA6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSl0W25dPWVbbl07cmV0dXJuIHR9fSx7fV0sNDE6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10KFwiLi9yZWN0XCIpLGk9ci5yZXNvbHZlUmVjdExpa2Usbz1yLnJlY3RUb1hZO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dC5vcHRpb25zW25dLHM9ciYmci5vcmlnaW4sYT1zfHx0Lm9wdGlvbnMub3JpZ2luLGM9aShhLHQsZSxbdCYmZV0pO3JldHVybiBvKGMpfHx7eDowLHk6MH19fSx7XCIuL3JlY3RcIjo1MH1dLDQyOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguc3FydCh0KnQrZSplKX19LHt9XSw0MzpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPXQoXCIuL2V4dGVuZFwiKSxpPXQoXCIuL3dpbmRvd1wiKSxvPXt3YXJuT25jZTpmdW5jdGlvbih0LGUpe3ZhciBuPSExO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBufHwoaS53aW5kb3cuY29uc29sZS53YXJuKGUpLG49ITApLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sX2dldFFCZXppZXJWYWx1ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT0xLXQ7cmV0dXJuIGkqaSplKzIqaSp0Km4rdCp0KnJ9LGdldFF1YWRyYXRpY0N1cnZlUG9pbnQ6ZnVuY3Rpb24odCxlLG4scixpLHMsYSl7cmV0dXJue3g6by5fZ2V0UUJlemllclZhbHVlKGEsdCxuLGkpLHk6by5fZ2V0UUJlemllclZhbHVlKGEsZSxyLHMpfX0sZWFzZU91dFF1YWQ6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHQvPXIsLW4qdCoodC0yKStlfSxjb3B5QWN0aW9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubmFtZT1lLm5hbWUsdC5heGlzPWUuYXhpcyx0LmVkZ2VzPWUuZWRnZXMsdH0saXM6dChcIi4vaXNcIiksZXh0ZW5kOnIsaHlwb3Q6dChcIi4vaHlwb3RcIiksZ2V0T3JpZ2luWFk6dChcIi4vZ2V0T3JpZ2luWFlcIil9O3Iobyx0KFwiLi9hcnJcIikpLHIobyx0KFwiLi9kb21VdGlsc1wiKSkscihvLHQoXCIuL3BvaW50ZXJVdGlsc1wiKSkscihvLHQoXCIuL3JlY3RcIikpLGUuZXhwb3J0cz1vfSx7XCIuL2FyclwiOjM1LFwiLi9kb21VdGlsc1wiOjM4LFwiLi9leHRlbmRcIjo0MCxcIi4vZ2V0T3JpZ2luWFlcIjo0MSxcIi4vaHlwb3RcIjo0MixcIi4vaXNcIjo0NSxcIi4vcG9pbnRlclV0aWxzXCI6NDgsXCIuL3JlY3RcIjo1MCxcIi4vd2luZG93XCI6NTF9XSw0NDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPXQoXCIuLi9zY29wZVwiKSxpPXQoXCIuL2luZGV4XCIpLG89e21ldGhvZE9yZGVyOltcInNpbXVsYXRpb25SZXN1bWVcIixcIm1vdXNlT3JQZW5cIixcImhhc1BvaW50ZXJcIixcImlkbGVcIl0sc2VhcmNoOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9aS5nZXRQb2ludGVyVHlwZSh0KSxzPWkuZ2V0UG9pbnRlcklkKHQpLGE9e3BvaW50ZXI6dCxwb2ludGVySWQ6cyxwb2ludGVyVHlwZTpyLGV2ZW50VHlwZTplLGV2ZW50VGFyZ2V0Om59LGM9MDtjPG8ubWV0aG9kT3JkZXIubGVuZ3RoO2MrKyl7dmFyIGw7bD1vLm1ldGhvZE9yZGVyW2NdO3ZhciBwPWwsdT1vW3BdKGEpO2lmKHUpcmV0dXJuIHV9fSxzaW11bGF0aW9uUmVzdW1lOmZ1bmN0aW9uKHQpe3ZhciBlPXQucG9pbnRlclR5cGUsbj10LmV2ZW50VHlwZSxvPXQuZXZlbnRUYXJnZXQ7aWYoIS9kb3dufHN0YXJ0L2kudGVzdChuKSlyZXR1cm4gbnVsbDtmb3IodmFyIHM9MDtzPHIuaW50ZXJhY3Rpb25zLmxlbmd0aDtzKyspe3ZhciBhO2E9ci5pbnRlcmFjdGlvbnNbc107dmFyIGM9YSxsPW87aWYoYy5zaW11bGF0aW9uJiZjLnNpbXVsYXRpb24uYWxsb3dSZXN1bWUmJmMucG9pbnRlclR5cGU9PT1lKWZvcig7bDspe2lmKGw9PT1jLmVsZW1lbnQpcmV0dXJuIGM7bD1pLnBhcmVudE5vZGUobCl9fXJldHVybiBudWxsfSxtb3VzZU9yUGVuOmZ1bmN0aW9uKHQpe3ZhciBlPXQucG9pbnRlcklkLG49dC5wb2ludGVyVHlwZSxvPXQuZXZlbnRUeXBlO2lmKFwibW91c2VcIiE9PW4mJlwicGVuXCIhPT1uKXJldHVybiBudWxsO2Zvcih2YXIgcz12b2lkIDAsYT0wO2E8ci5pbnRlcmFjdGlvbnMubGVuZ3RoO2ErKyl7dmFyIGM7Yz1yLmludGVyYWN0aW9uc1thXTt2YXIgbD1jO2lmKGwucG9pbnRlclR5cGU9PT1uKXtpZihsLnNpbXVsYXRpb24mJiFpLmNvbnRhaW5zKGwucG9pbnRlcklkcyxlKSljb250aW51ZTtpZihsLmludGVyYWN0aW5nKCkpcmV0dXJuIGw7c3x8KHM9bCl9fWlmKHMpcmV0dXJuIHM7Zm9yKHZhciBwPTA7cDxyLmludGVyYWN0aW9ucy5sZW5ndGg7cCsrKXt2YXIgdTt1PXIuaW50ZXJhY3Rpb25zW3BdO3ZhciBkPXU7aWYoIShkLnBvaW50ZXJUeXBlIT09bnx8L2Rvd24vaS50ZXN0KG8pJiZkLnNpbXVsYXRpb24pKXJldHVybiBkfXJldHVybiBudWxsfSxoYXNQb2ludGVyOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnBvaW50ZXJJZCxuPTA7bjxyLmludGVyYWN0aW9ucy5sZW5ndGg7bisrKXt2YXIgbztvPXIuaW50ZXJhY3Rpb25zW25dO3ZhciBzPW87aWYoaS5jb250YWlucyhzLnBvaW50ZXJJZHMsZSkpcmV0dXJuIHN9fSxpZGxlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnBvaW50ZXJUeXBlLG49MDtuPHIuaW50ZXJhY3Rpb25zLmxlbmd0aDtuKyspe3ZhciBpO2k9ci5pbnRlcmFjdGlvbnNbbl07dmFyIG89aTtpZigxPT09by5wb2ludGVySWRzLmxlbmd0aCl7dmFyIHM9by50YXJnZXQ7aWYocyYmIXMub3B0aW9ucy5nZXN0dXJlLmVuYWJsZWQpY29udGludWV9ZWxzZSBpZihvLnBvaW50ZXJJZHMubGVuZ3RoPj0yKWNvbnRpbnVlO2lmKCFvLmludGVyYWN0aW5nKCkmJmU9PT1vLnBvaW50ZXJUeXBlKXJldHVybiBvfXJldHVybiBudWxsfX07ZS5leHBvcnRzPW99LHtcIi4uL3Njb3BlXCI6MzMsXCIuL2luZGV4XCI6NDN9XSw0NTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGk9dChcIi4vd2luZG93XCIpLG89dChcIi4vaXNXaW5kb3dcIikscz17YXJyYXk6ZnVuY3Rpb24oKXt9LHdpbmRvdzpmdW5jdGlvbih0KXtyZXR1cm4gdD09PWkud2luZG93fHxvKHQpfSxkb2NGcmFnOmZ1bmN0aW9uKHQpe3JldHVybiBzLm9iamVjdCh0KSYmMTE9PT10Lm5vZGVUeXBlfSxvYmplY3Q6ZnVuY3Rpb24odCl7cmV0dXJuISF0JiZcIm9iamVjdFwiPT09KHZvaWQgMD09PXQ/XCJ1bmRlZmluZWRcIjpyKHQpKX0sZnVuY3Rpb246ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdH0sbnVtYmVyOmZ1bmN0aW9uKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0fSxib29sOmZ1bmN0aW9uKHQpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdH0sc3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fSxlbGVtZW50OmZ1bmN0aW9uKHQpe2lmKCF0fHxcIm9iamVjdFwiIT09KHZvaWQgMD09PXQ/XCJ1bmRlZmluZWRcIjpyKHQpKSlyZXR1cm4hMTt2YXIgZT1pLmdldFdpbmRvdyh0KXx8aS53aW5kb3c7cmV0dXJuL29iamVjdHxmdW5jdGlvbi8udGVzdChyKGUuRWxlbWVudCkpP3QgaW5zdGFuY2VvZiBlLkVsZW1lbnQ6MT09PXQubm9kZVR5cGUmJlwic3RyaW5nXCI9PXR5cGVvZiB0Lm5vZGVOYW1lfX07cy5hcnJheT1mdW5jdGlvbih0KXtyZXR1cm4gcy5vYmplY3QodCkmJnZvaWQgMCE9PXQubGVuZ3RoJiZzLmZ1bmN0aW9uKHQuc3BsaWNlKX0sZS5leHBvcnRzPXN9LHtcIi4vaXNXaW5kb3dcIjo0NixcIi4vd2luZG93XCI6NTF9XSw0NjpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdC5XaW5kb3cpJiZ0IGluc3RhbmNlb2YgdC5XaW5kb3d9fSx7fV0sNDc6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsbil7Zm9yKHZhciByIGluIG4pe3ZhciBpPWUuZXhwb3J0cy5wcmVmaXhlZFByb3BSRXMsbz0hMTtmb3IodmFyIHMgaW4gaSlpZigwPT09ci5pbmRleE9mKHMpJiZpW3NdLnRlc3Qocikpe289ITA7YnJlYWt9b3x8XCJmdW5jdGlvblwiPT10eXBlb2YgbltyXXx8KHRbcl09bltyXSl9cmV0dXJuIHR9ci5wcmVmaXhlZFByb3BSRXM9e3dlYmtpdDovKE1vdmVtZW50W1hZXXxSYWRpdXNbWFldfFJvdGF0aW9uQW5nbGV8Rm9yY2UpJC99LGUuZXhwb3J0cz1yfSx7fV0sNDg6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10KFwiLi9oeXBvdFwiKSxpPXQoXCIuL2Jyb3dzZXJcIiksbz10KFwiLi9kb21PYmplY3RzXCIpLHM9dChcIi4vZG9tVXRpbHNcIiksYT10KFwiLi9kb21PYmplY3RzXCIpLGM9dChcIi4vaXNcIiksbD10KFwiLi9wb2ludGVyRXh0ZW5kXCIpLHA9e2NvcHlDb29yZHM6ZnVuY3Rpb24odCxlKXt0LnBhZ2U9dC5wYWdlfHx7fSx0LnBhZ2UueD1lLnBhZ2UueCx0LnBhZ2UueT1lLnBhZ2UueSx0LmNsaWVudD10LmNsaWVudHx8e30sdC5jbGllbnQueD1lLmNsaWVudC54LHQuY2xpZW50Lnk9ZS5jbGllbnQueSx0LnRpbWVTdGFtcD1lLnRpbWVTdGFtcH0sc2V0Q29vcmREZWx0YXM6ZnVuY3Rpb24odCxlLG4pe3QucGFnZS54PW4ucGFnZS54LWUucGFnZS54LHQucGFnZS55PW4ucGFnZS55LWUucGFnZS55LHQuY2xpZW50Lng9bi5jbGllbnQueC1lLmNsaWVudC54LHQuY2xpZW50Lnk9bi5jbGllbnQueS1lLmNsaWVudC55LHQudGltZVN0YW1wPW4udGltZVN0YW1wLWUudGltZVN0YW1wO3ZhciBpPU1hdGgubWF4KHQudGltZVN0YW1wLzFlMywuMDAxKTt0LnBhZ2Uuc3BlZWQ9cih0LnBhZ2UueCx0LnBhZ2UueSkvaSx0LnBhZ2Uudng9dC5wYWdlLngvaSx0LnBhZ2Uudnk9dC5wYWdlLnkvaSx0LmNsaWVudC5zcGVlZD1yKHQuY2xpZW50LngsdC5wYWdlLnkpL2ksdC5jbGllbnQudng9dC5jbGllbnQueC9pLHQuY2xpZW50LnZ5PXQuY2xpZW50LnkvaX0saXNOYXRpdmVQb2ludGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygby5FdmVudHx8dCBpbnN0YW5jZW9mIG8uVG91Y2h9LGdldFhZOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbj1ufHx7fSx0PXR8fFwicGFnZVwiLG4ueD1lW3QrXCJYXCJdLG4ueT1lW3QrXCJZXCJdLG59LGdldFBhZ2VYWTpmdW5jdGlvbih0LGUpe3JldHVybiBlPWV8fHt9LGkuaXNPcGVyYU1vYmlsZSYmcC5pc05hdGl2ZVBvaW50ZXIodCk/KHAuZ2V0WFkoXCJzY3JlZW5cIix0LGUpLGUueCs9d2luZG93LnNjcm9sbFgsZS55Kz13aW5kb3cuc2Nyb2xsWSk6cC5nZXRYWShcInBhZ2VcIix0LGUpLGV9LGdldENsaWVudFhZOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZXx8e30saS5pc09wZXJhTW9iaWxlJiZwLmlzTmF0aXZlUG9pbnRlcih0KT9wLmdldFhZKFwic2NyZWVuXCIsdCxlKTpwLmdldFhZKFwiY2xpZW50XCIsdCxlKSxlfSxnZXRQb2ludGVySWQ6ZnVuY3Rpb24odCl7cmV0dXJuIGMubnVtYmVyKHQucG9pbnRlcklkKT90LnBvaW50ZXJJZDp0LmlkZW50aWZpZXJ9LHNldENvb3JkczpmdW5jdGlvbih0LGUsbil7dmFyIHI9ZS5sZW5ndGg+MT9wLnBvaW50ZXJBdmVyYWdlKGUpOmVbMF0saT17fTtwLmdldFBhZ2VYWShyLGkpLHQucGFnZS54PWkueCx0LnBhZ2UueT1pLnkscC5nZXRDbGllbnRYWShyLGkpLHQuY2xpZW50Lng9aS54LHQuY2xpZW50Lnk9aS55LHQudGltZVN0YW1wPWMubnVtYmVyKG4pP246KG5ldyBEYXRlKS5nZXRUaW1lKCl9LHBvaW50ZXJFeHRlbmQ6bCxnZXRUb3VjaFBhaXI6ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIGMuYXJyYXkodCk/KGVbMF09dFswXSxlWzFdPXRbMV0pOlwidG91Y2hlbmRcIj09PXQudHlwZT8xPT09dC50b3VjaGVzLmxlbmd0aD8oZVswXT10LnRvdWNoZXNbMF0sZVsxXT10LmNoYW5nZWRUb3VjaGVzWzBdKTowPT09dC50b3VjaGVzLmxlbmd0aCYmKGVbMF09dC5jaGFuZ2VkVG91Y2hlc1swXSxlWzFdPXQuY2hhbmdlZFRvdWNoZXNbMV0pOihlWzBdPXQudG91Y2hlc1swXSxlWzFdPXQudG91Y2hlc1sxXSksZX0scG9pbnRlckF2ZXJhZ2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXtwYWdlWDowLHBhZ2VZOjAsY2xpZW50WDowLGNsaWVudFk6MCxzY3JlZW5YOjAsc2NyZWVuWTowfSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByO3I9dFtuXTt2YXIgaT1yO2Zvcih2YXIgbyBpbiBlKWVbb10rPWlbb119Zm9yKHZhciBzIGluIGUpZVtzXS89dC5sZW5ndGg7cmV0dXJuIGV9LHRvdWNoQkJveDpmdW5jdGlvbih0KXtpZih0Lmxlbmd0aHx8dC50b3VjaGVzJiZ0LnRvdWNoZXMubGVuZ3RoPjEpe3ZhciBlPXAuZ2V0VG91Y2hQYWlyKHQpLG49TWF0aC5taW4oZVswXS5wYWdlWCxlWzFdLnBhZ2VYKSxyPU1hdGgubWluKGVbMF0ucGFnZVksZVsxXS5wYWdlWSk7cmV0dXJue3g6bix5OnIsbGVmdDpuLHRvcDpyLHdpZHRoOk1hdGgubWF4KGVbMF0ucGFnZVgsZVsxXS5wYWdlWCktbixoZWlnaHQ6TWF0aC5tYXgoZVswXS5wYWdlWSxlWzFdLnBhZ2VZKS1yfX19LHRvdWNoRGlzdGFuY2U6ZnVuY3Rpb24odCxlKXt2YXIgbj1lK1wiWFwiLGk9ZStcIllcIixvPXAuZ2V0VG91Y2hQYWlyKHQpLHM9b1swXVtuXS1vWzFdW25dLGE9b1swXVtpXS1vWzFdW2ldO3JldHVybiByKHMsYSl9LHRvdWNoQW5nbGU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4rXCJYXCIsaT1uK1wiWVwiLG89cC5nZXRUb3VjaFBhaXIodCkscz1vWzFdW3JdLW9bMF1bcl0sYT1vWzFdW2ldLW9bMF1baV07cmV0dXJuIDE4MCpNYXRoLmF0YW4yKGEscykvTWF0aC5QSX0sZ2V0UG9pbnRlclR5cGU6ZnVuY3Rpb24odCl7cmV0dXJuIGMuc3RyaW5nKHQucG9pbnRlclR5cGUpP3QucG9pbnRlclR5cGU6Yy5udW1iZXIodC5wb2ludGVyVHlwZSk/W3ZvaWQgMCx2b2lkIDAsXCJ0b3VjaFwiLFwicGVuXCIsXCJtb3VzZVwiXVt0LnBvaW50ZXJUeXBlXTovdG91Y2gvLnRlc3QodC50eXBlKXx8dCBpbnN0YW5jZW9mIGEuVG91Y2g/XCJ0b3VjaFwiOlwibW91c2VcIn0sZ2V0RXZlbnRUYXJnZXRzOmZ1bmN0aW9uKHQpe3ZhciBlPWMuZnVuY3Rpb24odC5jb21wb3NlZFBhdGgpP3QuY29tcG9zZWRQYXRoKCk6dC5wYXRoO3JldHVybltzLmdldEFjdHVhbEVsZW1lbnQoZT9lWzBdOnQudGFyZ2V0KSxzLmdldEFjdHVhbEVsZW1lbnQodC5jdXJyZW50VGFyZ2V0KV19fTtlLmV4cG9ydHM9cH0se1wiLi9icm93c2VyXCI6MzYsXCIuL2RvbU9iamVjdHNcIjozNyxcIi4vZG9tVXRpbHNcIjozOCxcIi4vaHlwb3RcIjo0MixcIi4vaXNcIjo0NSxcIi4vcG9pbnRlckV4dGVuZFwiOjQ3fV0sNDk6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmb3IodmFyIHI9dChcIi4vd2luZG93XCIpLGk9ci53aW5kb3csbz1bXCJtc1wiLFwibW96XCIsXCJ3ZWJraXRcIixcIm9cIl0scz0wLGE9dm9pZCAwLGM9dm9pZCAwLGw9MDtsPG8ubGVuZ3RoJiYhaS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7bCsrKWE9aVtvW2xdK1wiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdLGM9aVtvW2xdK1wiQ2FuY2VsQW5pbWF0aW9uRnJhbWVcIl18fGlbb1tsXStcIkNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZVwiXTthfHwoYT1mdW5jdGlvbih0KXt2YXIgZT0obmV3IERhdGUpLmdldFRpbWUoKSxuPU1hdGgubWF4KDAsMTYtKGUtcykpLHI9c2V0VGltZW91dChmdW5jdGlvbigpe3QoZStuKX0sbik7cmV0dXJuIHM9ZStuLHJ9KSxjfHwoYz1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodCl9KSxlLmV4cG9ydHM9e3JlcXVlc3Q6YSxjYW5jZWw6Y319LHtcIi4vd2luZG93XCI6NTF9XSw1MDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPXQoXCIuL2V4dGVuZFwiKSxpPXQoXCIuL2lzXCIpLG89dChcIi4vZG9tVXRpbHNcIikscz1vLmNsb3Nlc3QsYT1vLnBhcmVudE5vZGUsYz1vLmdldEVsZW1lbnRSZWN0LGw9e2dldFN0cmluZ09wdGlvblJlc3VsdDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIGkuc3RyaW5nKHQpP3Q9XCJwYXJlbnRcIj09PXQ/YShuKTpcInNlbGZcIj09PXQ/ZS5nZXRSZWN0KG4pOnMobix0KTpudWxsfSxyZXNvbHZlUmVjdExpa2U6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHQ9bC5nZXRTdHJpbmdPcHRpb25SZXN1bHQodCxlLG4pfHx0LGkuZnVuY3Rpb24odCkmJih0PXQuYXBwbHkobnVsbCxyKSksaS5lbGVtZW50KHQpJiYodD1jKHQpKSx0fSxyZWN0VG9YWTpmdW5jdGlvbih0KXtyZXR1cm4gdCYme3g6XCJ4XCJpbiB0P3QueDp0LmxlZnQseTpcInlcImluIHQ/dC55OnQudG9wfX0seHl3aFRvVGxicjpmdW5jdGlvbih0KXtyZXR1cm4hdHx8XCJsZWZ0XCJpbiB0JiZcInRvcFwiaW4gdHx8KHQ9cih7fSx0KSx0LmxlZnQ9dC54fHwwLHQudG9wPXQueXx8MCx0LnJpZ2h0PXQucmlnaHR8fHQubGVmdCt0LndpZHRoLHQuYm90dG9tPXQuYm90dG9tfHx0LnRvcCt0LmhlaWdodCksdH0sdGxiclRvWHl3aDpmdW5jdGlvbih0KXtyZXR1cm4hdHx8XCJ4XCJpbiB0JiZcInlcImluIHR8fCh0PXIoe30sdCksdC54PXQubGVmdHx8MCx0LnRvcD10LnRvcHx8MCx0LndpZHRoPXQud2lkdGh8fHQucmlnaHQtdC54LHQuaGVpZ2h0PXQuaGVpZ2h0fHx0LmJvdHRvbS10LnkpLHR9fTtlLmV4cG9ydHM9bH0se1wiLi9kb21VdGlsc1wiOjM4LFwiLi9leHRlbmRcIjo0MCxcIi4vaXNcIjo0NX1dLDUxOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtpLnJlYWxXaW5kb3c9dDt2YXIgZT10LmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO2Uub3duZXJEb2N1bWVudCE9PXQuZG9jdW1lbnQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQud3JhcCYmdC53cmFwKGUpPT09ZSYmKHQ9dC53cmFwKHQpKSxpLndpbmRvdz10fXZhciBpPWUuZXhwb3J0cyxvPXQoXCIuL2lzV2luZG93XCIpO1widW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/KGkud2luZG93PXZvaWQgMCxpLnJlYWxXaW5kb3c9dm9pZCAwKTpyKHdpbmRvdyksaS5nZXRXaW5kb3c9ZnVuY3Rpb24odCl7aWYobyh0KSlyZXR1cm4gdDt2YXIgZT10Lm93bmVyRG9jdW1lbnR8fHQ7cmV0dXJuIGUuZGVmYXVsdFZpZXd8fGUucGFyZW50V2luZG93fHxpLndpbmRvd30saS5pbml0PXJ9LHtcIi4vaXNXaW5kb3dcIjo0Nn1dfSx7fSxbMV0pKDEpfSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyYWN0Lm1pbi5qcy5tYXBcbiIsIi8vIC0tLSBnbG9iYWwgdmFyaWFibGVzXG5cbnZhciBwYWdlcyA9ICQoJy5wYWdlJyk7XG52YXIgY3JpdGljUG9wdXAgPSAkKCcjY3JpdGljJyk7XG5cbi8vIC0tLSBNLVYtQ1xuXG52YXIgbW9kZWwgPSB7XG5cdC8vIGFsbCBvdXIgc3RhdGVzXG5cdHRpbWVMZWZ0OiA1MDAwLFxuXHRleHBpcmVkOiBmYWxzZSxcblx0aW1hZ2VzOiBbXVxufTtcblxuZnVuY3Rpb24gY29udHJvbGxlcihtb2RlbCwgcGFnZSwgaW5wdXQpIHtcblxuXHQvLyBleHBpcmVkP1xuXHRpZiAobW9kZWwudGltZUxlZnQgPiAwKSB7XG5cdFx0c2hvd1RpbWUobW9kZWwpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdG1vZGVsLmV4cGlyZWQgPSB0cnVlO1xuXHRcdHNob3dFeHBpcmVkKG1vZGVsKTtcblx0XHRub0RyYWcoKTtcblx0fVxuICBcblx0aWYgKGlucHV0ICYmIGlucHV0LmluY2x1ZGVzKFwiZGF0YTppbWFnZVwiKSAmJiBtb2RlbC5leHBpcmVkID09IGZhbHNlKSB7XG5cdFx0XG5cdFx0Ly8gdXBkYXRlIHRoZSBtb2RlbFxuXHRcdG1vZGVsLmltYWdlcy5wdXNoKGlucHV0KTtcblx0XHQvLyBkcm9wIGZpbGVcblx0XHRkcm9wRmlsZShwYWdlLCBpbnB1dCk7XG5cdFx0Ly8gYWRkIGJvbnVzIHRpbWVcblx0XHRhZGR0aW1lKDEwMDAwKTtcblx0XHQvLyBjcml0aWMgc3BlYWtcblx0XHRjcml0aWMoKTtcblxuXHR9IGVsc2UgaWYgKGlucHV0ICYmICFpbnB1dC5pbmNsdWRlcyhcImRhdGE6aW1hZ2VcIikpIHtcblx0XHRcblx0XHRub3RBbkltYWdlKCk7XG5cdFxuXHR9IGVsc2UgaWYgKGlucHV0ICYmIG1vZGVsLmV4cGlyZWQgPT0gdHJ1ZSkge1xuXHRcdFxuXHRcdExhdGVEcm9wRmlsZSgpO1xuXHRcblx0fVxufVxuXG5cbi8vIC0tLSBDT05UUk9MTEVSXG5cbnZhciB4ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cdG1vZGVsLnRpbWVMZWZ0ID0gbW9kZWwudGltZUxlZnQgLSAxMDtcblx0Y29udHJvbGxlcihtb2RlbCk7XG59LCAxMCk7XG5cbmZ1bmN0aW9uIGFkZHRpbWUoYm9udXNUaW1lKSB7XG5cdG1vZGVsLnRpbWVMZWZ0ID0gbW9kZWwudGltZUxlZnQgKyBib251c1RpbWU7XG59XG5cbi8vIGRyb3BGaWxlXG5cbnBhZ2VzLm9uKFwiZHJhZ292ZXJcIiwgZnVuY3Rpb24oZSkge1xuXHRlLnByZXZlbnREZWZhdWx0KCk7XG4gICQodGhpcykuYWRkQ2xhc3MoJ2RyYWdvdmVyJyk7XG59KTtcbnBhZ2VzLm9uKFwiZHJhZ2xlYXZlXCIsIGZ1bmN0aW9uKGUpIHtcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdkcmFnb3ZlcicpO1xufSk7XG5wYWdlcy5vbihcImRyb3BcIiwgZnVuY3Rpb24oZSkge1xuICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdkcmFnb3ZlcicpO1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnNvbGUubG9nKGUpO1xuICB2YXIgZmlsZSA9IGUub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuZmlsZXNbMF0sIFxuICAgICAgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgIHZhciBwYWdlSWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XG4gIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBjb25zb2xlLmxvZyhldmVudC50YXJnZXQpO1xuICAgIGNvbnRyb2xsZXIobW9kZWwsIHBhZ2VJZCwgZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG4gIH07XG4gIGNvbnNvbGUubG9nKGZpbGUpO1xuICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcblxuXHRyZXR1cm4gZmFsc2U7XG59KTtcblxuLy8gcmVtb3ZlIHBpY3R1cmVcbi8vIGFkZCBkZWwgb3B0aW9uXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmNsb3NlJywgZnVuY3Rpb24gKCkge1xuXHR2YXIgcGFnZUlkID0gJCh0aGlzKS5jbG9zZXN0KCcucGFnZScpLmF0dHIoJ2lkJyk7XG5cdGNvbnNvbGUubG9nKHBhZ2VJZCk7XG5cdGNvbnRyb2xsZXIobW9kZWwsIHBhZ2VJZCwgZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG59KTtcblxuLy8gLS0tIFZJRVdcblxuZnVuY3Rpb24gc2hvd1RpbWUobW9kZWwpIHtcblx0c2Vjb25kcyA9IG1vZGVsLnRpbWVMZWZ0IC8gMTAwMDtcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb3VudGVyXCIpLmlubmVySFRNTCA9IHNlY29uZHMudG9GaXhlZCgyKSArIFwiIHNlY29uZHMgbGVmdCFcIjtcbn1cblxuZnVuY3Rpb24gc2hvd0V4cGlyZWQoKSB7XG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY291bnRlclwiKS5pbm5lckhUTUwgPSBcImV4cGlyZWQhXCI7XG5cdCQoJ2JvZHknKS5hZGRDbGFzcygnZXhwaXJlZCcpO1xuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IFxuXHRcdHdpbmRvdy5wcmludCgpOyBcblx0fSwgMTAwMCk7XG5cdGNsZWFySW50ZXJ2YWwoeCk7XG59XG5cbmZ1bmN0aW9uIG5vdEFuSW1hZ2UoKSB7XG5cdGFsZXJ0KCdUaGUgZmlsZSB5b3UgZHJvcHBlZCBpcyBub3QgYW4gaW1hZ2UhJyk7XG59XG5cbmZ1bmN0aW9uIGRyb3BGaWxlKHBhZ2VJZCwgc3JjKSB7XG5cdHZhciBwYWdlRWxlbWVudCA9ICQoXCI8ZGl2PlwiLCB7XCJjbGFzc1wiOiBcInBhZ2UtZWxlbWVudCBkcmFnZ2FibGVcIn0pO1xuXHR2YXIgcGFnZUVsZW1lbnRDb250ZW50ID0gJChcIjxpbWc+XCIsIHtcInNyY1wiOiBzcmN9KTtcblx0dmFyIHBhZ2VFbGVtZW50Q2xvc2UgPSAkKFwiPHNwYW4+XCIsIHtcImNsYXNzXCI6IFwiY2xvc2VcIn0pLnRleHQoJ3gnKTtcblx0cGFnZUVsZW1lbnQuYXBwZW5kKHBhZ2VFbGVtZW50Q29udGVudCwgcGFnZUVsZW1lbnRDbG9zZSk7XG5cdCQoJyMnICsgcGFnZUlkKS5hcHBlbmQocGFnZUVsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBMYXRlRHJvcEZpbGUoc3JjKSB7XG5cdGFsZXJ0KCd0b28gbGF0ZSBicm8nKTtcbn1cblxuZnVuY3Rpb24gbm9EcmFnKCkge1xuXHR2YXIgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRyYWdnYWJsZVwiKTtcbiAgXHRbXS5mb3JFYWNoLmNhbGwoZWxlbXMsIGZ1bmN0aW9uKGVsKSB7XG4gICAgXHRlbC5jbGFzc0xpc3QucmVtb3ZlKFwiZHJhZ2dhYmxlXCIpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JpdGljKCkge1xuXHRjcml0aWNQb3B1cC5pbm5lckhUTUwgPSAnTWFrZSB0aGlzIGltYWdlIGJpZ2dlciBwbHMhJztcbn1cblxuaW50ZXJhY3QoJy5kcmFnZ2FibGUnKVxuXHQuZHJhZ2dhYmxlKHtcblx0XHRvbm1vdmU6IHdpbmRvdy5kcmFnTW92ZUxpc3RlbmVyLFxuXHRcdHJlc3RyaWN0OiB7XG5cdFx0XHRyZXN0cmljdGlvbjogJ3BhcmVudCcsXG5cdFx0XHRlbGVtZW50UmVjdDoge1xuXHRcdFx0XHR0b3A6IDAsXG5cdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdGJvdHRvbTogMSxcblx0XHRcdFx0cmlnaHQ6IDFcblx0XHRcdH1cblx0XHR9LFxuXHR9KVxuXHQucmVzaXphYmxlKHtcblx0XHQvLyByZXNpemUgZnJvbSBhbGwgZWRnZXMgYW5kIGNvcm5lcnNcblx0XHRlZGdlczoge1xuXHRcdFx0bGVmdDogdHJ1ZSxcblx0XHRcdHJpZ2h0OiB0cnVlLFxuXHRcdFx0Ym90dG9tOiB0cnVlLFxuXHRcdFx0dG9wOiB0cnVlXG5cdFx0fSxcblxuXHRcdC8vIGtlZXAgdGhlIGVkZ2VzIGluc2lkZSB0aGUgcGFyZW50XG5cdFx0cmVzdHJpY3RFZGdlczoge1xuXHRcdFx0b3V0ZXI6ICdwYXJlbnQnLFxuXHRcdFx0ZW5kT25seTogdHJ1ZSxcblx0XHR9LFxuXG5cdFx0aW5lcnRpYTogdHJ1ZSxcblx0fSlcblx0Lm9uKCdyZXNpemVtb3ZlJywgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHR2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LFxuXHRcdFx0eCA9IChwYXJzZUZsb2F0KHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEteCcpKSB8fCAwKSxcblx0XHRcdHkgPSAocGFyc2VGbG9hdCh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXknKSkgfHwgMCk7XG5cblx0XHQvLyB1cGRhdGUgdGhlIGVsZW1lbnQncyBzdHlsZVxuXHRcdHRhcmdldC5zdHlsZS53aWR0aCA9IGV2ZW50LnJlY3Qud2lkdGggKyAncHgnO1xuXHRcdHRhcmdldC5zdHlsZS5oZWlnaHQgPSBldmVudC5yZWN0LmhlaWdodCArICdweCc7XG5cblx0XHQvLyB0cmFuc2xhdGUgd2hlbiByZXNpemluZyBmcm9tIHRvcCBvciBsZWZ0IGVkZ2VzXG5cdFx0eCArPSBldmVudC5kZWx0YVJlY3QubGVmdDtcblx0XHR5ICs9IGV2ZW50LmRlbHRhUmVjdC50b3A7XG5cblx0XHR0YXJnZXQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gdGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9XG5cdFx0XHQndHJhbnNsYXRlKCcgKyB4ICsgJ3B4LCcgKyB5ICsgJ3B4KSc7XG5cblx0XHR0YXJnZXQuc2V0QXR0cmlidXRlKCdkYXRhLXgnLCB4KTtcblx0XHR0YXJnZXQuc2V0QXR0cmlidXRlKCdkYXRhLXknLCB5KTtcblx0fSk7XG5cbmZ1bmN0aW9uIGRyYWdNb3ZlTGlzdGVuZXIoZXZlbnQpIHtcblx0dmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldCxcblx0XHQvLyBrZWVwIHRoZSBkcmFnZ2VkIHBvc2l0aW9uIGluIHRoZSBkYXRhLXgvZGF0YS15IGF0dHJpYnV0ZXNcblx0XHR4ID0gKHBhcnNlRmxvYXQodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS14JykpIHx8IDApICsgZXZlbnQuZHgsXG5cdFx0eSA9IChwYXJzZUZsb2F0KHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEteScpKSB8fCAwKSArIGV2ZW50LmR5O1xuXG5cdC8vIHRyYW5zbGF0ZSB0aGUgZWxlbWVudFxuXHR0YXJnZXQuc3R5bGUud2Via2l0VHJhbnNmb3JtID1cblx0XHR0YXJnZXQuc3R5bGUudHJhbnNmb3JtID1cblx0XHQndHJhbnNsYXRlKCcgKyB4ICsgJ3B4LCAnICsgeSArICdweCknO1xuXG5cdC8vIHVwZGF0ZSB0aGUgcG9zaWlvbiBhdHRyaWJ1dGVzXG5cdHRhcmdldC5zZXRBdHRyaWJ1dGUoJ2RhdGEteCcsIHgpO1xuXHR0YXJnZXQuc2V0QXR0cmlidXRlKCdkYXRhLXknLCB5KTtcbn1cblxuLy8gdGhpcyBpcyB1c2VkIGxhdGVyIGluIHRoZSByZXNpemluZyBhbmQgZ2VzdHVyZSBkZW1vc1xud2luZG93LmRyYWdNb3ZlTGlzdGVuZXIgPSBkcmFnTW92ZUxpc3RlbmVyO1xuXG4iXX0=
